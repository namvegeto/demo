"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[80981],{314018:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(860208),o=r(337478);function i(e){var t=e.bubbleId,r=e.pinId,i=e.query,a=e.referringSource,l=e.storyCategory,s=e.storyId,c=e.title,u=[0,24,21,26].includes(l),f=(0,o.Z)({q:i,rs:a||void 0,b_id:t,source_id:s,top_pin_id:r}),p=u&&c?(0,n.x)({title:c,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return u?p:"/search/pins/".concat(f?"?"+f:"")}},67664:function(e,t,r){r.d(t,{A:function(){return l},Z:function(){return s}});var n=r(672652),o=r(684404),i=r(819267);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s(e){var t,r,s,c=e.backgroundColor,u=e.children,f=e.coverImage,p=e.disableTabIndex,d=e.height,h=e.id,y=e.isHovered,b=e.onClick,g=e.onMouseDown,x=e.onMouseEnter,v=e.onMouseLeave,m=e.searchBoxRenderStopwatch,_=e.url,j=e.width,O=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=O[0],P=O[1],S=function(){x?x():P(!0)},T=function(){v?v():P(!1)},R=y||w,C=R?l.hoverOverlay:l.bubbleOverlay;return(0,i.jsx)(o.Tg,{href:_,onBlur:T,onFocus:S,onMouseDown:g,onMouseEnter:S,onMouseLeave:T,onTap:function(){null==b||b(h)},rounding:4,tabIndex:p?-1:void 0,children:(0,i.jsx)(o.zd,{height:d,rounding:4,width:j||"100%",children:null!=f&&f.url?(0,i.jsxs)(o.Ee,{alt:"",color:c,fit:"cover",naturalHeight:null!==(r=f.height)&&void 0!==r?r:1,naturalWidth:null!==(s=f.width)&&void 0!==s?s:1,onLoad:function(){null==m||m.stop()},role:"presentation",src:f.url,children:[(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:C},height:"100%",width:"100%"}),"function"==typeof u?u({isHovered:R}):u]}):(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c}},height:"100%",width:"100%"})})})}},739711:function(e,t,r){r.d(t,{Z:function(){return E}});var n=r(672652),o=r(684404),i=r(107366),a=r(930837),l=r(454514),s=r(140017),c=r(13848),u={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}},f=r(819267);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=x(a);if(t){var n=x(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(g(e=i.call.apply(i,[this].concat(r))),"state",{hovered:!1}),v(g(e),"handleMouseEnter",function(){return e.setState({hovered:!0})}),v(g(e),"handleMouseLeave",function(){return e.setState({hovered:!1})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.backgroundHaloSize,r=e.onClick,n=e.color,i=Object.freeze({height:t,width:t}),a=h({border:0,display:"block",background:"transparent",cursor:"pointer"},u.buttonFocus),l=h(h(h({},u.pog),u.transparent),this.state.hovered?u.transparentHovered:{}),s=h(h({},i),l);return(0,f.jsx)("button",{onClick:function(e){return r&&r({event:e})},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:a,type:"button",children:(0,f.jsx)("div",{style:s,children:(0,f.jsx)(o.xu,{rounding:"circle",children:(0,f.jsx)(o.JO,{accessibilityLabel:"",color:void 0===n?"subtle":n,icon:"flag",size:t/2})})})})}}],y(a.prototype,r),n&&y(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component),j=r(825784);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){A(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M(n.key),n)}}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,r){return(t=M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==O(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(u,e);var t,r,s,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=k(u);if(t){var n=k(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return C(e)}(this,e)});function u(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var e,t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return A(C(e=c.call.apply(c,[this].concat(n))),"state",{showModal:!1,reportType:null}),A(C(e),"handleDismiss",function(){return e.setState({showModal:!1})}),A(C(e),"handleClick",function(){"image"===e.state.reportType?e.reportSuggestionImage():e.reportSuggestionText()}),A(C(e),"reportSuggestionImage",(t=regeneratorRuntime.mark(function t(){var r,n,o,a,l,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=e.props).imgSignature,o=r.reportImage,e.setState({showModal:!1}),t.next=4,(0,i.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:n}});case 4:l=(a=t.sent.resource_response.data).id,s=a.node_id,o({id:l,nodeId:s});case 7:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){S(i,n,o,a,l,"next",e)}function l(e){S(i,n,o,a,l,"throw",e)}a(void 0)})})),A(C(e),"reportSuggestionText",function(){var t=e.props,r=t.handleReport,n=t.toastManagerContext;r&&(r(),n.showToast(function(t){var r=t.hideToast;return(0,f.jsx)(l.ZP,{onHide:r,text:e.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')})}),e.handleDismiss())}),A(C(e),"showModal",function(t){var r=t.event;r.stopPropagation(),r.preventDefault(),e.setState({showModal:!0})}),e}return r=[{key:"render",value:function(){var e=this,t=this.state.showModal;return(0,f.jsxs)(n.Fragment,{children:[this.props.isVisible&&(0,f.jsx)(_,{backgroundHaloSize:24,onClick:this.showModal}),t&&(0,f.jsx)(a.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,f.jsxs)(o.xu,{children:[(0,f.jsx)(o.xu,{padding:5,children:(0,f.jsx)(o.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,f.jsxs)(o.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,f.jsxs)(o.xu,{direction:"column",display:"flex",marginBottom:4,paddingX:5,role:"list",children:[(0,f.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,f.jsx)(o.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:function(){return e.setState({reportType:"text"})},value:"Report search text"}),(0,f.jsx)(o.xu,{flex:"grow",children:(0,f.jsx)(o.__,{htmlFor:"textType",children:(0,f.jsx)(o.xu,{paddingX:2,children:(0,f.jsx)(o.xv,{children:"Report search text"})})})})]}),(0,f.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,f.jsx)(o.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:function(){return e.setState({reportType:"image"})},value:"Report search image"}),(0,f.jsx)(o.xu,{flex:"grow",children:(0,f.jsx)(o.__,{htmlFor:"imageType",children:(0,f.jsx)(o.xu,{paddingX:2,children:(0,f.jsx)(o.xv,{children:"Report search image"})})})})]})]}),(0,f.jsx)(o.iz,{}),(0,f.jsxs)(o.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,f.jsx)(o.xu,{margin:2,children:(0,f.jsx)(o.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,f.jsx)(o.xu,{margin:2,children:(0,f.jsx)(o.zx,{color:"red",disabled:!this.state.reportType,fullWidth:!0,onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion')})})]})]})]})})]})}}],T(u.prototype,r),s&&T(u,s),Object.defineProperty(u,"prototype",{writable:!1}),u}(n.PureComponent);function E(e){var t=(0,s.ZP)(),r=(0,j.f)().reportImage;return(0,f.jsx)(D,P(P({},e),{},{i18n:t,reportImage:r,toastManagerContext:(0,c.F9)()}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/80981-c296e5d9fbbe689b.js.map
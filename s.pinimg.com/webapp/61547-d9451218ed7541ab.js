"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[61547],{761547:function(e,t,n){n.d(t,{Z:function(){return G}});var i=n(672652),r=n(780277),o=n(684404),s=n(587703),a=n(869801),l=n(41005),c=n(661257),p=n(94149),h=n(958399),u=n(892878),d=n(406693),f=n(329395),_=n(847069),g=n(454514),v=n(140017),b=n(340370),y=n(776427),x=n(5859),j=n(191313),m=n(623409),k=n(13848),A=n(554786),C=n(353453),w=n(80263),P=n(434108),S=n(953565),O=n(819267);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){B(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){n(e);return}a.done?t(l):Promise.resolve(l).then(i,r)}function L(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function N(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Z(i.key),i)}}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,n){return(t=Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==T(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}var V=String(86),U=function(e){var t=e.text;return(0,O.jsx)(o.xv,{align:"center",size:"100",children:t})},W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(m,e);var t,r,s,v,b,x=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=R(m);if(t){var i=R(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return E(e)}(this,e)});function m(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,m);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return B(E(e=x.call.apply(x,[this].concat(n))),"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),B(E(e),"setClipboard",function(t){var n=e.state,i=n.Clipboard,r=n.invitePath;(0,w.sF)(r,i,t,e.showCopyToast)}),B(E(e),"showCopyToast",function(){var t,n,i,r;e.logShareClick(12),e.setNewAppOrder(12),null===(t=(n=e.props).onShare)||void 0===t||t.call(n),e.props.showToast(function(t){var n=t.hideToast;return(0,O.jsx)(g.ZP,{onHide:n,text:e.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard')})}),null===(i=(r=e.props).setShareSent)||void 0===i||i.call(r,!0),e.props.trackInteraction({action:"click",item:"copy-link-share-icon"})}),B(E(e),"getDefaultAppOrder",function(){var t=e.props,n=t.country,i=t.isDesktop;return(0,w.pW)({country:n,isDesktop:i,shouldShowNativeShare:!!navigator.share})}),B(E(e),"getAppOrder",function(){var t=e.props,n=t.isDesktop,i=t.showFixedRows,r=JSON.parse((0,j.qn)(P.B));return!r||n?e.getDefaultAppOrder():(r=L(r.filter(function(e){return 11!==e&&12!==e})),i?r.unshift(12):r.push(12),navigator.share&&r.push(11),r)}),B(E(e),"setNewAppOrder",function(t){e.props.isDesktop||P.F6.has(t)||(0,j.Nh)(P.B,JSON.stringify([t].concat(L(e.getAppOrder().filter(function(e){return e!==t})))))}),B(E(e),"handleMessagingAppClick",function(t){var n,i,r,o;null===(n=(i=e.props).onShare)||void 0===n||n.call(i),null===(r=(o=e.props).setShareSent)||void 0===r||r.call(o,!0),e.logShareClick(t),e.setFreshInviteCode(t),P.rO.has(t)||(0,j.Nh)(P.Cq,t),e.setNewAppOrder(t)}),B(E(e),"handleMessengerClick",function(){e.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),e.handleMessagingAppClick(6)}),B(E(e),"handleTwitterClick",function(){e.props.trackInteraction({action:"click",item:"twitter-share-icon"}),e.handleMessagingAppClick(9)}),B(E(e),"handleWhatsappClick",function(){e.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),e.handleMessagingAppClick(10)}),B(E(e),"handleLineClick",function(){e.handleMessagingAppClick(8)}),B(E(e),"handleTelegramClick",function(){e.handleMessagingAppClick(20)}),B(E(e),"handleViberClick",function(){e.handleMessagingAppClick(22)}),B(E(e),"handleEmailClick",function(){e.handleMessagingAppClick(3),e.props.trackInteraction({action:"click",item:"email-share-button"})}),B(E(e),"handleFacebookClick",function(){null===(t=(n=e.props).onShare)||void 0===t||t.call(n),null===(i=(r=e.props).setShareSent)||void 0===i||i.call(r,!0),e.props.trackInteraction({action:"click",item:"facebook-share-icon"}),e.logShareClick(5);var t,n,i,r,o=e.state,s=o.inviteCode,a=o.invitePath,l=o.fbLoaded;(0,w.Rh)(l,a,s||""),e.setFreshInviteCode(5),e.setNewAppOrder(5)}),B(E(e),"handleSmsClick",function(){e.handleMessagingAppClick(4)}),B(E(e),"logShareClick",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.inviteCode,i=e.props,r=i.objectId,o=i.objectType,s=i.component,a=i.clientTrackingParams,l=i.logContextEvent,c=i.viewType,p=i.viewParameter,h=i.socialShareComponent;(0,w.Iz)({inviteChannel:t,inviteCode:n,objectId:r,objectType:o,component:s,clientTrackingParams:a,logContextEvent:l,view_type:c,view_parameter:p,socialShareComponent:h})}),B(E(e),"copyButtonRef",null),B(E(e),"renderAppsInCustomOrder",function(t){var n=t.Email,r=t.Facebook,o=t.FBMessenger,s=t.Line,a=t.WhatsApp,l=t.Twitter,c=t.Viber,p=t.Telegram,h=t.CopyLink,u=t.Sms,d=t.ShareVia,f=e.getAppOrder(),_=new Map([[6,o],[10,a],[5,r],[9,l],[3,n],[8,s],[20,p],[22,c],[4,u],[12,h],[11,d]]);return(0,O.jsx)(i.Fragment,{children:f.map(function(e){return(0,O.jsxs)(i.Fragment,{children:[" ",_.get(e)]},e)})})}),B(E(e),"onHandleRepinSave",function(t){var n,i,r=t.event;null===(n=(i=e.props).onSave)||void 0===n||n.call(i),e.props.onNavigation({event:r})}),e}return v=[{key:"componentDidMount",value:function(){var e=this;this.setFreshInviteCode(12),(0,y.we)(this.props.locale).then(function(){e.setState({fbLoaded:!0})}),n.e(6527).then(n.t.bind(n,34564,23)).then(function(t){var n=t.default;n.isSupported()&&(e.setState({Clipboard:n}),e.setClipboard(e.copyButtonRef))})}},{key:"componentDidUpdate",value:function(e){e.objectId!==this.props.objectId&&this.setFreshInviteCode(12)}},{key:"setFreshInviteCode",value:(r=regeneratorRuntime.mark(function e(t){var n,i,r,o,s,a,l,c,p,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(n=this.props).objectId,r=n.objectType,o=n.fetchFreshInviteCode,e.next=3,o(t,i,r);case 3:a=(s=e.sent).invitePath,l=s.inviteCode,c=s.title,p=s.message,h={},a&&(h.invitePath=a),l&&(h.inviteCode=l),c&&(h.inviteTitle=c),p&&(h.inviteMessage=p),this.setState(h);case 14:case"end":return e.stop()}},e,this)}),s=function(){var e=this,t=arguments;return new Promise(function(n,i){var o=r.apply(e,t);function s(e){D(o,n,i,s,a,"next",e)}function a(e){D(o,n,i,s,a,"throw",e)}s(void 0)})},function(e){return s.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.isDesktop,i=t.objectType,r=t.onSave,s=t.showSaveOption,g=t.isAppleDevice,v=t.shouldShowVerticalContacts,b=t.showFixedRows,y=this.state,x=y.invitePath,j=y.inviteMessage,m=y.inviteTitle,k=(0,w.tA)({invitePath:x,inviteTitle:m,objectType:i,i18n:this.props.i18n,isDesktop:n}),A=k.emailShareLink,C=k.messengerShareLink,P=k.twitterShareLink,T=k.whatsappShareLink,z=k.lineShareLink,M=k.telegramShareLink,D=k.viberShareLink,L=k.smsShareLink,I=function(e){var t=e.children;return(0,O.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:n||b?"".concat(V,"px"):"100%",children:(0,O.jsx)(o.xu,{marginBottom:b?2:0,children:t})})},N=function(e){var t=e.children;return(0,O.jsx)(o.xu,{display:"flex",justifyContent:"center",marginBottom:1,paddingX:3,children:t})},F=(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.xu,{"data-test-id":"fbmessenger-share-icon",children:(0,O.jsx)(o.Tg,{href:C,onTap:function(t){(0,t.dangerouslyDisableOnNavigation)(),e.handleMessengerClick()},rel:"nofollow",rounding:"circle",children:(0,O.jsx)(h.Z,{size:56})})})}),(0,O.jsx)(U,{text:this.props.i18n._('Messenger', 'shareMenu.icon.label.messenger', 'Facebook Messenger App')})]}),E=(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.xu,{"data-test-id":"whatsapp-share-icon",children:(0,O.jsx)(o.Tg,{href:T,onTap:function(t){(0,t.dangerouslyDisableOnNavigation)(),e.handleWhatsappClick()},rel:"nofollow",rounding:"circle",children:(0,O.jsx)(f.Z,{size:56})})})}),(0,O.jsx)(U,{text:this.props.i18n._('WhatsApp', 'shareMenu.icon.label.whatsapp', 'WhatsApp App')})]}),R=(0,O.jsx)(o.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.rU,{href:"#",onClick:function(t){var n=t.event,i=t.dangerouslyDisableOnNavigation;n.preventDefault(),i(),e.handleFacebookClick()},children:(0,O.jsx)(l.Z,{size:56})})}),(0,O.jsx)(U,{text:this.props.i18n._('Facebook', 'shareMenu.icon.label.facebook', 'Facebook App')})]})}),B=(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.xu,{"data-test-id":"twitter-share-icon",children:(0,O.jsx)(o.Tg,{href:P,onTap:function(t){(0,t.dangerouslyDisableOnNavigation)(),e.handleTwitterClick()},rel:"nofollow",rounding:"circle",children:(0,O.jsx)(_.Z,{size:56})})})}),(0,O.jsx)(U,{text:this.props.i18n._('X', 'shareMenu.icon.label.twitter', 'Twitter App')})]}),Z=(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.Tg,{href:z,onTap:function(t){(0,t.dangerouslyDisableOnNavigation)(),e.handleLineClick()},rel:"nofollow",rounding:"circle",children:(0,O.jsx)(p.Z,{size:56})})}),(0,O.jsx)(U,{text:this.props.i18n._('Line', 'shareMenu.icon.label.line', 'Line App')})]}),W=(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.Tg,{href:D,onTap:function(t){(0,t.dangerouslyDisableOnNavigation)(),e.handleViberClick()},rel:"nofollow",rounding:"circle",children:(0,O.jsx)(d.Z,{size:56})})}),(0,O.jsx)(U,{text:this.props.i18n._('Viber', 'shareMenu.icon.label.viber', 'Viber App')})]}),G=(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.Tg,{href:M,onTap:function(t){(0,t.dangerouslyDisableOnNavigation)(),e.handleTelegramClick()},rel:"nofollow",rounding:"circle",children:(0,O.jsx)(u.Z,{size:56})})}),(0,O.jsx)(U,{text:this.props.i18n._('Telegram', 'shareMenu.icon.label.telegram', 'Telegram App')})]}),H=(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.I_,{accessibilityLabel:this.props.i18n._('Share by email', 'AllShareOptions.IconButton.email.accessibilityLabel', 'Accessibility label for email icon button'),bgColor:"lightGray",dataTestId:"email-share-button",href:A,icon:"gmail",onClick:function(t){var n=t.dangerouslyDisableOnNavigation;n&&n(),e.handleEmailClick()},rel:"nofollow",size:"xl",target:"blank"})}),(0,O.jsx)(U,{text:this.props.i18n._('Email', 'shareMenu.icon.label.email', 'Email App')})]}),X=(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.Tg,{href:"#",onTap:function(t){var n,i,r=t.event,o=t.dangerouslyDisableOnNavigation;r.preventDefault(),null===(n=(i=e.props).onShare)||void 0===n||n.call(i),o();var s=j.indexOf("https://");navigator.share&&navigator.share({url:x,text:s>0?j.slice(0,s):j,title:m}).then(function(){e.handleMessagingAppClick(11),(0,S.nP)("allshareoptions_navigator_share.success",{sampleRate:1})}).catch(function(e){(0,S.nP)("allshareoptions_navigator_share.error",{sampleRate:1,tags:{name:e.name,message:e.message}})})},rel:"nofollow",rounding:"circle",target:"blank",children:(0,O.jsx)(o.xu,{height:56,children:(0,O.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Native share sheet icon', 'shareMenu.icon.accessibilityLabel.native_share_sheet', 'Accessibility label for native share sheet icon'),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,O.jsx)(U,{text:this.props.i18n._('Share via', 'shareMenu.icon.label.share_via', 'Share via label')})]}),q=(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.Tg,{href:L,onTap:function(t){(0,t.dangerouslyDisableOnNavigation)(),e.handleSmsClick()},rel:"nofollow",rounding:"circle",children:g?(0,O.jsx)(c.Z,{size:56}):(0,O.jsx)(o.xu,{"data-test-id":"message-share-button",children:(0,O.jsx)(a.Z,{size:56})})})}),(0,O.jsx)(U,{text:this.props.i18n._('Message', 'shareMenu.icon.label.message', 'Message App')})]}),J=(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:n?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:56,children:(0,O.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Link icon', 'shareMenu.icon.accessibilityLabel.copy', 'Accessibility label for copy link icon'),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,O.jsx)(U,{text:this.props.i18n._('Copy link', 'shareMenu.icon.label.copy', 'Copy link icon')})]});return(0,O.jsxs)(o.xu,{children:[(0,O.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,O.jsxs)(o.xu,{column:b?3:void 0,direction:b?"row":void 0,display:"flex",height:n&&!b?200:"100%",justifyContent:"start",marginBottom:-2,marginTop:v?-2:void 0,overflow:n||b?void 0:"scrollX",paddingX:1,paddingY:2,width:n&&!b?370:"100%",wrap:b||n,children:[s&&r&&(0,O.jsxs)(I,{children:[(0,O.jsx)(N,{children:(0,O.jsx)(o.iP,{onTap:e.onHandleRepinSave,rounding:"circle",children:(0,O.jsx)(o.Sj,{bgColor:"red",icon:"save-outline",size:"xl"})})}),(0,O.jsx)(U,{text:e.props.i18n._('Save', 'shareMenu.icon.label.save', 'Save')})]}),this.renderAppsInCustomOrder({Email:H,Facebook:R,FBMessenger:F,Line:Z,WhatsApp:E,Twitter:B,Viber:W,Telegram:G,CopyLink:J,Sms:q,ShareVia:X})]})}),(0,O.jsx)(o.xu,{height:b?32:16})]})}}],N(m.prototype,v),b&&N(m,b),Object.defineProperty(m,"prototype",{writable:!1}),m}(i.PureComponent);function G(e){var t=(0,v.ZP)(),n=(0,A.HG)(),i=(0,k.F9)().showToast,o=(0,x.B)(),a=o.country,l=o.locale,c=(0,b.Z)({href:{pathname:"/pin/".concat(e.objectId,"/repin"),state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),p=(0,r.useSelector)(function(e){return e.session.userAgentPlatform}),h=p===C.RL||p===C.s4,u=(0,s.Z)(),d=(0,m.Z)(),f=(0,w.D3)();return(0,O.jsx)(W,M(M({},e),{},{country:a,fetchFreshInviteCode:f,i18n:t,isAppleDevice:h,isDesktop:n,locale:l,logContextEvent:u,onNavigation:c,showToast:i,trackInteraction:d}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/61547-d9451218ed7541ab.js.map
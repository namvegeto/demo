"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9776],{87748:function(e,t,i){i.d(t,{Z:function(){return s}});var r=i(181056),n=i(131348),o=i(819267);function s(e){var t=e.aspectRatio,i=e.controls,s=e.loop,a=e.isAutoPlay,l=e.playing,u=e.playsInline,c=e.poster,d=e.src,h=e.volume,p=e.setPlaying,f=e.setVolume;return(0,o.jsx)(n.default,{aspectRatio:t,captions:"",controls:i,hlsConfig:{startLevel:r.VS},isAutoPlay:a,loop:s,onControlsPause:function(){return p(!1)},onControlsPlay:function(){return p(!0)},onPlay:function(){},onPlayError:function(){},onVolumeChange:function(e){var t=e.event,i=e.volume;t.stopPropagation(),f&&f(i)},playing:l,playsInline:u,poster:c,src:d,volume:h})}},311754:function(e,t,i){i.d(t,{Z:function(){return l}});var r=i(684404),n=i(140017),o=i(72461),s=i(873955),a=i(819267);function l(e){var t=e.users,i=e.userCount,l=e.closeupSize,u=(0,n.ZP)(),c=u.getLocaleData().locale,d=(0,o.Z)()(c,i,{shortform:!0,shortform_maximum_fraction_digits:1}),h=t.map(function(e){return{name:e.username,src:e.image_medium_url}}),p=(0,s.Z)(u.ngettext('{{ userCount }} person is attending', '{{ userCount }} people are attending', i, 'liveSession.sessionPin.userCount', 'Attending count for session pin'),{userCount:d});return 0===i?null:(0,a.jsx)(r.xu,{margin:4,children:(0,a.jsx)(r.kC,{justifyContent:"MOBILE_SMALL"===l?"center":"start",children:(0,a.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},children:[(0,a.jsx)(r.HE,{accessibilityLabel:"",collaborators:h,size:"sm"}),(0,a.jsx)(r.xv,{size:"MOBILE_SMALL"===l?"100":"300",children:p})]})})})}},521846:function(e,t,i){i.d(t,{Z:function(){return y}});var r=i(672652),n=i(412116),o=i(684404),s=i(140017),a=i(5859),l=i(608516),u=i(736561),c=i(818568),d=i(846571),h=i(820821),p=i(118923),f=i(832853),v=i(819267),m=(0,n.ZP)({resolved:{},chunkName:function(){return"app-packages-tv-EpisodeIVSPlayerLiveStream"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:function(){return Promise.all([i.e(29027),i.e(32035)]).then(i.bind(i,683663))},requireAsync:function(e){var t=this,i=this.resolve(e);return this.resolved[i]=!1,this.importAsync(e).then(function(e){return t.resolved[i]=!0,e})},requireSync:function(e){return i(this.resolve(e))},resolve:function(){return 683663}}),g=(0,f.Z)(function(){return Promise.all([i.e(29027),i.e(32035)]).then(i.bind(i,683663))},void 0,"lazyComponent_app_packages_tv_EpisodeIVSPlayerLiveStream");function y(e){var t=e.closeupSize,i=e.creatorClass,n=e.creatorClassInstance,f=e.videoWidth,y=e.videoHeight,_=(0,s.ZP)(),x=(0,p.b)(),b=i.livestream,j=n.hero_images,S=b.playback_url,A=(0,a.B)().userAgent.browserName,L=t===u.$J.MOBILE_SMALL||t===u.$J.MOBILE_LARGE,C=_._('Live', 'liveSession.badge.liveNow', 'A label indicating event is live now.');return"Safari"!==A?(0,v.jsxs)(o.xu,{height:y,overflow:"hidden",width:f,children:[(0,v.jsx)(l.Z,{children:x?(0,v.jsx)(g,{coverImageUrl:j["624x"].url,playbackUrl:S}):(0,v.jsx)(m,{coverImageUrl:j["624x"].url,playbackUrl:S})}),!L&&(0,v.jsx)(o.xu,{padding:d.t.closeup,position:"absolute",top:!0,children:(0,v.jsx)(c.Z,{isLive:!0,text:C})})]}):(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(h.Z,{autoplay:!0,bgImgUrl:j["624x"].url,format:h.k.CLOSEUP,height:y,video:{height:y,thumbnail:j["624x"].url,url:S,width:f,duration:18e5},width:f}),!L&&(0,v.jsx)(o.xu,{padding:d.t.closeup,position:"absolute",top:!0,children:(0,v.jsx)(c.Z,{isLive:!0,text:C})})]})}},741326:function(e,t,i){i.d(t,{Z:function(){return G}});var r=i(672652),n=i(328038),o=i(684404),s=i(549629),a=i(213377),l=i(901855),u=i(579814),c=i(995917),d=i(207229),h=i(103322),p=i(736561),f=i(819267);function v(e){var t=e.video,i=e.description,r=e.closeupSize,n=e.containerHeight,s=e.descriptionContainerWidth,a=e.descriptionContainerHeight,l=e.visualContainerWidth,u=e.visualContainerHeight,c=e.isVerticalLayout;return(0,f.jsx)(h.Z,{name:"EpisodeCloseupBodyLayout",children:(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"rgba(0, 0, 0, 0.1) 0px 1px 20px 0px"}},height:c?"auto":n,marginBottom:8,marginTop:r===p.$J.SMALL?2:4,rounding:r===p.$J.SMALL?4:8,children:(0,f.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},direction:c?"column":"row",display:"flex",height:"inherit",rounding:r===p.$J.SMALL?4:8,children:[(0,f.jsx)(o.xu,{"data-test-id":"visual-content-container",height:u,position:"relative",rounding:r===p.$J.SMALL?4:8,width:l,children:t}),(0,f.jsx)(o.xu,{"data-test-id":"description-content-container",direction:"column",display:"flex",height:c?"auto":a,justifyContent:"between",paddingX:8,paddingY:r===p.$J.SMALL?4:8,width:c?l:s,children:i})]})})})}var m=i(140017),g=i(339001),y=i(608516),_=i(311754),x=i(432970),b=i(69347),j=i(151784),S=i(149722);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=Array(t);i<t;i++)r[i]=e[i];return r}var L=(0,r.lazy)(function(){return Promise.all([i.e(32311),i.e(75582)]).then(i.bind(i,575582))}),C=(0,r.lazy)(function(){return Promise.all([i.e(93810),i.e(79782)]).then(i.bind(i,156561))}),P=(0,r.lazy)(function(){return i.e(75721).then(i.bind(i,475795))});function w(e){var t,i,n,s,a,l=e.creatorCard,u=e.saveButton,c=e.pinData,d=e.isVerticalLayout,v=e.closeupSize,w=e.hasProducts,I=(0,m.ZP)(),Z=(0,S.Z)().isAuth,z=c.creator_class,M=c.creator_class_instance,E=c.id,O=z.creator,D=z.subscriber_count,T=z.subscribers,V=M.id,k=M.starts_at,U=M.title,B=M.pinsub_topic.id,H=M.chat_enabled,$=M.is_sponsored,J=O.full_name,W=O.username,N=D+((0,(0,x.iH)().getSubscription)(E)?1:0),F=(0,b.Zz)(M),R=(0,b.fN)(M),G=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,o,s,a=[],l=!0,u=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=o.call(i)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(u)throw n}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return A(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),K=G[0],X=G[1],q=(0,f.jsx)(h.Z,{name:"SafeSuspense_PinTV_SecondarySendButton",children:(0,f.jsx)(y.Z,{children:(0,f.jsx)(o.xu,{children:(0,f.jsx)(P,{controllerOptions:{flyoutDisplayOptions:{shownWithinProfileHeader:!0},isFlyoutOpen:K,loggingOptions:{component:14175,element:12016,viewParameter:3584,viewType:494},onFlyoutDismiss:function(){X(!1)},onToggleFlyout:function(){X(!K)},sendObject:{type:"pin",description:c.description||"",id:E,imageUrl:(null===(i=c.images)||void 0===i?void 0:null===(n=i.orig)||void 0===n?void 0:n.url)||"",url:"/pin/".concat(E,"/")}}})})})}),Q={description:c.description||"",id:c.id,imageUrl:null===(s=c.images)||void 0===s?void 0:null===(a=s.orig)||void 0===a?void 0:a.url,name:"",type:c.type,url:"/tv/".concat(E)},Y=(0,f.jsx)(h.Z,{name:"SafeSuspense_PinTV_CopyLinkButton",children:(0,f.jsx)(y.Z,{children:(0,f.jsx)(C,{backgroundColor:"white",iconColor:"darkGray",iconSize:48,isCloseupActionBar:!0,sharedObject:Q,viewParameter:3584,viewType:494},"copylink")})}),ee=(0,j.p6)(k);return(0,f.jsxs)(r.Fragment,{children:[(0,f.jsxs)(o.xu,{children:[(0,f.jsxs)(o.xu,{display:"flex",justifyContent:"between",marginBottom:4,children:[(0,f.jsxs)(o.kC,{children:[q,Y]}),u]}),J&&(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xv,{size:v===p.$J.SMALL?"200":"300",children:(0,g.nk)(I._('Live with {{ fullName }}', 'episodeCloseupDescription.closeup.livewith', 'Indicate who the live session is with'),{fullName:W?(0,f.jsx)(o.rU,{display:"inlineBlock",href:"/".concat(W),underline:"hover",children:J},""):J})})}),(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.X6,{accessibilityLevel:1,size:v===p.$J.SMALL?"500":"600",children:U})}),($||null==$&&w)&&(0,f.jsx)(o.xu,{marginTop:1,children:(0,f.jsx)(o.xv,{size:v===p.$J.SMALL?"200":"300",children:(0,g.nk)(I._('{{promotionalDisclosure}}', 'episodeCloseupDescription.closeup.promotionalDisclosure', 'promotionalDisclosure: text disclosure if episode contains sponsored content.'),{promotionalDisclosure:p.Dm})})}),(0,f.jsx)(o.xu,{marginTop:1,children:(0,f.jsxs)(o.xv,{size:v===p.$J.SMALL?"200":"300",children:[ee.date," ",ee.time]})}),(0,f.jsx)(o.xu,{marginTop:2,children:l})]}),R&&!d&&H&&Z&&(0,f.jsx)(h.Z,{name:"SafeSuspense_PinterestTV_Comments",children:(0,f.jsx)(y.Z,{children:(0,f.jsx)(L,{creator:O,episodeId:V,height:500,pinsubTopicId:B})})}),N>0&&F&&(0,f.jsx)(_.Z,{closeupSize:v,userCount:N,users:T})]})}var I=i(521846),Z=i(818568),z=i(506323),M=i(844935),E=i(846571),O=i(820821),D=(0,r.lazy)(function(){return Promise.all([i.e(32311),i.e(75582)]).then(i.bind(i,575582))});function T(e){var t,i=e.pinData,n=e.isVerticalLayout,s=e.visualContainerWidth,a=e.visualContainerHeight,l=e.closeupSize,u=i.creator_class,c=i.creator_class_instance,d=i.id,p=u.creator,v=u.id,g=c.id,_=c.title,j=c.pinsub_topic.id,A=c.hero_images,L=c.chat_enabled,C=A["624x"],P=C.url,w=C.width,T=C.height,V=(0,b.Zz)(c),k=(0,b.fN)(c),U=(0,b.oi)(c),B=(0,m.ZP)(),H=(0,S.Z)().isAuth,$=(0,x.iH)().setVolume;return(0,r.useEffect)(function(){$(1)},[]),k&&u.livestream?t=(0,f.jsx)(o.xu,{height:"inherit",rounding:4,children:(0,f.jsx)(I.Z,{closeupSize:l,creatorClass:u,creatorClassInstance:c,videoHeight:a,videoWidth:s})}):U?t=function(){var e=c.replay_video||c.preview_video||{};if(!e)return null;var t=(e.video_list||{}).V_HLSV4,i=c.replay_video?B._('Previously live', 'episodeVideoContent.badge.previouslyLive', 'A label indicating live event happened in the past'):B._('Processing video', 'episodeVideoContent.badge.processingVideo', 'A label indicating a video is currently being processed');return(0,f.jsxs)(r.Fragment,{children:[t?(0,f.jsx)(O.Z,{autoplay:!0,bgImgUrl:P,controls:!0,format:O.k.CLOSEUP,height:a,video:t,width:s}):(0,f.jsx)(o.zd,{height:a,rounding:3,wash:!0,width:s,children:(0,f.jsx)(o.Ee,{alt:_,color:"gray",fit:"cover",naturalHeight:T,naturalWidth:w,src:P})}),(0,f.jsx)(o.xu,{padding:E.t.closeup,position:"absolute",top:!0,children:(0,f.jsx)(Z.Z,{text:i})})]})}():V&&(t=(0,f.jsx)(E.Z,{creatorClass:u,creatorClassInstance:c,height:a,pinId:d,variant:"closeup",width:s})),(0,f.jsxs)(o.xu,{children:[t,!(U||k)&&(0,f.jsx)(o.xu,{bottom:k,position:"absolute",right:!0,top:!k,children:(0,f.jsx)(z.Z,{size:"lg"})}),V&&!n&&(0,f.jsx)(o.xu,{bottom:!0,display:"flex",justifyContent:"center",marginBottom:8,position:"absolute",width:"100%",children:(0,f.jsx)(M.Z,{color:"white",componentType:200,creatorClassId:v,pinId:d,size:"lg",viewParameterType:3582,viewType:1})}),k&&n&&L&&H&&(0,f.jsx)(h.Z,{name:"SafeSuspense_PinterestTV_Comments",children:(0,f.jsx)(y.Z,{children:(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{bottom:24}},paddingX:6,position:"absolute",width:"100%",children:(0,f.jsx)(D,{color:"inverse",creator:p,episodeId:g,height:232,pinsubTopicId:j,variant:"overlay"})})})})]})}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,o,s,a=[],l=!0,u=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=o.call(i)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(u)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return k(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=Array(t);i<t;i++)r[i]=e[i];return r}var U={SMALL:670,MEDIUM:1050},B=16/9,H=function(e){return e<U.SMALL?p.$J.SMALL:e<U.MEDIUM?p.$J.MEDIUM:p.$J.LARGE};function $(e){var t=e.pinData,i=e.creatorCard,n=e.hasProducts,o=e.saveButton,s=(0,d.Z)()||{width:1100,height:680},a=s.width,l=s.height,u=V((0,r.useState)(a<=1e3),2),c=u[0],h=u[1],m=function(e){return e===p.$J.SMALL?527:e===p.$J.MEDIUM?l-150:903},g=V((0,r.useState)(H(l)),2),y=g[0],_=g[1],x=V((0,r.useState)(m(y)),2),b=x[0],j=x[1],S=V((0,r.useState)(b),2),A=S[0],L=S[1],C=V((0,r.useState)(A/B),2),P=C[0],I=C[1],Z=V((0,r.useState)(b),2),z=Z[0],M=Z[1],E=V((0,r.useState)(z/B),2),O=E[0],D=E[1],k=V((0,r.useState)(b),2),U=k[0],$=k[1];return(0,r.useEffect)(function(){_(H(l)),j(m(y)),L(b),I(A/B),M(b),z<903?D(500):D(z/B),$(b),h(a<=1e3)},[l,a,y,b,A,z]),(0,f.jsx)(v,{closeupSize:y,containerHeight:U,description:(0,f.jsx)(w,{closeupSize:y,creatorCard:i,hasProducts:n,isVerticalLayout:c,pinData:t,saveButton:o}),descriptionContainerHeight:z,descriptionContainerWidth:O,isVerticalLayout:c,video:(0,f.jsx)(T,{closeupSize:y,isVerticalLayout:c,pinData:t,visualContainerHeight:A,visualContainerWidth:P}),visualContainerHeight:A,visualContainerWidth:P})}var J=i(197928),W=i(881624),N=i(494125);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=Array(t);i<t;i++)r[i]=e[i];return r}var R={creator_class_instance:{}};function G(e){var t,i=e.showSignup,d=void 0===i?function(){}:i,h=e.renderTvVideo,v=e.renderCreatorCard,m=e.renderBackButton,g=e.renderSaveButton,y=e.hasProducts,_=e.productGrid,b=e.pin,A=(0,S.Z)(),L=(0,n.TH)().search,C=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,n,o,s,a=[],l=!0,u=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=o.call(i)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,n=e}finally{try{if(!l&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(u)throw n}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return F(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),P=C[0],w=C[1],I=parseInt(new URLSearchParams(L).get("referrer")||"0",10),Z=(0,n.UO)().pin_id,z=(b||R).creator_class_instance,M=(0,x.xs)({}),E=M.getSubscription,O=M.setSubscription,D=M.activePinId,T=M.setActivePinId,V=M.volume,k=M.setVolume,U=0!==(0,l.Hv)().previous.length,B=b?(0,j.ZP)(b):{classId:""};(0,r.useEffect)(function(){b&&E(b.id)===p.d0.UNKNOWN&&O(b.id,b.creator_class.is_viewing_user_subscribed)},[b,E,O]),(0,r.useEffect)(function(){Z&&T(Z)},[Z,T]);var H=B.postLive?3647:B.isLive?3646:3645;(0,N.Z)(u.Z),(0,s.Q)({view_type:494,view_parameter:H,object_id_str:Z,aux_data:{referrer:I}}),(0,r.useEffect)(function(){setTimeout(function(){return w(!0)},700)},[]);var G=(0,c.Z)(P&&z&&z.id?{name:"ApiResource",options:{url:"/v3/classes/feeds/drawer/",data:{fields:W.L,page_size:p.Ff,referrer:I,creator_class_instance:z&&z.id}}}:null),K=G.data;(0,r.useEffect)(function(){G.data&&G.data.forEach(function(e){"story"===e.type&&"upcoming_creator_classes"===e.story_type&&e.objects.forEach(function(e){O(e.id,e.creator_class.is_viewing_user_subscribed)})})},[G]);var X=(0,r.useMemo)(function(){return{activePinId:D,getSubscription:E,gridGutterWidth:p.Md,gridItemHeight:p.Rp*a.yF,gridItemWidth:a.yF,referrer:I,setActivePinId:T,setSubscription:O,showSignup:d,setVolume:k,volume:V,renderTvVideo:h}},[D,E,I,T,O,d,k,V,h]);return B.classId?(0,f.jsxs)(x.J1,{value:X,children:[m({hasPreviousHistory:U,viewType:494,viewParameter:H}),(0,f.jsxs)(o.kC,{alignItems:"center",direction:"column",children:[b?(0,f.jsx)($,{creatorCard:v({pin:b,viewer:A,viewParameter:H,viewType:494}),hasProducts:y,pinData:b,saveButton:g()}):null,_,K&&(0,f.jsx)(J.Z,{feedData:K,loadItems:function(){G.isFetching||G.isAtEnd||G.fetchMore()}})]})]}):null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/9776-5a29ce560af83559.js.map
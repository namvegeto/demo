(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[39333,31076,80203,86546,26267],{340723:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheckQuery_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},a],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c881f56582aebd78b7f3f625abfe959aa6d034bcd97439d6b4224d46c1c5f8cc",metadata:{},name:"AlreadyPinnedCheckQuery",operationKind:"query",text:null}};l.hash="bbb62c6d56086b286c3b53ed5e2cff4f",t.default=l,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(l.default||l)},410661:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="6bb1a587f71f85424aa51845831862d4",t.default=r},308322:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheck_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="3caf9424c2af74d2b11a6ea682b57d1b",t.default=r},786903:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"Pin",abstractKey:null};r.hash="18c3db3fbed169f50cffd214f66ddd8e",t.default=r},245160:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPickerList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="9041421a7b1a95b65a4914a15ed0db79",t.default=r},569483:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPicker_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="76215b7b40cb02e76b77e58c8765d0d1",t.default=r},7209:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardTitleSuggestionList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:r,storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};o.hash="56ef15525cc9a2e668228985788e038e",t.default=o},580986:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardsPane_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPicker_pin"}],type:"Pin",abstractKey:null};r.hash="56f620fbd63abf8f7cb32f9a378198f8",t.default=r},438143:function(e,t,n){"use strict";n.r(t);var r,o,i=(o=[r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],type:"AdvisoryAction",abstractKey:null});i.hash="6ddea2ecd3dff2e1001c1e4d037cc858",t.default=i},173477:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};r.hash="5879c4710b107f258f42156bf3e47e37",t.default=r},997473:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};r.hash="4970946a36017d9ad0c751fd70cc512c",t.default=r},798824:function(e,t,n){"use strict";n.r(t);var r,o,i,a=(o=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],i=[r],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[r,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});a.hash="53d7eec34666980eda011429185b5b10",t.default=a},775793:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCreateCreatorCard",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"User",abstractKey:null};r.hash="b4d4b866bb99587a83f9c07c2d76f473",t.default=r},960909:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l,c={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"PinCreateSuccessQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinCreateSuccessQuery_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"PinCreateSuccessQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},l],storageKey:null},l],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"d37a62552993e3bb6d7936d6cfb2776083bce460be609595d75b67fc31e3aa33",metadata:{},name:"PinCreateSuccessQuery",operationKind:"query",text:null}};c.hash="a235cfa70f84227417924b4cb93aab10",t.default=c,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(c.default||c)},550366:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCreateSuccessQuery_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinCreateCreatorCard"}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};o.hash="b5914e2a9376d4e19331be8b7c6d5e4e",t.default=o},109500:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheck_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="d928a4e793c8e81567357b1faa71d2e3",t.default=r},450634:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:r,storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null}]}],type:"Pin",abstractKey:null};o.hash="8d1f6c9767c839853483fc823d7c7e07",t.default=o},738258:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardsPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_pin"}],type:"Pin",abstractKey:null};r.hash="616d5be8fea6092b51f23b548a1a5dca",t.default=r},77256:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinAddSection_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};o.hash="b3ec14d29962e56f80dd52e7e6d7a6d9",t.default=o},43607:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinBoardPicker_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPickerList_pin"},{args:null,kind:"FragmentSpread",name:"BoardTitleSuggestionList_pin"}],type:"Pin",abstractKey:null};o.hash="c58f35d70fea0965bfcee8460bc7f26c",t.default=o},709140:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinCreateBoardButton_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null}],type:"Pin",abstractKey:null};o.hash="1612c2df94f42990b3d4f6ccede72a70",t.default=o},560173:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l,c,s,u=(r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],o=[{kind:"Variable",name:"pin",variableName:"pinId"}],a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{fragment:{argumentDefinitions:r,kind:"Fragment",metadata:null,name:"RepinPageQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"RepinPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"RepinPageQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},a,{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c,a,l],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},c],storageKey:null},c],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"5a97da7db33ecb029c084b6f9a2f3136bc7b7107362a683fdb397e687852be5c",metadata:{},name:"RepinPageQuery",operationKind:"query",text:null}});u.hash="d3e1e4d941555ea10fa16343ceeace98",t.default=u,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(u.default||u)},870893:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"RepinAddSection_pin"},{args:null,kind:"FragmentSpread",name:"RepinBoardPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinSectionPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinCreateBoardButton_pin"}],type:"Pin",abstractKey:null};o.hash="35e162363eabdf0e12cf1765bc77d39b",t.default=o},35934:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinSectionPicker_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};o.hash="5523c7a500b0a1ef33d7041d66d4c7e2",t.default=o},329638:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveContentNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{args:null,kind:"FragmentSpread",name:"DefaultNotice_advisoryNotice"},{args:null,kind:"FragmentSpread",name:"LegoNotice_advisoryNotice"}],storageKey:null}],type:"Sensitivity",abstractKey:null};r.hash="d12a0ef89312e2429f28a098a2536c8a",t.default=r},733935:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l,c={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,concreteType:"BoardTitleSuggestions",kind:"LinkedField",name:"boardTitleSuggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},l],storageKey:null}]},params:{id:"0bc9194565339eb122f7cb6b1d5e725f87ffaa6eb7902cc6cb99123110ca9260",metadata:{},name:"useFetchBoardTitleSuggestionsQuery",operationKind:"query",text:null}};c.hash="916a5869ddd0c416de3fc6f310e60323",t.default=c,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(c.default||c)},916737:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/repin/x"]=function(){return n(818133).Z}},231199:function(e,t,n){"use strict";n.d(t,{X_:function(){return l},Xo:function(){return f},Xv:function(){return d},fW:function(){return p},h_:function(){return u},vF:function(){return s}});var r=n(953565);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var a=function(e,t){var n="client.partner.quick_promote_button.".concat(e);(0,r.nP)(n,{sampleRate:1,tags:{app_type:"web",location:t}})},l=function(e){e&&e.utm_campaign&&(0,r.nP)("client.partner.account.convert_attempt.utm_campaign.exists",{sampleRate:1,tags:e})},c=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;a({event_type:e,component:t,element:10148,view_type:n,aux_data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r)})},s=function(e,t,n,r,o,i){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};a(t,n),c(r,o,i,l,e)},u=function(e){e({event_type:8217})},d=function(){(0,r.nP)("client.partner.biz_nux_v3.nux_start",{sampleRate:1,tags:{app_type:"web"}})},f=function(){(0,r.nP)("client.partner.biz_nux_v3.nux_end",{sampleRate:1,tags:{app_type:"web"}})},p=function(e){var t="client.partner.biz_nux_v3.render.".concat(e);(0,r.nP)(t,{sampleRate:1,tags:{app_type:"web"}})}},810174:function(e,t,n){"use strict";n.d(t,{Z:function(){return ee}});var r,o,i=n(672652);n(42279);var a=n(328038),l=n(684404),c=n(231199),s=n(477458),u=n(819267);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function h(e){var t=e.accessibilityLabel,n=e.buttonColor,r=e.buttonText,o=e.handleClick,i=e.icon;return(0,u.jsx)(s.q,{children:function(e){var a=e.active,c=e.focused,s=e.hovered,d=e.onBlur,f=e.onFocus,h=e.onMouseDown,m=e.onMouseEnter,b=e.onMouseLeave,v=e.onMouseUp,g={borderRadius:24};return s&&(g=p(p({},g),{},{backgroundColor:"primary"===n?"rgb(216,0,33)":"rgb(226, 226, 226)"})),a&&(g=p(p({},g),{},{backgroundColor:"primary"===n?"rgb(207,0,31)":"rgb(218, 218, 218)"})),c&&(g=p(p({},g),y)),(0,u.jsx)("button",{"aria-label":t,onBlur:d,onClick:o,onFocus:f,onMouseDown:h,onMouseEnter:m,onMouseLeave:b,onMouseUp:v,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},children:(0,u.jsx)(l.xu,{color:n,dangerouslySetInlineStyle:{__style:g},rounding:2,children:(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",minHeight:40,children:["share"===i&&(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(l.JO,{accessibilityLabel:"",color:"default",icon:"share",size:18}),(0,u.jsx)(l.xu,{paddingX:3})]}),(0,u.jsx)(l.xv,{align:"center",color:"primary"===n?"light":"default",weight:"bold",children:r})]})})})}})}var m=n(899378),b=n(214877),v=n(207012),g=n(673500),_=n(140017),P=n(339001),x=n(340523),S=n(995917),j=n(149722),w=n(785059),O=n(199677),k=n(478381),I=n(465615),E=n(540363),A=n(751279);function T(e){var t=e.color,n=e.description,r=e.imageUrl,o=e.link;return(0,u.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:!r&&t&&o?(0,u.jsx)(l.xu,{width:236,children:(0,u.jsx)(A.Z,{color:t,description:n,url:o})}):(0,u.jsx)(l.zd,{rounding:2,width:236,children:(0,u.jsx)("img",{alt:n,src:r})})})}var C=n(217006),R=n(156591);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function z(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===D(t)?t:String(t)}var Z={width:"100%"},M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(a,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=L(a);if(t){var r=L(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return z(e)}(this,e)});function a(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var e,t,n,r,l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return t=z(e=o.call.apply(o,[this].concat(c))),n="videoRef",r=(0,i.createRef)(),(n=N(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return n=[{key:"componentDidMount",value:function(){var e=this.props.video;this.videoRef.current&&(this.videoRef.current.currentTime=e.thumbnail)}},{key:"render",value:function(){var e=this.props.video,t=(0,C.Z)(e.customCoverImg||e,236);return(0,u.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:(0,u.jsxs)(l.xu,{height:t,position:"relative",rounding:2,width:236,children:[(0,u.jsx)(l.zd,{height:"100%",rounding:2,wash:!0,width:"100%",children:e.customCoverImg?(0,u.jsx)(l.Ee,{alt:e.customCoverImg.name,naturalHeight:e.customCoverImg.height,naturalWidth:e.customCoverImg.width,src:e.customCoverImg.src}):(0,u.jsx)("video",{ref:this.videoRef,muted:!0,src:e.src,style:Z,children:(0,u.jsx)("track",{kind:"captions"})})}),(0,u.jsx)(l.xu,{alignItems:"end",bottom:!0,display:"flex",justifyContent:"start",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,u.jsx)(R.Z,{duration:1e3*e.duration})})]})})}}],B(a.prototype,n),r&&B(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(i.Component);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=W(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==K(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===K(t)?t:String(t)}function q(e,t){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=V(i);if(t){var r=V(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return n=[{key:"renderPinCreateSuccessImage",value:function(){var e=this.props,t=e.color,n=e.description,r=e.imageUrl,o=e.link,i=e.websiteMedia;return i&&i.length>1?(0,u.jsx)(l.xu,{maxHeight:540,overflow:"scrollY",padding:8,children:(0,u.jsx)(l.Rk,{columnWidth:160,items:i,minCols:3,renderItem:function(e){var t=e.data;return(0,u.jsx)(T,{description:n,imageUrl:t.src})}})}):(0,u.jsx)(T,{color:t,description:n,imageUrl:r,link:o})}},{key:"render",value:function(){var e=this.props.relatedBoard;if(!e.isLoaded)return(0,u.jsx)(l.xu,{minHeight:250,children:(0,u.jsx)(l.$j,{accessibilityLabel:this.props.i18n._('See suggested board', 'suggested board to follow after pinnning', 'suggested board to follow after pinnning'),show:!0})});if(e.data&&!e.data.length){var t=this.props.video;return(0,u.jsx)(l.xu,{marginTop:-8,paddingY:8,children:t?(0,u.jsx)(M,{video:t}):this.renderPinCreateSuccessImage()})}return null}}],G(i.prototype,n),r&&G(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(i.PureComponent);function Q(e){var t=(0,_.ZP)(),n=(0,j.Z)(),r=(0,w.Z)(),o=(0,O.lJ)(n,r),i=(0,S.Z)({name:"RelatedBoardForPinRandomFeedResource",options:{page_size:1,pin:e.pinId,orbac_subject_id:o},noCache:!0});return(0,u.jsx)(Y,H(H({},e),{},{i18n:t,relatedBoard:i}))}var $=n(953565),X=void 0!==r?r:r=n(550366),J=void 0!==o?o:o=n(960909);function ee(e){var t=e.boardName,n=e.color,r=e.description,o=e.hideHeader,s=e.imageUrl,d=e.link,f=e.onClose,p=e.openNewTab,y=e.isQuickPromotableByPinner,A=e.pinId,T=e.sectionName,C=e.siteType,R=e.video,D=e.websiteMedia,B=(0,_.ZP)(),F=(0,b.v)().logContextEvent,z=(0,a.k6)(),L=(0,j.Z)(),N=(0,w.Z)(),Z=(0,O.lJ)(L,N),M=(0,(0,x.F)().checkExperiment)("web_pdm_pin_success_create_gql").anyEnabled,K=(0,g.Z)({strategy:M?"GRAPHQL":"LEGACY",query:J,variables:{pinId:A},options:{fetchPolicy:"store-or-network"},transformGraphQL:function(e){var t;return(null===(t=e.v3GetPinQuery)||void 0===t?void 0:t.__typename)==="V3GetPin"?e.v3GetPinQuery.data:null},useGetLegacyData:function(e){var t=e.pinId;return(0,S.Z)({name:"PinResource",options:{id:t,field_set_key:"detailed",orbac_subject_id:Z}}).data}}),U=(0,v.Z)(X,K),H=function(){return y&&3!==C&&(0,m.su)(L)};(0,i.useEffect)(function(){H()?((0,c.vF)(F,k.NH.RENDER,k.Xc.PIN_CREATE_SUCCESS_PINNER,120,207),(0,$.nP)("web.pin_create.success.promote")):(0,$.nP)("web.pin_create.success.send"),(0,$.nP)("web.pin_create.success.default")},[]);var G=(0,I.Z)({currentSiteType:C,destinationSiteType:0,inputPath:"/pin/".concat(A)}),W=T?(0,P.nk)(B._('Saved to {{ sectionName }} in {{ boardName }}', ' - ', ' -- '),{boardName:t,sectionName:T}):(0,P.nk)(B._('Saved to {{ boardName }}', ' - ', ' -- '),{boardName:t}),q=U&&U.linkDomain&&U.linkDomain.officialUser,V=L.isAuth&&q&&q.entityId!==L.id&&!q.followedByMe;return(0,u.jsx)(l.xu,{"data-test-id":"saved-pin-modal",minWidth:500,children:(0,u.jsxs)(l.xu,{color:"default",rounding:2,width:"auto",children:[o?null:(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(l.xu,{paddingX:6,paddingY:4,children:(0,u.jsx)(l.X6,{size:"500",children:W})}),(0,u.jsx)(l.iz,{})]}),!!q&&V&&(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(l.xu,{paddingX:6,paddingY:3,children:(0,u.jsx)(E.Z,{userKey:q})}),(0,u.jsx)(l.iz,{})]}),(0,u.jsx)(Q,{color:n,description:void 0===r?"":r,imageUrl:s,link:d,pinId:A,video:R,websiteMedia:D}),(0,u.jsx)(l.iz,{}),(0,u.jsx)(l.xu,{paddingX:6,paddingY:2,children:(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[!H()&&(0,u.jsx)(h,{accessibilityLabel:B._('Send', 'Accessible label for button to send this pin', 'Accessible label for button to send this pin'),buttonColor:"secondary",buttonText:B._('Send', 'Text for button to send this pin', 'Text for button to send this pin'),handleClick:function(){z.push("/pin/".concat(A,"/?share=true"))},icon:"share",tabIndex:0}),(0,u.jsx)(l.xu,{"data-test-id":"seeItNow",paddingX:1,children:(0,u.jsx)(l.ZP,{color:L.isAuth&&L.isPartner||H()?"gray":"red",dataTestId:L.isAuth&&L.isPartner||H()?"gray-button-link":"red-button-link",href:G,onClick:function(){(0,c.vF)(F,k.NH.DISMISS,k.Xc.PIN_CREATE_SUCCESS_PINNER,123,207),f()},target:p?"blank":null,text:B._('See it now', 'pinCreateSuccess.seeItNow', 'Text for button that takes user to see their new Pin')})}),H()&&(0,u.jsx)(l.xu,{paddingX:1,children:(0,u.jsx)(l.zx,{color:"red",onClick:function(){(0,c.vF)(F,k.NH.CLICK,k.Xc.PIN_CREATE_SUCCESS_PINNER,101,207),(0,m.Pw)({history:z,pinId:A}),f()},text:B._('Promote your Pin', 'Text for button to that takes users to promote a Pin', 'Text for button to that takes users to promote a Pin')})})]})})]})})}},901855:function(e,t,n){"use strict";n.d(t,{Hv:function(){return h},aX:function(){return v},nK:function(){return g}});var r=n(672652),o=n(328038),i=n(342513),a=n(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=(0,i.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),y=p.Provider,h=p.useHook,m=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function b(e,t){var n,r={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&m(e.forward[0].location)===m(r.location))return f(f({},e),{},{forward:e.forward.slice(1),current:f(f({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(c(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});return f(f({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(c(e.forward)):e.forward,current:f(f({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return f(f({},e),{},{forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[].concat(c(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return f(f({},e),{},{current:r});default:return e}}function v(){var e=h(),t=e.current,n=e.previous;return(0,r.useMemo)(function(){return t?n.concat(t):n},[t,n])}function g(e){var t,n=e.children,i=(0,o.k6)(),l=(0,o.TH)(),c=(0,o.$B)(),u={forward:[],current:{action:i.action,location:l,match:c},previous:[]},d=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(b,u))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||s(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],p=d[1];return(0,r.useEffect)(function(){p({type:i.action,location:l,match:c})},[l]),(0,a.jsx)(y,{value:f,children:n})}},704666:function(e,t,n){"use strict";var r=n(934378),o=n(88682);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},s=function(e){var t={};return e&&(t={objectiveTypes:[e]}),t},u={overview:function(){return"/"},reporting:function(e){var t=e.objectiveType||null;delete e.objectiveType;var n=l(l({},e),s(t));return(0,o.Z)("/reporting/campaigns/",n)},reportingAdGroup:function(e){var t=e.campaignId,n=e.objectiveType,r=e.showAllEntities,i=e.adGroupId,a=e.message,u=l(l(l(l({campaignIds:[t]},r?c:{}),s(n)),i?{adGroupIds:[i]}:{}),{},{message:a});return(0,o.Z)("/reporting/adgroups/",u)},campaign:function(e){var t=e.id,n=e.objectiveType;return(0,o.Z)("/reporting/adgroups/",l({campaignIds:[t]},s(n)))},editCampaign:function(e){return e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({campaignId:e.id,view:"campaign"})},adgroup:function(e){var t=e.id,n=e.objectiveType,r=e.showAllEntities,i=e.pinPromotionId,a=e.campaignId;if("TEMPORARY_SHOPPING"===n||"CATALOG_SALES"===n)return(0,o.Z)("/reporting/productgroups/",l({adGroupIds:[t]},s(n)));var u=r?c:{},d=a?{campaignIds:[a]}:{},f=i?{pinPromotionIds:[i]}:{};return(0,o.Z)("/reporting/ads/",l(l(l(l({adGroupIds:[t]},s(n)),u),f),d))},editAdGroup:function(e){return e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({adGroupId:e.id,view:"adgroup"})},pinPromotion:function(e){var t=e.id,n=e.adFilter,r=n?{adFilter:n}:{};return(0,o.Z)("/reporting/ads/",l({pinPromotionIds:[t]},r))},editPinPromotion:function(e){var t=e.isCreatingPins?{isCreatingPins:!0}:{},n=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return u.editV2(l(l({adGroupId:e.adGroupId,view:"ad"},n),t))},productGroup:function(e){var t=e.id,n=e.name;return(0,o.Z)("/reporting/productgroups/",{productGroupIds:[t],name:n})},campaigns:function(){return"/reporting/campaigns/"},adgroups:function(){return"/reporting/adgroups/"},ads:function(){return"/reporting/ads/"},bulkEdit:function(e){var t=e.entity_level,n=e.ids;return(0,o.Z)("/ads/bulk_edit/",{entity_level:t,ids:n})},productgroups:function(){return"/reporting/productgroups/"},productitems:function(){return"/reporting/productitems/"},campaignNegativeKeywords:function(){return"/reporting/campaignNegativeKeywords/"},campaignSearchQueries:function(){return"/reporting/campaignSearchQueries/"},adGroupNegativeKeywords:function(){return"/reporting/adGroupNegativeKeywords/"},adGroupPositiveKeywords:function(){return"/reporting/adGroupPositiveKeywords/"},adGroupSearchQueries:function(){return"/reporting/adGroupSearchQueries/"},ad:function(e){return u.pinPromotion(e)},campaignMode:function(e){return(0,o.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)},create:function(e){var t=e.campaignId,n=e.objectiveType,r=e.partialCreate,i=e.catalogsFeedId,a=e.managedClientId,l=e.catalogId,c=e.productGroupId,s=e.resumeLastDraft,u={};return t&&r&&(u.campaignId=t),n&&(u.objectiveType=n),"CATALOG_SALES"===n&&i&&(u.catalogsFeedId=i),l&&(u.catalogId=l),c&&(u.productGroupId=c),a&&(u.managedClientId=a),s&&(u.resumeLastDraft=!0),(0,o.Z)("/ads/create/",u)},createAutomated:function(e){return(0,o.Z)("/automated/ads/create/",e)},editV2:function(e){return(0,o.Z)("/ads/edit/",e)},editAutomated:function(e){return(0,o.Z)("/automated/ads/edit/",e)},editDraftCampaign:function(e){return(0,o.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"})},duplicateCampaign:function(e){return(0,o.Z)("/ads/duplicate/",e)},audiences:function(e){return(0,o.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)},audience_debug:function(){return"/audience_debug/"},prepaid_spend_campaign_breakdown:function(){return"/billing/prepaid_spend_campaign_breakdown/"},billing:function(e){var t=e.page,n=e.subSection,i=e.nextStepUrl;switch(t){case r.kM.BILLING_HISTORY:return"/billing/history/";case r.kM.ORDER_LINES:return"/billing/order_lines/";case r.kM.PROMOTIONS:return"/billing/promotions/";case r.kM.DOCUMENTS:return"/billing/documents/";case r.kM.TAX_DOCUMENTS:return"/billing/tax_documents/";case r.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:var a={};return n&&(a.section=n),i&&(a.next_step_link_url=i),(0,o.Z)("/billing/",a)}},bulk:function(e){var t=e||{},n=t.subSection,i=t.page,a=t.jobStarted;switch(i){case r.fm.UPLOAD_TEMPLATE:return(0,o.Z)("/bulk_editor/upload_template/",{section:n});case r.fm.DOWNLOAD_TEMPLATE:return(0,o.Z)("/bulk_editor/download_template/",{section:n});case r.fm.HISTORY:return(0,o.Z)("/bulk_editor/history/",{section:n,job_started:a});case r.fm.RESOURCES:return(0,o.Z)("/bulk_editor/resources/",{section:n});default:return"/bulk_editor/"}},history:function(e){return(0,o.Z)("/history/",e)},shopping:function(e){return u.reporting(s("TEMPORARY_SHOPPING"))},pinterest_tag:function(e){var t=e.page,n=e.subSection,i=e.platform,a=e.source,c=e.origin;switch(t){case r.qp.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:return"/conversions/events-overview/";case r.qp.PINTEREST_EVENT_HISTORY:if(a)return(0,o.Z)("/conversions/event-history/",{source:a});return"/conversions/event-history/";case r.qp.CONVERSION_HEALTH:return"/conversions/health/";case r.qp.PINTEREST_TEST_EVENTS:return(0,o.Z)("/conversions/test-events/",{subPage:n,platform:i});case r.qp.PINTEREST_TAG:return(0,o.Z)("/conversions/tag/",{subPage:n,platform:i});case r.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:if(i)return(0,o.Z)("/conversions/tag_manual_setup/",l(l({},{platform:i}),{source:a}));return"/conversions/tag_manual_setup/";case r.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case r.qp.CONVERSION_UPLOAD:return(0,o.Z)("/conversions/upload/",{subPage:n});case r.qp.UPLOAD_HISTORY:return(0,o.Z)("/conversions/history/",{subPage:n});case r.qp.PCA_UPLOAD_HISTORY:return(0,o.Z)("/conversions/pca_history/",{subPage:n});case r.qp.PCA_UPLOAD:return(0,o.Z)("/conversions/pca_upload/",{subPage:n});case r.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:if(a||c)return(0,o.Z)("/conversions/api_manual_setup/",l(l({},{source:a}),{origin:c}));return"/conversions/api_manual_setup/";case r.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:if(a||c)return(0,o.Z)("/conversions/api_partner_setup/",l(l({},{source:a}),{origin:c}));return"/conversions/api_partner_setup/";case r.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case r.qp.PINTEREST_SETUP_API:return"/conversions/setup-api/";case r.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";case r.qp.PAYLOAD_HELPER:return"/conversions/payload-helper/";case r.qp.CONVERSIONS:return"/conversions/";case r.qp.NOCODE_CONVERSIONS_API_SETUP_FLOW:return"/conversions/nocode_api_setup/";case r.qp.PINTEREST_EVENT_HISTORY_CAPI_TAB:return"/conversions/event-history/#apiForConversions";case r.qp.PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:return"/conversions/events-overview/#apiForConversions";default:return"/conversions/tag/"}},"pin-builder":function(e){return(0,o.Z)("/pin-builder/",e)},purchases:function(){return u.reporting(s("PURCHASE"))},awareness_reserved:function(){return u.reporting(s("IMPRESSION"))},engagement:function(){return u.reporting(s("BILLABLE_ENGAGEMENT"))},videos:function(){return u.reporting(s("TEMPORARY_BIDDED_CPM_VIDEO"))},videos_reserved:function(){return u.reporting(s("TEMPORARY_IMPRESSION_VIDEO"))},videos_cpv:function(){return u.reporting(s("TEMPORARY_MRC_CPV_VIDEO"))},conversions:function(){return u.reporting(s("WEB_CONVERSION"))},accounts_manager:function(){return"/accounts_manager/"},reporting_preferences:function(e){return(0,o.Z)("/reporting/preferences/",e)},report_builder:function(e){return(0,o.Z)("/report-center/builder/",e)},report_history:function(e){return(0,o.Z)("/report-center/history/",e)},report_unsubscribe:function(e){return(0,o.Z)("/report-center/unsubscribe/",e)},report_download:function(e){return(0,o.Z)("/report-center/download/",e)},awareness:function(){return u.reporting(s("AWARENESS"))},traffic:function(){return u.reporting(s("TRAFFIC"))},app_installs:function(){return u.reporting(s("APP_INSTALL"))},catalog_sales:function(){return u.reporting(s("CATALOG_SALES"))},web_conversion:function(){return u.reporting(s("WEB_CONVERSION"))},video_view:function(){return u.reporting(s("VIDEO_VIEW"))},quick_promote:function(e){return(0,o.Z)("/quick-promote/",e)},quick_promote_on_www:function(){return"/advertiser/quick-promote/"},recommendations:function(e){return(0,o.Z)("/recommendations/",e)},catalog_view:function(){return"/product-catalogs/data-source"},campaign_insights:function(e){return"/campaign-insights/".concat(e.campaignId,"/")},product_group_reporting:function(e){return"/campaign-insights/".concat(e.campaignId,"/product-group/").concat(e.productGroupId)},media_planner:function(e){return(0,o.Z)("/media_planner/",e)}};t.Z=u},831076:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(704666),o=n(702497),i=n(885896);function a(e,t,n){if(!r.Z[e])throw Error("unknown url key: ".concat(e));n||(n={});var a,l,c=r.Z[e](n),s=(l=null,(a=n)&&(l=a.advertiserId||null),!l&&t&&(l=t.id),l),u=!!n.absolutify;return"string"==typeof s&&(c="/advertiser/"+s+c),u&&(c=(0,i.Z)(c,void 0,o.KUo)),c}},850895:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(702497),o=n(139655);function i(e,t){var n="";if(e&&(n=e,t)){var i=(0,o.Z)(e,!0),a="/advertiser/",l=i.hostname;(null===l||l===r.KUo)&&(e.startsWith(r.auO)&&(e=e.replace(r.auO,"")),n=e.startsWith(a)?e:a+t+e)}return n}},107991:function(e,t,n){"use strict";n.d(t,{t:function(){return h},Z:function(){return b}});var r=n(684404),o=n(672652),i=n(406893),a=n(819267),l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",c=function(e){for(var t=[],n=Math.floor(3*Math.random()+1),r=0;r<n-1;r+=1){var o=Math.floor(Math.random()*(e.length-1)+1);t.push(o)}t.sort(function(e,t){return e-t});for(var i=[],a=0,l=0;l<t.length;l+=1)i.push(e.slice(a,t[l])),a=t[l];return i.push(e.slice(a)),[].concat(i)};function s(e){var t=e.children,n=(0,o.useMemo)(function(){return c(t.replace("  "," ")).map(function(e){return{className:[,,,,,].fill().map(function(){return l[Math.floor(Math.random()*l.length)]}).join(""),content:e}})},[t]);return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(i.Z,{unsafeCSS:n.map(function(e){var t=e.className,n=e.content;return".".concat(t," { display: inline; overflow-wrap: unset; } .").concat(t,':before { content: "').concat(n,'"; font-weight: 600;  }')}).join(" ")}),n.map(function(e){var t=e.className;return(0,a.jsx)("div",{className:t},t)})]})}var u=n(340523),d=n(5859),f=n(149722),p=function(){var e,t=(0,f.Z)(),n=null!==(e=(0,(0,u.F)().checkExperiment)("web_obfuscate_ads_with_global_css").group.split("_")[3])&&void 0!==e?e:"op";return"".concat(n).concat(t.isAuth?t.id:"unauth")},y=function(){return(0,a.jsx)("div",{className:p()})},h=function(){var e=(0,u.F)().checkExperiment,t=p();return e("web_obfuscate_ads_with_global_css").anyEnabled?(0,a.jsx)(i.Z,{unsafeCSS:".".concat(t,':before { content: "Promoted by"; font-weight: 600;  }')}):null};function m(e){var t=e.children;return(0,(0,u.F)().checkExperiment)("web_obfuscate_ads_with_global_css").anyEnabled?(0,a.jsx)(y,{}):(0,a.jsx)(s,{children:t})}function b(e){var t=e.children,n=e.color,o=e.lineClamp,i=e.size,l=e.underline,c=e.weight,s=(0,d.B)().isAuthenticated&&"Promoted by"===t;return(0,a.jsx)(r.xv,{color:n,lineClamp:o,size:i,title:s?void 0:t,underline:l,weight:c,children:s?(0,a.jsx)(m,{children:t}):t})}},86785:function(e,t,n){"use strict";n.d(t,{G6:function(){return i},i7:function(){return a},oi:function(){return r},u$:function(){return o},un:function(){return c},vU:function(){return l}});var r=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=function(e){return e?e.includes("Chrome")?r.CHROME:e.includes("Safari")?r.SAFARI:e.includes("Firefox")?r.FIREFOX:e.includes("Opera")?r.OPERA:e.includes("IE")?r.IE:e.includes("Edge")?r.EDGE:r.OTHER:r.OTHER};function i(e){return o(e)===r.SAFARI}function a(e){return o(e)===r.CHROME}function l(e){return o(e)===r.FIREFOX}function c(e){return o(e)===r.EDGE}},899378:function(e,t,n){"use strict";n.d(t,{Fl:function(){return c},Pw:function(){return d},QG:function(){return y},dl:function(){return l},k3:function(){return f},su:function(){return p},tW:function(){return s}});var r=n(422210),o=n(588664),i=n(624797),a=["AT","AU","BE","BR","CA","CH","CY","CZ","DE","DK","ES","FI","FR","GB","GR","HU","IE","IT","LU","MT","MX","NL","NO","NZ","PT","RO","SE","SK","US"],l=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","MX","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US","AR","CO","CL","JP"],c=function(e){return a.includes(e.toUpperCase())},s=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),u=function(e,t){var n=(0,i.ru)("/business/convert",{next:t});e.push(n)},d=function(e){var t;u(e.history,(t=e.pinId)?"/advertiser/quick_promote?pinId=".concat(t):"/advertiser/quick_promote")},f=function(e){var t=e.trim().split(" ").filter(function(e){return!!e});return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},p=function(e){return e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,r.Z)(e.createdAt)},y=function(e,t){return!(e.includes("SHOPIFY")||t.includes("Shopify")||e.includes("WOO_COMMERCE")||t.includes("WooCommerce"))}},798580:function(e,t,n){"use strict";var r=n(624797),o=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,i=function(e,t){return t?e.substring(t.length).split("/")[0]:e},a=function(e){var t,n=e.boardUrl,a=e.path,l=e.pinId,c=e.pinnerUserName,s=e.search,u=e.storyPinDataId;if(!a)return"";switch(a){case"/":case"/homefeed/":return"UserHomefeedResource";case c&&"/".concat(c,"/pins/"):return"UserPinsResource";case c&&"/".concat(c,"/"):case/\/_activity\//.test(a)&&a:return"UserActivityPinsResource";case/\/_created\//.test(a)&&a:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(a)&&a:return"UserDiscoveredPinsResource";case/\/_saved\//.test(a)&&a:return"BoardlessPinsResource";case c&&"/".concat(c,"/_shopping_list/"):return"ShoppingListFeedResource";case/\/visual-search\//.test(a)&&a:return"VisualLiveSearchResource";case/\/pin\//.test(a)&&a:var d=i(a,"/pin/");if(l!==d)return"RelatedPinFeedResource_".concat(d);break;case/\/search\//.test(a)&&a:if(s){var f=(0,r.mB)(s,{shouldDecode:!1}).q||"";return"SearchResource_".concat(f.toLowerCase())}break;case/\/categories\//.test(a)&&a:var p=i(a,"/categories/");return"CategoryFeedResource_".concat(p);case/\/discover\/topics\//.test(a)&&a:return"CategoryFeedResource";case/\/news_hub\//.test(a)&&a:var y=i(a,"/news_hub/");return"NewsHubDetailsResource_".concat(y);case/\/_tools\/more-ideas\//.test(a)&&a:return"BoardContentRecommendationResource";case/\/topics\//.test(a)&&a:var h=i(a,"/topics/");return"TopicFeedResource_".concat(h);case/\/source\//.test(a)&&a:var m=i(a,"/source/");return"DomainFeedResource_".concat(m);case/\/explore\//.test(a)&&a:var b=i(a,"/explore/");return"SearchResource_".concat(b);case n:case!!n&&/\/more_ideas\//.test(a)&&a:return"BoardFeedResource";case n&&a.indexOf(n)>-1&&a:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(a)&&a:return"BrandCatalogFeedResource";case o.test(a)&&a:var v=(null===(t=a.match(o))||void 0===t?void 0:t[2])||"unknown";return"TodayArticleFeedResource_".concat(v);case/\/today\//.test(a):return"TodayTabResource";case/\story_feed\//.test(a)&&a:if(s){var g=(0,r.mB)(s),_=g.feed_type,P=g.request_params;return"StoryFeedResource_".concat(_,"_").concat(P)}}return""},l=function(e){var t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""};t.Z=function(e){var t,n,r=e.boardUrl,o=e.location,i=e.pinId,c=e.pinnerUserName,s=e.previousHistory,u=e.storyPinDataId,d=e.trackingParams,f=e.trackingParamsMap,p=void 0===f?{}:f;if(i&&d&&o){if(!p)return"".concat(null!=d?d:"","~0");var y=o.pathname,h=o.search,m=a({boardUrl:r,path:y,pinId:i,pinnerUserName:c,search:h,storyPinDataId:u,trackingParams:d,trackingParamsMap:p}),b=Object.keys(p);if((y||"").startsWith("/pin/")){var v=b.find(function(e){return"PinResource"!==e});t=v?p[v]:p.PinResource}else t=p[m];return!t&&s&&s.length&&(n=a({boardUrl:r,path:l(s[s.length-1].location),pinId:i,pinnerUserName:c,search:h,storyPinDataId:u,trackingParams:d,trackingParamsMap:p}),t=p[n]),t||(t="".concat(d||"","~0")),t}}},549629:function(e,t,n){"use strict";n.d(t,{Q:function(){return d},Z:function(){return f}});var r=n(672652),o=n(587703),i=n(525364),a=n(996523),l=n(5859);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){var n=(0,i.sV)().setViewContextData,c=(0,l.B)().requestIdentifier,s=(0,o.Z)(),d=(0,i.SU)().viewData;(0,r.useEffect)(function(){if(e){var t;n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),s(u(u({},e),{},{event_type:13,request_identifier:c}))}},[t])}function f(e){var t=e.children;return d(e.log),t||null}},342513:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(672652);function o(e,t){var n="consumer"===t?"".concat(e,"Consumer"):"use".concat(e);return"\n  ".concat(n," must be used within a ").concat(e,"Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.\n  ")}function i(e,t){var n,i,a=(0,r.createContext)(t),l=((i=(i=e.slice(1)).endsWith("Context")?i:"".concat(i,"Context"),n)?{hocDisplayName:"with".concat(e[0].toUpperCase()).concat(i,"(").concat(n,")")}:{propsDisplayName:"".concat(e[0].toLowerCase()).concat(i),messageDisplayName:"".concat(e[0].toUpperCase()).concat(i)}).messageDisplayName;a.displayName=l;var c=a.Provider,s=function(e){var t=e.children,n=(0,r.useContext)(a);if(void 0===n)throw Error(o(l,"consumer"));return t(n)},u=function(){return(0,r.useContext)(a)};return c.displayName="".concat(l,"Provider"),s.displayName="".concat(l,"Consumer"),{Provider:c,Consumer:s,MaybeConsumer:function(e){return(0,e.children)((0,r.useContext)(a))},useMaybeHook:u,useHook:function(){var e=u();if(void 0===e)throw Error(o(l,"hook"));return e}}}},419075:function(e,t,n){"use strict";function r(e){var t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:function(){return r}})},807023:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var r=n(42279),o=n(91402),i=n(333739);function a(e,t,n){var a=n.useLegacyAdapter;if(null==t)return{data:null,childDataKey__DEPRECATED:null};var l=(0,o.j)(t);if("deprecated"===l.type){var c=l.data;return null==c?{data:null,childDataKey__DEPRECATED:l}:{data:(0,i.V4)(e,a)(c),childDataKey__DEPRECATED:l}}var s=(0,r.useFragment)(e,l.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},673500:function(e,t,n){"use strict";var r=n(42279),o=n(549216),i=n(698681),a=n(226618);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){var r;return(r=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===l(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){var t=e.strategy,n=e.query,l=e.variables,s=e.options,u=e.transformGraphQL,d=e.useGetLegacyData,f=e.useGetLegacyResource,p=e.useGetLegacyPaginatedResource,y=e.rootFieldName,h=e.type1,m=e.type2,b=e.connectionName;if("GRAPHQL"===t){var v=(0,o.getRequest)(n);return null!=u?u((0,r.useLazyLoadQuery)(v,l,s)):(0,r.useLazyLoadQuery)(v,l,s)}if(null!=d&&null!=f&&null!=p)throw Error("Only pass one of useGetLegacyData or useGetLegacyResource to useLazyLoadQueryOrLegacy");if(null!=d){var g=d(l);return g?(0,a.I9)({},{data:g,refetchInfo:null,paginationInfo:null}):null}if(null!=f){var _=f(l),P=_.data,x=_.refresh;return null==P?null:(0,a.I9)({},{data:P,refetchInfo:{refetch:x},paginationInfo:null})}if(null!=p){var S=p(l),j=S.data,w=S.refresh,O=S.isFetching,k=S.isAtEnd,I=S.fetchMore;if(null==j)return null;if(null==y||null==h||null==m||null==b)throw Error("Unexpected null param");return(0,a.I9)({},{data:c({},(0,i.Cs)(y),{type:h,data:c({type:m},(0,i.Cs)("__".concat(b,"_connection")),{edges:j.map(function(e){return{node:e}})})}),refetchInfo:{refetch:w},paginationInfo:{isLoadingNext:O,hasNext:!k,loadNext:I}})}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},213377:function(e,t,n){"use strict";n.d(t,{$H:function(){return a},$q:function(){return v},D6:function(){return s},KN:function(){return _},Lo:function(){return o},P2:function(){return h},TS:function(){return P},Wv:function(){return g},ZZ:function(){return d},g5:function(){return f},jC:function(){return l},lX:function(){return y},nW:function(){return p},oX:function(){return m},qG:function(){return b},tG:function(){return i},yF:function(){return r},yc:function(){return u},yt:function(){return c}});var r=236,o=157.33333333333334,i=175,a=24,l=4,c=8,s=2,u=2,d=14,f=16,p=12,y=16,h=24,m=16,b=-1,v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?y:p:h},g=function(e){var t=e.contentVisibleItemCount,n=e.gap,o=e.width;return t||o?(o-(t-1)*n)/t:r},_=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d,i=e+o;return"\n@media (min-width: ".concat(t*i,"px) and (max-width: ").concat((n+1)*i-1,"px) {\n  ").concat(r,"\n}\n")},P=function(e,t,n){var o=n?3:2,a=t?5:o,l=t?r:i,s=t?m:c,u=l*a+s*a-(t?12:!t&&n?12:6);if(!e)return u;for(var d=a;d>=2&&!(e>u);d-=1)u=l*d+s*d;return u}},388769:function(e,t,n){"use strict";var r=n(72461),o=n(5859),i=n(819267);t.Z=function(e){var t=e.currency,n=e.maximumFractionDigits,a=e.minimumFractionDigits,l=e.shortform,c=e.shortformMaximumFractionDigits,s=e.formatStyle,u=e.uplimit,d=e.value,f=(0,r.Z)();return(0,i.jsx)(o.LC,{children:function(e){return f(e.locale||"en-US",d,{currency:t,maximum_fraction_digits:n,minimum_fraction_digits:a,shortform:l,shortform_maximum_fraction_digits:c,style:s,uplimit:u})}})}},422210:function(e,t,n){"use strict";function r(e){if(!e)return!1;var t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}n.d(t,{Z:function(){return r}})},588664:function(e,t,n){"use strict";function r(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;n=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;var o=new Date,i=n?new Date(n):o;return i.setDate(i.getDate()+r),new Date().getTime()<i.getTime()}n.d(t,{Z:function(){return r}})},165706:function(e,t,n){"use strict";n.r(t),n.d(t,{DEFAULT_HEIGHT:function(){return j},FixedFooter:function(){return k},FixedHeader:function(){return O}});var r=n(672652),o=n(684404),i=n(656418),a=n(696534),l=n(30378),c=n(71328);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=p(i);if(t){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function i(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var e,t,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return y(f(t=o.call.apply(o,[this].concat(r))),"state",{isHidden:!!t.props.appUpsellFooterConfig||!!(null!==(e=t.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)}),y(f(t),"lastScrollPos",0),y(f(t),"updateHiddenState",function(e){t.reqAnimationId=window.requestAnimationFrame(function(){t.setState({isHidden:e})})}),y(f(t),"handleScroll",(0,c.Z)(function(){var e,n=t.props,r=n.appUpsellFooterConfig,o=n.navFooterConfig,i=t.state.isHidden,a=window.scrollY,l=a-t.lastScrollPos,c="none",s=document.documentElement||{},u=s.scrollHeight,d=s.clientHeight;Number.isNaN(u)||Number.isNaN(d)||(c=l<0?a<=Math.abs((window.scrollMinY||0)+Math.max(l,20))?"start":"none":a>=(window.scrollMaxY||u-d)-Math.max(l,20)?"end":"none");var f=null!=o&&o.isModal?0:55;r?l>20&&i&&a>=500?r.shouldShowAfterScroll()&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20&&!i||a<=f)&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)):null!==(e=t.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===c&&!i||a<=f?(t.updateHiddenState(!0),null==o||o.onScroll(!0)):(a>f||"end"===c)&&i&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l<-20||"start"===c)&&i||a<=f?(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(l>20||"end"===c)&&!i&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)),t.lastScrollPos=a},30)),t}return n=[{key:"componentDidMount",value:function(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o;!e.hideOnScroll&&this.props.hideOnScroll||!(null!==(t=e.navFooterConfig)&&void 0!==t&&t.isDockedNavOnPlp)&&null!==(n=this.props.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(r=e.navFooterConfig)&&void 0!==r&&r.isDockedNavOnPlp&&!(null!==(o=this.props.navFooterConfig)&&void 0!==o&&o.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.navFooterConfig,r=this.state.isHidden;return t({isHidden:!(null!=n&&n.forceShow)&&r,updateHiddenState:this.updateHiddenState})}}],u(i.prototype,n),r&&u(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component),b=n(819267),v=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug"],g=["alignCenter","appUpsellFooterConfig","footerInLego","hasTopShadow","navFooterConfig"];function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j=64;function w(e){var t,n,c=e.children,s=e.footerConfig,u=e.headerConfig,d=e.height,f=e.hideOnScroll,p=e.hideOnScrollState,y=p.isHidden,h=p.updateHiddenState,m=e.noPadding,v=e.paddingY,g=e.type,_=e.zIndex,P=u||{},x=P.headerLimitedOverflow,w=P.ignoreObstructions,O=P.zIndexForGestaltBug,k=s||{},I=k.appUpsellFooterConfig,E=k.footerInLego,A=k.navFooterConfig,T=!!I,C="header"===g?"top":"bottom",R=(0,a.vs)(),D=(0,r.useRef)(null),B=(0,r.useRef)(null);(0,r.useEffect)(function(){try{if(!w){var e=D.current;B.current=x&&e&&Array.isArray(e.children)?e.children[0]:e,B.current instanceof HTMLElement&&l.Z.addObstruction(C,B.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){!w&&B.current instanceof HTMLElement&&l.Z.removeObstruction(C,B.current)}},[w,x,C,R]);var F="top"===C?"relative":"fixed",z=(null!=d?d:j)+((null==u?void 0:u.overrideTop)||0),L=f||A?S({transition:E?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},y?{transform:"translateY(".concat("top"===C?-z:z,"px)"),opacity:E?0:1}:Object.freeze({})):{},N="relative"!==F||null!=u&&u.noGutter?0:2,Z=N?-N:0,M=R?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";return R&&("header"===g?t=-1:n=-1),(0,b.jsx)(o.xu,{ref:D,bottom:"footer"===g,dangerouslySetInlineStyle:{__style:S(S(S(S(S({top:t,bottomStyle:n},!_||O?{zIndex:O||1}:Object.freeze({})),x?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({})),null!=u&&u.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({})),null!=s&&s.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),L)},"data-test-id":g,display:T?"flex":void 0,height:d&&!E?d:void 0,left:!0,marginEnd:E?"auto":Z,marginStart:E?"auto":Z,onTransitionEnd:function(){(f||A)&&B.current&&(y?l.Z.removeObstruction(C,B.current):l.Z.addObstruction(C,B.current))},position:F,right:!0,top:"header"===g,width:E||"fixed"!==F?void 0:"100%",zIndex:O?void 0:_,children:(0,b.jsx)(o.xu,{alignItems:null!=s&&s.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:S(S({backgroundColor:(null==u?void 0:u.isTranslucent)&&M||(null==u?void 0:u.isTransparentBackground)&&i.o7L||i.k95,height:E?T?void 0:null!=d?d:j:"100%",boxShadow:E?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:E&&!(null!=A&&A.docked)?16:void 0},x?{pointerEvents:"auto"}:Object.freeze({})),null!=u&&u.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},display:E||null!=s&&s.alignCenter?"flex":void 0,marginEnd:E?"auto":void 0,marginStart:E?"auto":void 0,paddingX:("footer"!==g||m?0:4)+N,paddingY:m?0:void 0===v?3:v,position:"relative",rounding:E&&!(null!=A&&A.docked)?"pill":void 0,width:A?A.footerWidth:T?void 0:"100%",children:"function"==typeof c?c({updateHiddenState:h}):c})})}function O(e){var t=e.hasBorder,n=e.headerLimitedOverflow,r=e.ignoreObstructions,i=e.isTranslucent,a=e.isTransparentBackground,l=e.noGutter,c=e.overrideTop,s=e.useRoundedCorners,u=e.zIndexForGestaltBug,d=P(e,v),f=d.noPadding,p=d.paddingY,y=d.zIndex;return(0,b.jsx)(o.Le,{height:n?44+8*(f?0:void 0===p?3:p):void 0,top:c||0,zIndex:y||void 0,children:(0,b.jsx)(m,{hideOnScroll:d.hideOnScroll,children:function(e){return(0,b.jsx)(w,S(S({},d),{},{headerConfig:{isTranslucent:i,isTransparentBackground:a,headerLimitedOverflow:n,hasBorder:t,ignoreObstructions:r,noGutter:l,overrideTop:c,zIndexForGestaltBug:u,useRoundedCorners:s},hideOnScrollState:e,type:"header"}))}})})}function k(e){var t=e.alignCenter,n=e.appUpsellFooterConfig,r=e.footerInLego,o=e.hasTopShadow,i=e.navFooterConfig,a=P(e,g);return(0,b.jsx)(m,{appUpsellFooterConfig:n,hideOnScroll:a.hideOnScroll,navFooterConfig:null==i?void 0:i.scrollConfig,children:function(e){return(0,b.jsx)(w,S(S({},a),{},{footerConfig:{alignCenter:t,appUpsellFooterConfig:n,footerInLego:r,hasTopShadow:o,navFooterConfig:i},hideOnScrollState:e,type:"footer"}))}})}},160133:function(e,t,n){"use strict";var r=n(684404),o=n(213377),i=n(403862),a=n(554786),l=n(819267);t.Z=function(e){var t=e.children,n=e.roundedForLargeDevice,c="phone"!==(0,a.ZP)()&&n;return(0,i.V)()?(0,l.jsx)(r.xu,{marginEnd:-o.D6,marginStart:-o.D6,overflow:c?"hidden":void 0,rounding:c?6:void 0,children:(0,l.jsx)(i.C,{value:!1,children:t})}):t}},43665:function(e,t,n){"use strict";function r(e){var t=!1;return{promise:new Promise(function(n,r){e.then(function(e){return t?r({isCanceled:!0}):n(e)},function(e){return t?r({isCanceled:!0}):r(e)})}),cancel:function(){t=!0}}}n.d(t,{Z:function(){return r}})},891162:function(e,t,n){"use strict";n.d(t,{Q6:function(){return u},qe:function(){return c},yU:function(){return s}});var r=n(520893),o=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},i=function(e){return e};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return function(r){var o=[];return function(){for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];var c=o.find(function(e){return t(e.args,n(a))});if(c)return c.result;var s=r.apply(void 0,a);return o.push({args:n(a),result:s}),e&&o.length>e&&o.shift(),s}}}var l=a();t.ZP=l;var c=a(1),s=a(void 0,o,function(e){return[JSON.stringify(e)]}),u=a(0,function(e,t){return e.length===t.length&&e.every(function(e,n){return(0,r.Z)(e,t[n])})})},996523:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=a(t,n);return void 0!==l?l:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce(function(t,r,o){return t[o]=e(t[o],n[o],a),t},function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===o(t)&&n&&"object"===o(n)?Object.keys(n).reduce(function(t,r){return t[r]=e(t[r],n[r],a),t},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)):n}}})},203966:function(e,t,n){"use strict";n.d(t,{$4:function(){return T},AQ:function(){return W},Bj:function(){return v},DB:function(){return q},FH:function(){return ec},FM:function(){return J},G9:function(){return z},GX:function(){return m},Hy:function(){return ed},JO:function(){return R},Ke:function(){return C},LM:function(){return o},Lc:function(){return ep},Lr:function(){return eu},MN:function(){return _},Mn:function(){return ee},N8:function(){return b},NB:function(){return en},P0:function(){return er},P9:function(){return el},Pn:function(){return P},S:function(){return D},TK:function(){return S},TZ:function(){return I},UU:function(){return d},Uw:function(){return $},W_:function(){return es},XB:function(){return c},Xy:function(){return E},YM:function(){return j},aD:function(){return ey},aj:function(){return K},bA:function(){return F},bo:function(){return s},cH:function(){return ev},dS:function(){return O},eZ:function(){return y},fk:function(){return ei},g1:function(){return ef},gU:function(){return u},hH:function(){return Z},i2:function(){return f},iR:function(){return L},jh:function(){return eh},km:function(){return p},lx:function(){return B},mr:function(){return V},mt:function(){return G},n_:function(){return M},np:function(){return H},of:function(){return r},q:function(){return eb},qY:function(){return w},qm:function(){return ea},rc:function(){return X},ro:function(){return em},sD:function(){return a},sG:function(){return h},u1:function(){return Q},uR:function(){return l},v5:function(){return i},v9:function(){return Y},vk:function(){return et},wj:function(){return x},x1:function(){return N},yC:function(){return g},yI:function(){return A},yX:function(){return k},yb:function(){return U},zr:function(){return eo}});var r=880,o=340,i=380,a=510,l=40,c=20,s=4,u=474,d=134,f=96,p=800,y=186,h=40,m=10,b=48,v=88,g=183,_=130,P=24,x=400,S=50,j=8,w=8,O=5,k=20,I=29,E=5,A=20,T=400,C=100,R=500,D=800,B=500,F=40,z=100,L=5,N=["attempted","publishing","succeeded","uploading"],Z={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},M=["tl","tc","tr","bl","bc","br"],K=["left","center"],U=["top","center","bottom"],H=["none","uppercase"],G=["sm","md","lg"],W=[1,.75],q=198,V=132,Y=1,Q=56,$=240,X="cubic-bezier(0.66, 0.025, 0.33, 0.975)",J=1e3,ee=1500,et=2,en=3,er=20,eo=20,ei=2,ea=["processing","publishing","saving"],el=60.5,ec=120.5,es=1,eu=209715200,ed=2500,ef=3,ep="pin-builder-default-education-id",ey="pin-builder-default-tour-id",eh="pin-builder-editing-tour-id",em="save_from_url",eb=["processing","edited","creating","saving","saved"],ev=2048},217006:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(203966);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.LM,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(t-2*n)/e.width*e.height+2*n}},340523:function(e,t,n){"use strict";n.d(t,{F:function(){return i},a:function(){return o}});var r=(0,n(342513).Z)("ExperimentContext"),o=r.Provider,i=r.useHook},5859:function(e,t,n){"use strict";n.d(t,{B:function(){return h},LC:function(){return p},P2:function(){return f},fH:function(){return y},gf:function(){return m}});var r=n(672652),o=n(642190),i=n(520893),a=n(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,r.createContext)();function f(e){var t,n=e.children,l=e.initialValue,c=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(l))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=c[0],p=c[1],y=(0,r.useMemo)(function(){return{requestContext:f,updateRequestContext:function(e){var t=s(s({},f),e);(0,i.Z)(f,e)||p(t),(0,o.J)(t)}}},[f]);return(0,a.jsx)(d.Provider,{value:y,children:n})}var p=function(e){var t=e.children,n=(0,r.useContext)(d);if(!n)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(n.requestContext)},y=function(e){var t=e.children,n=(0,r.useContext)(d);if(!n)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(n.requestContext)};function h(){var e=(0,r.useContext)(d);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function m(){var e=(0,r.useContext)(d);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},642190:function(e,t,n){"use strict";var r;function o(e){r=e}function i(){return r}n.d(t,{J:function(){return o},l:function(){return i}})},520893:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(Object.is(e,t))return!0;if("object"!==r(e)||null===e||"object"!==r(t)||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every(function(n){return e[n]===t[n]})}n.d(t,{Z:function(){return o}})},564855:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o},mP:function(){return r}});var r="";function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n]||i)t=e.substring(0,n);else{var a=e.lastIndexOf(" ",n);t=e.substring(0,a)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+o}},325362:function(e,t,n){"use strict";function r(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}n.d(t,{Z:function(){return r}})},598228:function(e,t,n){"use strict";n.d(t,{Ag:function(){return i},C0:function(){return c},L1:function(){return f},Vi:function(){return a},YD:function(){return d},kS:function(){return o},oo:function(){return l},p3:function(){return p},vC:function(){return s},vI:function(){return u}});var r=n(244413),o="https://www.pinterest.com/business/hub/",i="https://www.pinterest.com/homefeed/",a="www.pinterest.com",l="https://help.pinterest.com",c="".concat((0,r.Z)({site:"www"})),s=(0,r.Z)({site:"developers"}),u="".concat((0,r.Z)({site:"sterling"})),d="".concat((0,r.Z)({site:"analytics"})),f="".concat((0,r.Z)({site:"trends"})),p="".concat((0,r.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="}))},202593:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(850895),o=n(702497);function i(e){var t=e.advertiser,n=e.isAdsSite,i=e.isAnalyticsSite,a=e.isTrendsSite,l=e.baseUrl,c=e.adsUrl,s=e.isQuickPromote,u=e.isShoppingCatalogs;if(n&&!t&&!s)return"/";var d=l;return(n||i||a)&&!u?(c||(c=l),t?(d=(0,r.Z)(c,t.id),n||(d=o.auO+d)):d=n?c:o.auO+d):u?d=o.auO+(0,r.Z)(l,t?t.id:""):c||(d=o.auO+l),d}},498301:function(e,t,n){"use strict";function r(e,t){if(!t)return e;var n=new RegExp(/http(s?):/);if(!n.test(e)){var r=n.exec(t);r&&r.length&&(e=r[0]+e)}return e}n.d(t,{Z:function(){return r}})},334688:function(e,t,n){"use strict";var r=n(672652);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=null,a=!1,l=0,c=function(){i&&clearTimeout(i),a=!0,i=setTimeout(function(){a=!1},100)},s=function(){0===l&&window.addEventListener("scroll",c),l+=1},u=function(){(l-=1)||window.removeEventListener("scroll",c)};t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1],l=(0,r.useRef)(null);(0,r.useEffect)(function(){return s(),function(){l.current&&clearTimeout(l.current),u()}},[]);var c=function e(t){l.current&&clearTimeout(l.current),l.current=t&&a?setTimeout(function(){return e(!0)},100):setTimeout(function(){i(t)},32)};return{isHovering:n,hoverHandlers:(0,r.useRef)({onMouseOver:function(){return c(!0)},onMouseLeave:function(){return c(!1)}}).current}}},554786:function(e,t,n){"use strict";n.d(t,{HG:function(){return d},Kf:function(){return a},Mq:function(){return o},Wb:function(){return u},dA:function(){return l},ds:function(){return c},ml:function(){return s}});var r=n(5859);function o(e){var t=e.userAgent,n=t.isMobile;return t.isTablet?"tablet":n?"phone":"desktop"}var i=function(){return o((0,r.B)())},a=function(e){return"phone"===e},l=function(e){return"tablet"===e},c=function(e){return"desktop"===e},s=function(){return a(i())},u=function(){return l(i())},d=function(){return c(i())};t.ZP=i},477458:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var r=n(672652);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){var e=o((0,r.useState)(!1),2),t=e[0],n=e[1],i=o((0,r.useState)(!1),2),a=i[0],l=i[1],c=o((0,r.useState)(!1),2),s=c[0],u=c[1];return{active:t,focused:a,hovered:s,onBlur:function(){l(!1),n(!1)},onFocus:function(){return l(!0)},onMouseDown:function(){return n(!0)},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){u(!1),n(!1)},onMouseUp:function(){return n(!1)}}};function l(e){return(0,e.children)(a())}t.Z=a},194602:function(e,t,n){"use strict";var r=n(672652),o=function(){return function(){}},i=function(){return!1},a=function(){return!0};t.Z=function(){return(0,r.useSyncExternalStore)(o,i,a)}},825765:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(672652),o=n(43665);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(){var e=(0,r.useRef)([]),t=(0,r.useRef)({});return(0,r.useEffect)(function(){return function(){[].concat(i(Object.keys(t.current).map(function(e){return t.current[e]})),i(e.current)).forEach(function(e){return e()})}},[]),function(n,r){if(r){var a=t.current[r];a&&(a(),delete t.current[r])}var l=(0,o.Z)(n),c=l.cancel,s=l.promise;return r?t.current[r]=c:e.current=[].concat(i(e.current),[c]),s}}},149722:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=(0,n(342513).Z)("viewer"),o=r.Provider,i=r.useHook;t.Z=i},446653:function(e,t,n){"use strict";n.d(t,{r:function(){return I},K:function(){return k}});var r=n(672652),o=n(342513),i=n(340523),a=n(995917),l=n(149722),c=n(998577),s=n(573810),u=n(325362);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==p(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,u.Z)(r)]=t[r]:n[(0,u.Z)(r)]=e(t[r]));return n},h=function(e,t){var n=[];for(var r in e)r!==t&&n.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:r},y(e[r])));var o,i=n.sort(function(e,t){var n=e.user.businessName,r=t.user.businessName;return n.localeCompare(r)}),a=new Map,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;a.set(c.id,c)}}catch(e){l.e(e)}finally{l.f()}return a};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},P=function(e,t){switch(t.type){case"LOAD_PROFILES":return g(g({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return g(g({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return g(g({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return g(g({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return g(g({},e),{},{disableProfileChanger:t.payload});default:return e}},x=function(e){var t=e.dispatch,n=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,l=o.headerVisible;return{changeProfile:(0,r.useCallback)(function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[n,t]),toggleORBACVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})},[n,t,i]),toggleDisableProfileChanger:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})},[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!l})},[n,t,l])}},S=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(P,_))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],i=n[1],a=x({dispatch:i,isEnabled:e,state:o}),l=o.activeProfile,c=o.orbacVisibility;return(0,r.useEffect)(function(){var e=(0,s.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,r.useEffect)(function(){var e=(0,s.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,r.useEffect)(function(){(0,s.Nh)("orbacVisibility",c)},[c]),(0,r.useEffect)(function(){(0,s.Nh)("orbacActiveProfile",l)},[l]),{state:o,actions:a,receiveProfiles:(0,r.useCallback)(function(e,t){i({type:"LOAD_PROFILES",payload:h(e,t)})},[i])}},j=n(819267),w=(0,o.Z)("RoleBasedAccessControlContext"),O=w.Provider,k=w.useMaybeHook,I=function(e){var t,n=e.children,o=(0,i.F)().checkExperiment,s=(0,l.Z)(),u=!!(s.isAuth&&s.isPartner&&o("web_m10n_business_access_orbac_www").anyEnabled),d=S(u),f=d.state,p=d.actions,y=d.receiveProfiles,h=f.activeProfile,m=f.headerVisible,b=f.profiles,v=void 0===b?[]:b,g=v?Array.from(v.values()):[],_=(0,c.Z)(g),P=!!s.isAuth&&g.length>0&&_,x=s.isAuth?s.id:"",w=s.isAuth?s.username:"",k=p.changeProfile,I=p.toggleORBACVisibility,E=p.toggleDisableProfileChanger,A=p.toggleHeaderVisibility;(0,r.useEffect)(function(){if(u){if("string"==typeof _){k(_);return}h||k(x)}},[_,x,u,k,h]),(0,r.useEffect)(function(){u&&(P&&!m&&A(!0),!P&&m&&A(!1))},[A,P,u,m,v]);var T=(0,a.Z)(u?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,C=null==T?void 0:T.profiles;s&&s.isAuth&&f.activeProfile===s.id?t={id:s.id,permissions:["OWNER"],user:{username:w,businessName:s.fullName,imgUrl:s.imageSmallUrl}}:h&&f.profiles&&(t=f.profiles.get(h)),(0,r.useEffect)(function(){C&&y(C,x)},[y,C,x]);var R=f.profiles?Array.from(f.profiles.values()):[];return(0,j.jsx)(O,{value:{profiles:R,headerVisible:f.headerVisible,activeProfile:t,changeProfile:k,toggleORBACVisibility:I,toggleDisableProfileChanger:E,toggleHeaderVisibility:A},children:n})}},785059:function(e,t,n){"use strict";var r=n(340523),o=n(446653),i=n(998577);t.Z=function(){var e=(0,r.F)().checkExperiment,t=(0,o.K)(),n=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,i.Z)((null==t?void 0:t.profiles)||[]),c=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a&&(!c||l)&&n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({})}},998577:function(e,t,n){"use strict";var r=n(328038),o=n(96157),i=n(340523),a=n(149722),l=n(19447);t.Z=function(e){var t,n,c,s,u=(0,r.TH)(),d=(0,a.Z)(),f=(0,l.S6)(),p=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,y=(0,r.$B)("/:username"),h=null==y?void 0:null===(t=y.params)||void 0===t?void 0:t.username,m=(0,r.$B)("/pin/:id"),b=null!=m&&null!==(n=m.params)&&void 0!==n&&!!n.id&&(null===(c=f(m.params.id))||void 0===c?void 0:null===(s=c.pinner)||void 0===s?void 0:s.id);if((0,o.ej)(u))return!1;if((0,o.RU)(u))return!0;if((0,o.mY)(u))return p;var v=e.concat(d.isAuth?{user:{username:d.username},id:d.id}:{}).find(function(e){var t=e||{},n=t.user,r=t.id,o=(void 0===n?{}:n).username;return(!!o&&!!h||!!b&&!!r)&&(o===h||b===r)});return!!v&&v.id}},199677:function(e,t,n){"use strict";n.d(t,{D3:function(){return s},DX:function(){return l},KY:function(){return u},Ms:function(){return r},N1:function(){return d},_P:function(){return a},lJ:function(){return i},nl:function(){return o},q6:function(){return c}});var r=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},i=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,n){var r;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(r=e.advertiser)||void 0===r?void 0:r.merchant_id},l=function(e,t,n){return n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},c=function(e,t,n){return!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t)},s=function(e,t,n){return!!(c(e,t,n)||e&&e.isAuth&&t===e.id)},u=function(e,t,n){return s(e,t&&t.owner&&t.owner.id||"",n)};function d(e,t,n){return s(e,t?t.id:"",n)}},403398:function(e,t,n){"use strict";n.d(t,{$v:function(){return h},eN:function(){return m},gf:function(){return a},i7:function(){return y},in:function(){return d},jz:function(){return c},pD:function(){return l},p_:function(){return i},s5:function(){return u},tz:function(){return f},uE:function(){return p},zY:function(){return s}});var r="iphone",o="android_mobile",i="ipad",a="android_tablet",l="web_mobile",c=["web",l,r,i,o,a],s=["android_mobile","android_tablet","iphone","ipad","web"],u=["android_mobile","android_tablet","iphone","ipad","web"],d=["android_mobile","iphone"],f=["android_mobile","android_tablet","iphone","ipad"],p=[r,o],y=[r,o],h=[r,o,i,a],m=[r,o]},373395:function(e,t,n){"use strict";n.d(t,{W:function(){return L},Z:function(){return N}});var r,o,i,a,l,c=n(672652),s=n(42279),u=n(214877),d=n(333739),f=n(807023),p=n(494125),y=n(684404),h=n(587703),m=n(207012),b=n(862249),v=n(212890),g=n(819267),_=void 0!==r?r:r=n(438143);function P(e){var t,n=e.actionKey,r=e.alignCenter,o=(0,m.Z)(_,n),i=(0,h.Z)(),a=o.title,l=o.description,s=o.button,u=null==s?void 0:s.text,d=null==a?void 0:a.text,f=null==l?void 0:l.text,p=null!==(t=null==s?void 0:s.link)&&void 0!==t?t:"",P=p.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),x=u&&p.startsWith("http"),S=(0,b.Z)({url:p});return x?(0,g.jsxs)(c.Fragment,{children:[(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:r?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.rU,{href:p,onClick:function(){(0,v.AY)(i,p)},rel:x&&S?"nofollow":"none",children:(0,g.jsx)(y.xv,{align:r?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:P})})})]}):(0,g.jsxs)(c.Fragment,{children:[!!d&&(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:r?"center":"start",weight:"bold",children:d})}),!!f&&(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:r?"center":"start",children:f})})]})}var x=void 0!==o?o:o=n(997473);function S(e){for(var t=e.text,n=e.textTags,r=[],o=0,i=0;i<n.length;i+=1){var a=n[i];if(5===a.tagType&&a.link){var l=a.offset,c=a.length,s=a.link;if(null!=l&&null!=c&&null!=s){var u=t.substring(l,l+c),d=(0,g.jsx)(y.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(y.rU,{display:"inlineBlock",href:s,target:"blank",underline:"hover",children:u},u)});r.push((0,g.jsx)("span",{children:t.substring(o,l)})),r.push(d),o=l+c}}}return(o>0&&r.push((0,g.jsx)("span",{children:t.substring(o)})),0===r.length)?[(0,g.jsx)("span",{children:t})]:r}function j(e){var t=e.graphqlRef,n=e.text,r=(0,s.useFragment)(x,t);return(0,g.jsx)(S,{text:n,textTags:r})}function w(e){var t=e.textTags,n=e.text,r=t.map(function(e){return{length:e.length,link:e.link,offset:e.offset,tagType:e.tag_type}});return(0,g.jsx)(S,{text:n,textTags:r})}function O(e){var t=e.dataKey,n=e.text;return"graphqlRef"===t.type?(0,g.jsx)(j,{graphqlRef:t.data,text:n}):(0,g.jsx)(w,{text:n,textTags:t.data})}var k=[4,14],I={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},E={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},A=void 0!==i?i:i=n(173477);function T(e){var t,n,r,o,i,a=e.advisory,l=e.inModal,c=e.noticeKey,s=(0,f.Q)(A,c,{useLegacyAdapter:function(e){var t,n;return{actions:null===(t=e.actions)||void 0===t?void 0:t.map(function(e){return{actionId:e.id,$fragmentSpreads:d.qH}}),description:e.description&&{text:e.description.text,textTags:null===(n=e.description.text_tags)||void 0===n?void 0:n.map(function(){return{$fragmentSpreads:d.qH}})},title:e.title}}}),u=s.data,p=s.childDataKey__DEPRECATED,h=u.title,m=u.description,b="graphqlRef"===p.type?null===(t=p.data.actions)||void 0===t?void 0:t.map(function(e){return{type:"graphqlRef",data:e}}):null===(n=p.data.actions)||void 0===n?void 0:n.map(function(e){return{type:"deprecated",data:e}}),v=!!(null!=b&&b.length)&&!!a&&k.includes(a),_=(null==b?void 0:b.length)===1,x=m&&m.text||"";return(0,g.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:l?E:I},padding:6,rounding:2,children:[!!h&&!l&&(0,g.jsx)(y.xu,{display:"flex",marginBottom:2,children:(0,g.jsx)(y.X6,{size:"500",children:h})}),!!x&&(0,g.jsx)(y.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,g.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,g.jsx)(y.xv,{align:l?"center":"start",overflow:"normal",children:(0,g.jsx)(O,{dataKey:"graphqlRef"===p.type?{type:"graphqlRef",data:null!==(r=null===(o=p.data.description)||void 0===o?void 0:o.textTags)&&void 0!==r?r:[]}:{type:"deprecated",data:null!==(i=p.data.description.text_tags)&&void 0!==i?i:[]},text:x})})})}),v&&(0,g.jsx)(y.xu,{direction:l?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:null==b?void 0:b.map(function(e){var t;return(0,g.jsx)(y.xu,{column:l||_?12:6,paddingX:2,paddingY:1,children:(0,g.jsx)(P,{actionKey:e,alignCenter:l||_})},null!==(t=e.data.actionId)&&void 0!==t?t:JSON.stringify(e.data))})})]})}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var D=void 0!==a?a:a=n(798824);function B(e){var t,n,r,o,i,a,l,c=e.noticeKey,s=(0,f.Q)(D,c,{useLegacyAdapter:function(e){var t,n;return{actions:null===(t=e.actions)||void 0===t?void 0:t.map(function(e){return{button:e.button&&{link:e.button.link,text:e.button.text},description:e.description&&{text:e.description.text},title:e.title&&{text:e.title.text}}}),description:e.description&&{text:e.description.text,textTags:null===(n=e.description.text_tags)||void 0===n?void 0:n.map(function(){return{$fragmentSpreads:d.qH}})},footer:e.footer&&{link:e.footer.link,text:e.footer.text}}}}),u=s.data,p=s.childDataKey__DEPRECATED,m=(0,h.Z)(),b={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,g.jsxs)(y.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,g.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,g.jsxs)(y.xu,{height:"100%",padding:10,width:"100%",children:[(0,g.jsx)("span",{style:b,children:(0,g.jsx)(O,{dataKey:"graphqlRef"===p.type?{type:"graphqlRef",data:null!==(t=null===(n=p.data.description)||void 0===n?void 0:n.textTags)&&void 0!==t?t:[]}:{type:"deprecated",data:null!==(r=p.data.description.text_tags)&&void 0!==r?r:[]},text:(null===(o=u.description)||void 0===o?void 0:o.text)||""})}),(0,g.jsx)(y.xu,{marginTop:6,children:(null!==(i=u.actions)&&void 0!==i?i:[]).map(function(e){var t,n,r,o,i=null===(t=e.button)||void 0===t?void 0:t.link;return i&&i.startsWith("tel")?(0,g.jsxs)(y.xu,{children:[(0,g.jsx)("span",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({fontWeight:"600"},b),children:null===(n=e.title)||void 0===n?void 0:n.text}),(0,g.jsx)("span",{style:b,children:null===(r=e.description)||void 0===r?void 0:r.text})]}):(0,g.jsx)(y.rU,{href:i||"",onClick:function(){(0,v.AY)(m,i||"")},children:(0,g.jsx)(y.xu,{display:"inlineBlock",children:(0,g.jsx)(y.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,g.jsx)(y.xv,{color:"inverse",weight:"bold",children:(null===(o=e.button)||void 0===o?void 0:o.text)||""})})})})})})]})}),!!u.footer&&(0,g.jsx)(y.xu,{paddingY:2,width:540,children:(0,g.jsx)(y.rU,{display:"inlineBlock",href:null!==(a=u.footer.link)&&void 0!==a?a:"",onClick:function(){var e,t;(0,v.AY)(m,null!==(e=null===(t=u.footer)||void 0===t?void 0:t.link)&&void 0!==e?e:"")},target:"blank",underline:"hover",children:(0,g.jsx)(y.xv,{align:"center",color:"subtle",size:"100",children:(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:null!==(l=u.footer.text)&&void 0!==l?l:""}})})},u.footer.link)})]})}var F=void 0!==l?l:l=n(329638);function z(e){var t=e.advisoryDetails,n=e.boardId,r=e.boardSectionId,o=e.query,i=e.sensitivity,a=e.viewParameter,l=e.viewType,c=(0,u.v)().logContextEvent;(0,p.Z)(function(){l&&c({aux_data:{entered_query:o,advisory_details:t,advisory_level:null==i?void 0:i.advisory,severity_level:null==i?void 0:i.severity},component:13367,event_type:120,view_parameter:a,view_type:l}),n&&5===l&&c({aux_data:{board_id:n,board_section_id:null!=r?r:0},component:178,event_type:15549,view_parameter:a,view_type:l})})}function L(e){var t,n,r=e.boardId,o=e.boardSectionId,i=e.sensitivityKey,a=e.inModal,l=e.query,s=e.viewParameter,u=e.viewType,p=(0,f.Q)(F,i,{useLegacyAdapter:function(e){var t;return{advisory:e.advisory,severity:e.severity,notices:null===(t=e.notices)||void 0===t?void 0:t.map(function(e){return{style:e.style,$fragmentSpreads:d.qH}})}}}),y=p.data,h=p.childDataKey__DEPRECATED;z({advisoryDetails:(null==i?void 0:i.type)==="deprecated"?i.data.advisory_details:void 0,boardId:r,boardSectionId:o,query:l,sensitivity:null!=y?{advisory:y.advisory,severity:y.severity}:void 0,viewParameter:s,viewType:u});var m=(null==h?void 0:h.type)==="graphqlRef"?null===(t=h.data.notices)||void 0===t?void 0:t.map(function(e){return{type:"graphqlRef",data:e}}):null==h?void 0:null===(n=h.data.notices)||void 0===n?void 0:n.map(function(e){return{type:"deprecated",data:e}});return(0,g.jsx)(c.Fragment,{children:(null!=m?m:[]).map(function(e){return 2===e.data.style?(0,g.jsx)(B,{noticeKey:e}):(0,g.jsx)(T,{advisory:null==y?void 0:y.advisory,inModal:a,noticeKey:e})})})}function N(e){var t=e.boardId,n=e.boardSectionId,r=e.notices,o=e.query,i=e.sensitivity,a=e.viewParameter,l=e.viewType,s=e.inModal;return z({advisoryDetails:null==i?void 0:i.advisory_details,boardId:t,boardSectionId:n,query:o,sensitivity:{advisory:null==i?void 0:i.advisory,severity:null==i?void 0:i.severity},viewParameter:a,viewType:l}),(0,g.jsx)(c.Fragment,{children:null==r?void 0:r.map(function(e){return 2===e.style?(0,g.jsx)(B,{noticeKey:{type:"deprecated",data:e}},e.id):(0,g.jsx)(T,{advisory:null==i?void 0:i.advisory,inModal:s,noticeKey:{type:"deprecated",data:e}},e.id)})})}},212890:function(e,t,n){"use strict";n.d(t,{AY:function(){return a},IR:function(){return o},St:function(){return r},Uz:function(){return i}});var r={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},o={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function i(e){return!!e&&e.severity===o.ABUSIVE}function a(e,t){e({aux_data:{url:t},component:13367,element:11180,event_type:101,view_parameter:43,view_type:2})}},172560:function(e,t,n){"use strict";var r=n(672652),o=n(684404),i=n(107991),a=n(205841),l=n(388769),c=n(140017),s=n(339001),u=n(340523),d=n(873955),f=n(564855),p=n(968946),y=n(477458),h=n(519925),m=n(784300),b=n(819267);t.Z=function(e){var t=(0,c.ZP)(),n=e.followerCount,v=e.fullName,g=e.isVerifiedIdentity,_=e.imageUrl,P=e.isPromoted,x=e.isVerifiedMerchant,S=e.profileUrl,j=e.sponsorName,w=e.sponsorshipStatus,O=e.sponsorUsername,k=void 0===O?"":O,I=e.verified,E=e.color,A=void 0===E?"default":E,T=e.onAvatarClick,C=e.onNavigateClick,R=e.onNavigateSponsorClick,D=e.openNewTab,B=e.isLeadPin,F=(0,u.F)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,z=(0,d.Z)(t._('{{ fullName }} avatar link', 'creatorCardProfile.avatar.accessibilityLabel', 'Accessibility label for user avatar'),{fullName:null!=v?v:""}),L=(0,b.jsx)(y.q,{children:function(e){var t=e.active,n=e.focused,r=e.hovered,i=e.onBlur,l=e.onFocus,c=e.onMouseEnter,s=e.onMouseLeave;return(0,b.jsx)(o.xu,{onBlur:i,onFocus:l,onMouseDown:function(){T&&T()},onMouseEnter:c,onMouseLeave:s,children:(0,b.jsx)(o.zd,{rounding:"circle",wash:r||t||n,children:(0,b.jsx)(a.qE,{accessibilityLabel:z,name:null!=v?v:"",size:"md",src:null!=_?_:"",verified:I})})})}}),N=(0,f.ZP)(v,70),Z=(0,b.jsxs)(r.Fragment,{children:[P&&(0,b.jsx)(i.Z,{lineClamp:1,size:"200",weight:"bold",children:t._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin')}),(0,b.jsx)(o.xu,{"data-test-id":"creator-profile-name",children:(0,b.jsx)(o.xu,{maxWidth:270,children:(0,b.jsx)(o.xv,{color:A,size:"200",weight:void 0!==B&&B?"normal":"bold",children:g||x?(0,b.jsx)(o.xu,{"data-test-id":"verified-name",children:(0,b.jsx)(m.Z,{badgeSize:"xs",badgeSpacing:2,fullName:N,isVerifiedIdentity:g,isVerifiedMerchant:x})}):v})})})]}),M=k&&j||h.j.includes(w)&&F;return(0,b.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,b.jsx)(o.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:S?(0,b.jsx)(o.Tg,{dataTestId:"creator-avatar-link",href:S,onTap:C,rel:(0,p.Z)(S)?"none":"nofollow",target:D?"blank":null,children:L}):L}),(0,b.jsxs)(o.xu,{children:[(0,b.jsx)(o.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:S?(0,b.jsx)(o.rU,{dataTestId:"creator-profile-link",href:S,onClick:C,rel:(0,p.Z)(S)?"none":"nofollow",target:D?"blank":null,underline:"none",children:Z}):Z}),M?(0,b.jsx)(o.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,b.jsx)(h.Z,{href:"/".concat(null!=k?k:"","/"),isPromoted:P,onNavigateSponsorClick:R,sponsorName:j,sponsorshipStatus:w,sponsorUsername:k})}):!!n&&(0,b.jsx)(o.xu,{"data-test-id":"follower-count",display:"flex",paddingX:1,children:(0,b.jsx)(o.xv,{color:A,size:"200",children:(0,s.nk)(t.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', n, 'closeup.creator.followerCount', 'the number of followers the creator of the pin has'),{followerCount:(0,b.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:n},n)})})})]})]})}},254292:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(684404),o=n(819267);function i(e){var t=e.text;return(0,o.jsx)(r.xu,{display:"visuallyHidden",children:(0,o.jsx)(r.X6,{accessibilityLevel:1,children:t})})}},983983:function(e,t,n){"use strict";n.d(t,{L1:function(){return i},Rz:function(){return c},WZ:function(){return a},cI:function(){return o},fe:function(){return l},hu:function(){return r}});var r=64,o=80,i=22,a="HeaderContent",l=671,c={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},206923:function(e,t,n){"use strict";n.d(t,{fv:function(){return S},fS:function(){return I},lu:function(){return E},PR:function(){return A},Mv:function(){return P},uc:function(){return x},dL:function(){return _},qS:function(){return j},Y4:function(){return k},HE:function(){return O},Cy:function(){return w}});var r=n(666472),o=n(672652),i=n(263032),a=n(214877),l=n(30378),c=n(340523),s=n(5859),u=n(194602),d=n(369708);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=e.auxData,n=e.component,r=e.eventData,f=e.eventType,p=e.impressionType,m=e.isPaused,b=e.objectIdStr,v=e.viewData,g=e.viewType,_=e.viewParameter,P=(0,o.useRef)(null),x=(0,a.v)().logImpression,S=(0,u.Z)(),j=(0,s.B)(),w=j.isAuthenticated,O=(0,c.F)().checkExperiment,k=O(w?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth").anyEnabled,I=(0,d.rG)().logMrcVideoAdImpressionOnPlay,E=(0,o.useCallback)(function(){try{if(P.current instanceof HTMLElement){var e=r.pinIdStr,o=r.newsIdStr;l.Z.start(P.current).onExitViewport(function(e){if(P.current&&k){var o,a=new IntersectionObserver(function(o){var i,l,c=(function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(o,1)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}}(o,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],s={viewData:v||{},viewType:g,viewParameter:_,eventType:f,impressionType:p,auxData:t,component:n,objectIdStr:b,eventData:y({endTime:e.endTime,time:e.startTime,pinCellWidth:c.boundingClientRect.width||0,pinCellHeight:c.boundingClientRect.height||0,windowWidth:null===(i=window)||void 0===i?void 0:i.innerWidth,windowHeight:null===(l=window)||void 0===l?void 0:l.innerHeight},r)};x(s),I(s),P.current&&a.unobserve(P.current)});P.current&&a.observe(P.current)}else{var l,c,s,u,d,m={viewData:v||{},viewType:g,viewParameter:_,eventType:f,impressionType:p,auxData:t,component:n,objectIdStr:b,eventData:y({endTime:e.endTime,time:e.startTime,pinCellWidth:(null===(c=P.current)||void 0===c?void 0:c.getBoundingClientRect().width)||0,pinCellHeight:(null===(s=P.current)||void 0===s?void 0:s.getBoundingClientRect().height)||0,windowWidth:null===(u=window)||void 0===u?void 0:u.innerWidth,windowHeight:null===(d=window)||void 0===d?void 0:d.innerHeight},r)};x(m),I(m)}var w=r.attributionSourceId,E=r.campaignId,A=r.isPromoted,T=r.link,C=r.adDestinationUrl,R=r.domain,D=r.advertiserId;"pinImpressions"===p&&A&&!S&&null!==(l=window.document.featurePolicy)&&void 0!==l&&l.allowsFeature("attribution-reporting")&&(0,i.YS)(p,A,null!=w?w:null,T,E,{appType:j.appTypeDetailed,osType:(0,i.eF)(null!==(o=j.userAgent.osName)&&void 0!==o?o:"Unknown")},null!=D?D:null,R,C,O("m10n_ara_hardcoded_reporting_url").anyEnabled)}).setDebugId(e||o||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[P.current]);return(0,o.useEffect)(function(){m||E();var e=P.current;return function(){e instanceof HTMLElement&&l.Z.stop(e)}},[m,E]),P}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=function(e){var t=m({eventData:g(g({},e.impressionData||{}),{},{pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},P=function(e){var t=m({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},x=function(e){var t=m({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},S=function(e){var t=m({eventData:g(g({},e.impressionData||{}),{},{articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},j=function(e){var t=m({eventData:g(g({},e.impressionData||{}),{},{storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},w=function(e){var t=m({eventData:g(g({},e.impressionData||{}),{},{userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0}),auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},O=function(e){var t=m({eventData:g(g({},e.impressionData||{}),{},{topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0}),auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},k=function(e){var t=m({eventData:g(g({},e.impressionData||{}),{},{clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},I=function(e){var t=m({eventData:g(g({},e.impressionData||{}),{},{boardIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},E=function(e){var t,n=(0,r.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:null!==(t=e.slotIndex)&&void 0!==t?t:0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:n})},A=function(e){var t=m({eventData:g(g({},e.impressionData||{}),{},{curatedBoardIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:15555,impressionType:"curatedBoardImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},692440:function(e,t,n){"use strict";n.d(t,{H:function(){return f},N:function(){return d}});var r=n(672652),o=n(342513),i=n(638747),a=n(819267);function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,o.Z)("LastSavedTo"),u=s.Provider,d=s.useHook;function f(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||l(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=o[0],d=o[1];(0,i.Z8)("BoardPickerBoardsShortlistResource",function(e){s||d(e.response.resource_response.data)});var f=(0,r.useCallback)(function(e){var t=s?s.filter(function(t){return t.id!==e.id}):[];d([e].concat(function(e){if(Array.isArray(e))return c(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||l(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[s]),p=(0,r.useMemo)(function(){return{lastSavedTo:s,saveToBoard:f}},[s,f]);return(0,a.jsx)(u,{value:p,children:n})}},490166:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(684404),o=n(819267);function i(e){var t=e.children,n=e.onMouseEnter,i=e.onMouseLeave,a=e.onTouch,l=e.rounding,c=e.fullWidth,s=e.pressState,u=void 0===s?"none":s,d=e.accessibilityLabel,f=e.role,p=(Array.isArray(u)?u:[u]).includes("compress");return(0,o.jsx)(r.iP,{accessibilityLabel:d,fullWidth:void 0!==c&&c,onMouseEnter:n&&function(e){return n(e.event)},onMouseLeave:i&&function(e){return i(e.event)},onTap:a&&function(e){return a(e.event)},role:f,rounding:l,tapStyle:p?"compress":"none",children:t})}},180338:function(e,t,n){"use strict";n.d(t,{H:function(){return o},W:function(){return i}});var r=(0,n(342513).Z)("PinCreateDeleteContext"),o=r.Provider,i=r.useMaybeHook},923075:function(e,t,n){"use strict";var r=n(672652),o=n(684404),i=n(140017),a=n(317540),l=n(819267);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(s,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=y(s);if(t){var r=y(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(p(e=i.call.apply(i,[this].concat(n))),"setInputRef",function(t){t&&(e._input=t)}),h(p(e),"handleKeyDown",function(t){var n=e.props,r=n.disabled,o=n.indexManager;if(!r)switch(t.which){case a.Z.ENTER:case a.Z.NUMPAD_ENTER:t.preventDefault(),o.select();break;case a.Z.UP:t.preventDefault(),o.prev();break;case a.Z.DOWN:t.preventDefault(),o.next()}}),e}return n=[{key:"componentDidMount",value:function(){this._input&&this._input.focus()}},{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.value;return(0,l.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,l.jsx)(o.Um,{ref:this.setInputRef,accessibilityLabel:"",id:"pickerSearchField",onChange:function(e){return t(e.value)},placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:"lg",value:n})})}}],d(s.prototype,n),r&&d(s,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(r.Component);t.Z=function(e){var t=(0,i.ZP)();return(0,l.jsx)(b,u(u({},e),{},{i18n:t}))}},175597:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(672652),o=n(684404),i=n(140017),a=n(218829),l=n(600959),c=n(923075),s=n(581349),u=n(503500),d=n(160390),f=n(819267);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(y,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=g(y);if(t){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(v(e=i.call.apply(i,[this].concat(n))),"state",{searchQuery:""}),_(v(e),"handleSelectItem",function(t){var n=e.props,r=n.onCreate,o=n.onSelected;!t&&r?r(e.state.searchQuery):t&&o(t),(r||t)&&e.setState({searchQuery:""})}),_(v(e),"handleSearchQueryInput",function(t){e.setState({searchQuery:t})}),_(v(e),"renderSectionHeader",function(e){return e.title?(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{paddingX:3,paddingY:1,children:(0,f.jsx)(o.xv,{size:"200",children:e.title})})}):null}),_(v(e),"renderRow",function(t){var n=t.item,r=t.hovered,o=t.sectionProps,i=e.props,a=i.boardSavedTo,l=i.isSelectMode,c=i.disabledRowId,u=e.state.searchQuery,d=(void 0===o?{}:o).inSectionSelection,p=void 0!==d&&d,y=a&&a.board===n.id?a&&a.state:null,h="board_section"===n.type;return(0,f.jsx)(s.Z,{disabled:n.id===c&&p,isSection:h,isSelectMode:l,isWithinSectionPicker:p,item:n,saveState:y,searchQuery:u,selected:r})}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,n=e.createButtonLabel,r=e.hasLowBoardCount,i=e.getSections,s=e.isLoaded,p=e.onCreate,y=e.pinId;if(!s)return(0,f.jsx)(o.xu,{paddingY:5,children:(0,f.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility label for the loading spinner the repin picker', 'accessibility label for the loading spinner the repin picker'),show:!0})});var h=this.state.searchQuery,m=i(h);return this.indexManager=new a.Z(m.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem),(0,f.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{zIndex:0}},direction:"column",display:"flex",flex:"grow",height:"100%",minHeight:0,overflow:"auto",children:[!r&&(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{marginBottom:4,marginTop:1,paddingX:3,children:(0,f.jsx)(c.Z,{disabled:!!t,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:h})})}),(0,f.jsx)(l.Z,{disabled:!!t,grow:!r&&!h,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:m}),p&&(0,f.jsx)(o.xu,{borderStyle:m.length>1?"shadow":"none",children:(0,f.jsx)(d.Z,{buttonLabel:n,hasHoverState:!0,name:h,onClick:function(){return p(h)}})}),r&&p&&y&&(0,f.jsx)(u.Z,{onBoardSelected:p,pinId:y})]})}}],m(y.prototype,n),r&&m(y,r),Object.defineProperty(y,"prototype",{writable:!1}),y}(r.Component);function S(e){var t=(0,i.ZP)();return(0,f.jsx)(x,h(h({},e),{},{i18n:t}))}},42173:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(672652),o=n(71328);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var f=function(e,t){var n=e.scrollTop,r=e.clientHeight,o=e.scrollHeight;return n+r+(t?t(r):2*r)>o},p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(d,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=s(d);if(t){var r=s(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function d(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return u(c(e=r.call.apply(r,[this].concat(n))),"setContainerRef",function(t){e.containerRef=t}),u(c(e),"fetchMoreIfNecessary",(0,o.Z)(function(){var t=e.props,n=t.fetchMore,r=t.scrollBuffer;n&&e.containerRef&&f(e.containerRef,r)&&n()},200)),e}return a(d.prototype,[{key:"componentDidMount",value:function(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function(){this.fetchMoreIfNecessary()}},{key:"render",value:function(){return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}]),n&&a(d,n),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.PureComponent)},525918:function(e,t,n){"use strict";n.d(t,{l:function(){return m},E:function(){return h}});var r=n(672652),o=n(342513),i=n(638747);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SUGGESTIONS_FETCH_COMPLETE"===t.type){var n=t.payload;if("ShareSuggestionsResource"===n.resource){var r,o=t.payload.response.resource_response.data||[],i=(null!==(r=n.options)&&void 0!==r?r:{}).term,a=void 0===i?"":i;return c(c({},e),{},s({},a,o))}if("ShareSuggestionsTypeaheadResource"===n.resource){var l,u=(t.payload.response.resource_response.data||{}).items||[],d=(null!==(l=n.options)&&void 0!==l?l:{}).term,f=void 0===d?"":d;return c(c({},e),{},s({},f,u))}}return e}var d=n(819267);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,o.Z)("ShareSuggestions"),y=p.Provider,h=p.useHook;function m(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(u,{}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],l=o[1],c=function(e){l({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,i.Z8)("ShareSuggestionsResource",c),(0,i.Z8)("ShareSuggestionsTypeaheadResource",c);var s=(0,r.useMemo)(function(){return{shareSuggestions:a}},[a]);return(0,d.jsx)(y,{value:s,children:n})}},519925:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},j:function(){return c}});var r=n(684404),o=n(140017),i=n(339001),a=n(340523),l=n(819267),c=[0,2,3];function s(e){var t,n=e.hasAffiliateProducts,s=e.href,u=e.isPromoted,d=e.onNavigateSponsorClick,f=e.sponsorName,p=e.sponsorUsername,y=e.sponsorshipStatus,h=e.textWeight,m=(0,o.ZP)(),b=(0,a.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,v=(0,a.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,g=s||(p?"/".concat(p,"/"):null),_=g&&f?(0,l.jsx)(r.rU,{dataTestId:"sponsorship-text-link",href:g,onClick:d,children:(0,l.jsx)(r.xv,{size:"200",weight:void 0===h?"bold":h,children:f})},f):void 0;return u?t=(0,i.nk)(m._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:_}):y||0===y?f&&!c.includes(y)?t=(0,i.nk)(m._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:_}):v&&2===y||(t=m._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):n&&(t=m._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,l.jsxs)(r.xv,{inline:!0,lineClamp:2,size:"200",children:[b&&!u&&"Ad  "||"",t]})}},784300:function(e,t,n){"use strict";var r=n(672652),o=n(684404),i=n(572345),a=n(819267);t.Z=function(e){var t=e.badgeSize,n=e.badgeSpacing,l=e.fullName,c=e.isVerifiedIdentity,s=e.isVerifiedMerchant,u=e.truncate,d=l.split(" "),f=d.slice(0,d.length-1).join(" "),p=" ".concat(d[d.length-1]);return void 0!==u&&u?(0,a.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(o.xv,{lineClamp:1,weight:"bold",children:l}),(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:n}},flex:"none",paddingX:1,position:"relative",children:(0,a.jsx)(i.Z,{isVerifiedIdentity:c,isVerifiedMerchant:s,size:t})})]}):(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("span",{children:f}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[p,"\xa0",(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:n}},display:"inlineBlock",flex:"none",position:"relative",children:(0,a.jsx)(i.Z,{isVerifiedIdentity:c,isVerifiedMerchant:s,size:t})})]})]})}},533232:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(672652),o=n(780277),i=n(684404),a=n(140017),l=n(870319),c=n(149722),s=n(892185),u=n(296011),d=n(951766),f=n(900876),p=n(819267);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){var e=(0,c.Z)().id;return(0,l.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker",user_id:e}}),(0,o.useSelector)(function(e){return(0,u.Z)(e)||[]})};function m(e){var t,n=e.excludeBoardId,o=e.onRepin,l=(0,a.ZP)(),c=h(),u=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=u[0],b=u[1],v=function(e,t){if(e&&t){b(t);return}o(t)};return c.length>0&&(m?(0,p.jsx)(f.Z,{boardId:null==m?void 0:m.id,repin:function(e,t){m&&o(m,t)},showSectionRep:!0}):(0,p.jsxs)(i.xu,{"data-test-id":"board-picker-row-container",children:[(0,p.jsx)(i.xu,{marginTop:3,children:(0,p.jsx)(i.xv,{children:l._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"".concat(s.T,"px")}},paddingY:3,children:c.filter(function(e){return e.id!==n}).map(function(e){return(0,p.jsx)(d.Z,{boardId:e.id,onBoardSelected:function(t){return v(t,e)}},e.id)})})]}))}},676166:function(e,t,n){"use strict";n.d(t,{Wx:function(){return C}});var r=n(672652),o=n(780277),i=n(328038),a=n(684404),l=n(454514),c=n(140017),s=n(165706),u=n(179425),d=n(13848),f=n(892185),p=n(533232),y=n(913449),h=n(490166),m=n(402287),b=n(125768),v=n(900876),g=n(819267);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,l,"next",e)}function l(e){S(i,r,o,a,l,"throw",e)}a(void 0)})}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}function T(e,t,n){return e?n._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?n._('Saved to section!', ' - ', ' -- '):n._('Saved to board!', ' - ', ' -- ')}function C(e){var t=e.onAddNewSection,n=e.useIconWithBackground,r=(0,c.ZP)();return(0,g.jsx)(s.FixedFooter,{alignCenter:n,height:n?f.y:f.T,children:(0,g.jsx)(h.Z,{onTouch:t,pressState:"none",children:(0,g.jsxs)(a.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:n?0:1,children:[n?(0,g.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,g.jsx)(a.JO,{accessibilityLabel:r._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,g.jsx)(a.JO,{accessibilityLabel:r._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),n?(0,g.jsx)(a.xu,{marginStart:2,children:(0,g.jsx)(a.xv,{size:"400",weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,g.jsx)(a.xu,{marginStart:3,children:(0,g.jsx)(a.xv,{weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=I(i);if(t){var r=I(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return k(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(k(e=o.call.apply(o,[this].concat(n))),"onRepinToBoard",function(t){t.section_count?e.props.onRepinToBoardWithSections(t):e.props.repinToOtherBoard(t.id,e.props.i18n)}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardId,n=e.boardSectionId,r=e.orginalBoardId,o=e.onAddNewSection,i=e.repin,l=e.hideBoardPickerRow,c=e.selectedPinIds,d=e.isCollaborative,f=r===t;return(0,g.jsxs)(u.default,{hasFixedHeader:!0,children:[(0,g.jsxs)(s.FixedHeader,{hasBorder:!0,height:140,children:[(0,g.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(a.xu,{column:2,children:(0,g.jsx)(b.Z,{})}),(0,g.jsx)(a.xu,{column:8,children:(0,g.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,g.jsx)(a.xu,{column:2})]}),(0,g.jsx)(y.Z,{selectedPinIds:c})]}),t&&(0,g.jsx)(v.Z,{boardId:t,hideBoardPickerRow:f&&l,originalBoardId:r,repin:i,sectionId:n}),f&&(0,g.jsxs)(a.xu,{children:[!d&&(0,g.jsx)(p.Z,{excludeBoardId:t,onRepin:this.onRepinToBoard}),(0,g.jsx)(C,{onAddNewSection:o})]})]})}}],w(i.prototype,n),r&&w(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.PureComponent);t.ZP=function(e){var t,n,r=e.inSelectAll,a=e.pinIds,s=e.orginalBoardId,u=e.boardSectionId,f=e.onRefreshBoardSection,p=e.url,y=(0,d.F9)().showToast,h=(0,c.ZP)(),b=(0,i.k6)(),v=(0,o.useDispatch)(),_=(t=j(regeneratorRuntime.mark(function e(t,n,o){var i,c,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n&&n.id,c={boardId:s,sectionId:u},d={boardId:t,sectionId:i},h=r?(0,m.X_)({source:c,target:d,excludePinIds:a}):(0,m.Kw)({source:c,target:d,pinIds:a}),!(s!==t)){e.next=10;break}return e.next=7,v(h);case 7:b.push({pathname:p}),e.next=15;break;case 10:return e.next=12,v(h);case 12:if(!f){e.next=15;break}return e.next=15,f();case 15:y(function(e){var t=e.hideToast;return(0,g.jsx)(l.ZP,{onHide:t,text:T(r,i,o)})});case 16:case"end":return e.stop()}},e)})),function(e,n,r){return t.apply(this,arguments)}),P=(n=j(regeneratorRuntime.mark(function e(t,n){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={boardId:s,sectionId:u},i={boardId:t,sectionId:void 0},y(function(e){var t=e.hideToast;return(0,g.jsx)(l.ZP,{onHide:t,text:T(r,void 0,n)})}),e.next=5,v(r?(0,m.X_)({source:o,target:i,excludePinIds:a}):(0,m.Kw)({source:o,target:i,pinIds:a}));case 5:b.go(-2);case 6:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return(0,g.jsx)(R,x(x({},e),{},{i18n:h,repin:_,repinToOtherBoard:P}))}},892185:function(e,t,n){"use strict";n.d(t,{T:function(){return r},y:function(){return o}});var r=70,o=80},218829:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=l(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}n.d(t,{Z:function(){return d}});var c={row:0,section:0},s={row:-1,section:-1},u=function(){},d=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.index=i({},c),this.sections=e,this.updateCallback=u,this.selectItem=u}return e=[{key:"getIndex",value:function(){return this.index}},{key:"isAtStart",value:function(){var e=this.index,t=e.row,n=e.section;return 0===t&&0===n}},{key:"isAtEnd",value:function(){var e=this.index,t=e.row,n=e.section,r=this.sections[n]||[];return this.sections.length===n+1&&r.length===t+1}},{key:"next",value:function(){if(!this.isAtEnd()){var e=this.index,t=e.row,n=e.section;t===s.row&&n===s.section?this.index=i({},c):this.sections[n].length>t+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}}},{key:"prev",value:function(){if(!this.isAtStart()){var e=this.index,t=e.row,n=e.section;if(t===s.row&&n===s.section)this.index=i({},c);else if(t>0)this.index.row-=1;else{var r=this.index.section-1;this.index={section:r,row:this.sections[r].length-1}}this.updateCallback(!0)}}},{key:"select",value:function(){var e=this.index,t=e.row,n=e.section;this.selectItem((this.sections[n]||[])[t])}},{key:"setInactive",value:function(){this.index=i({},s),this.updateCallback()}},{key:"setSelectItem",value:function(e){this.selectItem=e}},{key:"setUpdateCallback",value:function(e){this.updateCallback=e}},{key:"updateIndex",value:function(e){this.index=e,this.updateCallback()}}],a(n.prototype,e),t&&a(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}()},600959:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(672652),o=n(684404),i=n(42173),a=n(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(y,e);var t,n,r,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=d(y);if(t){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function y(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y),f(u(t=p.call(this,e)),"setSelectedItemRef",function(e){t.selectedItemRef=e}),f(u(t),"handleIndexUpdate",function(e){var n=t.props.indexManager;t.setState({selectedIndex:n.getIndex(),selectionMovedByKeyboard:!!e})}),f(u(t),"handleSelectItem",function(e){return function(){var n=t.props,r=n.disabled,o=n.onSelectItem;r||o(e)}}),f(u(t),"handleMouseEnter",function(e){return function(){var n=t.props,r=n.disabled,o=n.indexManager;r||o.updateIndex(e)}}),f(u(t),"handleMouseLeave",function(){var e=t.props,n=e.disabled,r=e.indexManager;n||r.setInactive()}),f(u(t),"renderItems",function(e,n){var r=t.props.renderItem,i=t.state.selectedIndex||{},l=i.row,c=i.section,s=e.customProps,u=void 0===s?{}:s,d=e.items,f=e.renderItem,p=u.isDisabled,y=n===c,h=f||r;return h&&d.map(function(e,r){var i,c=null!==(i=null==p?void 0:p(e))&&void 0!==i&&i,s=y&&r===l;return(0,a.jsx)(o.xu,{ref:!c&&s?t.setSelectedItemRef:null,"data-test-id":"board-selection",children:c?h({item:e,hovered:s,sectionProps:u}):(0,a.jsx)(o.iP,{fullWidth:!1,onMouseEnter:t.handleMouseEnter({section:n,row:r}),onMouseLeave:t.handleMouseLeave,onTap:t.handleSelectItem(e),rounding:2,children:h({item:e,hovered:s,sectionProps:u})})},r)})}),f(u(t),"renderSections",function(){var e=t.props,n=e.renderSectionHeader;return e.sections.map(function(e,r){return(0,a.jsxs)(o.xu,{children:[n&&n(e,r),t.renderItems(e,r)]},r)})});var t,n=t.props.indexManager;return t.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(t.handleIndexUpdate),t}return n=[{key:"componentDidUpdate",value:function(e){var t=this.containerRef;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){var n=this.selectedItemRef;if(!(n instanceof HTMLElement))return;var r=n.getBoundingClientRect(),o=r.top,i=r.bottom,a=t.getBoundingClientRect(),l=a.top;i>=a.bottom?n.scrollIntoView(!1):o<=l&&n.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}},{key:"render",value:function(){var e=this,t=this.props,n=t.grow,r=void 0!==n&&n,l=t.maxHeight,c=t.fetchMore;return(0,a.jsx)(i.Z,{fetchMore:c,children:function(t){var n=t.setRef,i=t.onScroll;return(0,a.jsx)(o.xu,{ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e.containerRef=t,n(t)}),flex:r?"grow":void 0,height:r?"100%":void 0,maxHeight:l,onScroll:i,overflow:"auto",children:e.renderSections()})}})}}],c(y.prototype,n),r&&c(y,r),Object.defineProperty(y,"prototype",{writable:!1}),y}(r.Component)},572345:function(e,t,n){"use strict";n.d(t,{O:function(){return s},Z:function(){return u}});var r=n(672652),o=n(684404),i=n(140017),a=n(702497),l=n(819267),c={xs:12,sm:16,md:20,lg:24};function s(e){var t=e.children,n=(0,i.ZP)();return(0,l.jsx)(o.u,{link:(0,l.jsx)(o.rU,{href:a.vBy,target:"blank",children:(0,l.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:n._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:n._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function u(e){var t=e.iconOnly,n=e.isVerifiedIdentity,a=e.isVerifiedMerchant,u=e.showText,d=e.size,f=(0,i.ZP)(),p=(0,l.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(o.JO,{accessibilityLabel:f._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:c[d]}),u&&(0,l.jsx)(o.xu,{marginStart:2,children:(0,l.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:f._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(r.Fragment,{children:[a&&!t&&(0,l.jsx)(s,{children:p}),a&&t&&p,n&&!a&&(0,l.jsx)(o.JO,{accessibilityLabel:f._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:c[d]})]})}},739382:function(e,t,n){"use strict";n.d(t,{Bb:function(){return m},Bx:function(){return c},F4:function(){return l},OG:function(){return i},Qj:function(){return s},_6:function(){return h},gv:function(){return a},hg:function(){return u},is:function(){return p},jP:function(){return y},lt:function(){return o},oM:function(){return d},wI:function(){return f}});var r=n(624797),o=function(e){return e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal')},i=function(e){return e.pathname},a=function(e){var t=e.firstName,n=e.i18n;return t?(n._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",t):n._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board')},l=function(e){var t=(0,r.mB)(e.search).board_url;if(t){var n=(0,r.Jx)(t),o=(0,r.XP)({accept_invite:!0,seamless:!0});return n.includes("?")?"".concat(n,"&").concat(o):"".concat(n,"?").concat(o)}return e.pathname},c=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},s=function(e){var t=e.pathname;if(t.startsWith("/pin/")){var n=t.split("/");if(n.length>2)return"/".concat(n[1],"/").concat(n[2],"/repin/")}return t},u=function(e){return e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.')},d=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},f=function(e){var t=e.pathname;if(t.startsWith("/pin/")){var n=t.split("/");if(n.length>2)return"/".concat(n[1],"/").concat(n[2],"/edit/")}return t},p=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},y=function(e){return e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.')},h=function(e){return e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.')},m=function(e){return e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')}},121228:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(140017),o=n(739382),i=n(166770),a=n(819267);function l(e){var t=e.children,n=e.callbackFunction,l=e.modalHeader,c=e.nextLocation,s=(0,r.ZP)(),u=(0,i.H)(),d=u.viewer,f=u.loginForMore,p=u.limitedLoginModalSubheader,y=u.limitedLoginModalNextLocation,h="LIMITED_LOGIN"===d.type;return(0,a.jsx)("div",{onClickCapture:function(e){h&&(n&&n(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),null==f||f.setVisible(!0),null==p||p.setText(l||(0,o.lt)(s)),c&&(null==y||y.setRoute(c)))},children:t})}},88988:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r,o=n(672652);n(42279);var i=n(684404),a=n(207012),l=n(140017),c=n(339001),s=n(819267);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var b=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],v=function(e,t){return Math.random()*((e||1)-(t||0))+(t||0)},g=function(e){return e*(Math.PI/180)},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(a,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=y(a);if(t){var r=y(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return h(p(e=r.call.apply(r,[this].concat(n))),"animationTimer",null),h(p(e),"canvasRemovalTimer",null),h(p(e),"containerRef",(0,o.createRef)()),h(p(e),"buildCanvas",function(){if(!e.containerRef.current)return null;var t=e.containerRef.current.getBoundingClientRect(),n=t.height,r=t.width,o=2.5*n,i=document.createElement("canvas");return i.style.position="absolute",i.style.left="".concat(0-(o-r)/2,"px"),i.style.top="".concat(0-(o-n)/2,"px"),i.style.pointerEvents="none",i.style.width="".concat(o,"px"),i.style.height="".concat(o,"px"),i.style.overflow="visible",i.width=o,i.height=o,i}),h(p(e),"explode",function(){var t=e.buildCanvas(),n=e.containerRef.current;if(t&&n){var r=t.getContext("2d");n.prepend(t),function e(t,n,r,o){window.requestAnimationFrame(function(){return e(t,n,r,o)}),n.clearRect(0,0,r,o),t.forEach(function(e){e.x+=e.speed*Math.cos(g(e.degree)),e.y+=e.speed*Math.sin(g(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(n.beginPath(),n.globalAlpha=e.opacity,n.fillStyle=e.color,n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.fill())})}(Array.from(Array(120)).map(function(){return{x:t.width/2,y:t.height/2,radius:Math.round(v(10,30)),color:b[Math.floor(Math.random()*b.length)],degree:Number(v(0,360).toFixed(1)),speed:Math.round(v(0,25)),friction:.9,opacity:Number(v(0,.5).toFixed(1)),yVel:0,gravity:.04}}),r,t.width,t.height),e.canvasRemovalTimer=setTimeout(function(){n.removeChild(t)},(e.props.delay||0)+800)}}),e}return d(a.prototype,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.delay,r=t.startAnimation,o=e.startAnimation;r&&o!==r&&(this.animationTimer=setTimeout(this.explode,n))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return(0,s.jsx)(i.xu,{ref:this.containerRef,position:"relative",children:this.props.children})}}]),n&&d(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(o.PureComponent);h(_,"defaultProps",{delay:0});var P=["pinKey"];function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}var T=void 0!==r?r:r=n(786903),C=function(e,t,n,r){var o,i,a,l,c,s={},u=null===(o=n.current)||void 0===o?void 0:o.getBoundingClientRect(),d=null===(i=t.current)||void 0===i?void 0:i.getBoundingClientRect(),f=null===(a=r.current)||void 0===a?void 0:a.getBoundingClientRect();if(d&&u&&f){s={left:u.left-d.left,top:u.top-d.top};var p={x:f.left-u.left,y:f.top-u.top},y={x:(f.width-u.width)/2,y:(f.height-u.height)/2};l="translate(".concat(p.x,"px, ").concat(p.y,"px)"),c="translate(".concat(y.x,"px, ").concat(y.y,"px)")}return{mask:{position:"absolute",left:s.left,top:s.top,width:e?null==f?void 0:f.width:null==u?void 0:u.width,height:e?null==f?void 0:f.height:null==u?void 0:u.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?l:"none",transform:e?l:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==u?void 0:u.width,height:null==u?void 0:u.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?c:"none",transform:e?c:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(l,e);var t,n,r,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=I(l);if(t){var r=I(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return k(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(k(e=a.call.apply(a,[this].concat(n))),"state",{isInitialized:!1}),E(k(e),"containerRef",(0,o.createRef)()),E(k(e),"pinDestinationRef",(0,o.createRef)()),e}return n=[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame(function(){e.setState({isInitialized:!0})})}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(){var e=this.state.isInitialized,t=this.props.onDismiss;e&&t&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(t,2600))}},{key:"render",value:function(){var e,t,n,r,a,l,u=this.props,d=u.pin,f=u.firstRepin,p=u.pinImageRef,y=u.selectedBoardName,h=u.shuffleAsset,m=null!==(e=null==h?void 0:null===(t=h.cutout_images)||void 0===t?void 0:t.originals)&&void 0!==e?e:null==d?void 0:d.imageSpec_236x,b=null!==(n=null==d?void 0:d.description)&&void 0!==n?n:"",v=null!==(r=null==m?void 0:m.height)&&void 0!==r?r:1,g=null!==(a=null==m?void 0:m.width)&&void 0!==a?a:1,P=null!==(l=null==m?void 0:m.url)&&void 0!==l?l:"",x=this.state.isInitialized,S=C(x,this.containerRef,p,this.pinDestinationRef),j=S.mask,w=S.imageContainer;return(0,s.jsx)(o.Fragment,{children:(0,s.jsxs)(i.xu,{ref:this.containerRef,bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:j},maxHeight:335,overflow:"hidden",children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:w},children:(0,s.jsx)(i.Ee,{alt:b,naturalHeight:v,naturalWidth:g,src:P})})}),(0,s.jsx)(i.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:x?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1}},left:!0,position:"absolute",right:!0,top:!0,children:(0,s.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:x?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}},direction:"column",display:"flex",height:"100%",justifyContent:"center",children:[(0,s.jsx)(_,{delay:1250,startAnimation:x,children:(0,s.jsx)(i.zd,{height:180,rounding:2,width:270,children:(0,s.jsxs)(i.kC,{alignItems:"stretch",height:"100%",justifyContent:"start",width:"100%",children:[(0,s.jsx)(i.xu,{ref:this.pinDestinationRef,color:"transparent",flex:"grow",height:"100%",marginEnd:1}),(0,s.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:80,children:[(0,s.jsx)(i.xu,{color:"secondary",flex:"grow",marginBottom:1}),(0,s.jsx)(i.xu,{color:"secondary",flex:"grow"})]})]})})}),(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{opacity:x?1:0,WebkitTransform:x?"translateY(0)":"translateY(20%)",transform:x?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"}},paddingX:2,children:(0,s.jsx)(i.X6,{align:"center",children:f?(0,c.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First board create confirmation message', 'First board create confirmation message'),{selectedBoardName:null!=y?y:""}):(0,c.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:null!=y?y:""})})})]})})]})})}}],w(l.prototype,n),r&&w(l,r),Object.defineProperty(l,"prototype",{writable:!1}),l}(o.PureComponent);function D(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,P),r=(0,l.ZP)(),o=(0,a.Z)(T,t);return(0,s.jsx)(R,j(j({},n),{},{i18n:r,pin:o}))}E(R,"defaultProps",{firstRepin:!1})},854694:function(e,t,n){"use strict";var r=n(684404),o=n(140017),i=n(677068),a=n(819267),l=function(){var e=(0,o.ZP)();return e._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board')},c=function(){var e=(0,o.ZP)();return e._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board')};t.Z=function(e){var t=e.boardId,n=e.isFBC,o=e.viewType;return{duration:5e3,thumbnail:(0,a.jsx)(r.xu,{"data-test-id":"pin-save-toast",children:(0,a.jsx)(i.Z,{boardId:t,type:"thumbnail",viewType:o})}),text:n?[(0,a.jsx)(l,{},"0"),(0,a.jsx)(c,{},"1")]:void 0}}},978536:function(e,t,n){"use strict";n.d(t,{ZP:function(){return el},Io:function(){return eo}});var r=n(672652),o=n(780277),i=n(328038),a=n(684404),l=n(587703),c=n(696534),s=n(25919),u=n(190971),d=n(205841),f=n(454514),p=n(140017),y=n(339001),h=n(165706),m=n(179425),b=n(340523),v=n(995917),g=n(554786),_=n(760101),P=n(149722),x=n(677068),S=n(254292),j=n(638365),w=n(358589),O=n(854694),k=n(708171),I=[503459,505150,503761,505139],E=n(222910),A=n(823813),T=n(579240),C=n(117512),R=n(410391),D=n(984869),B=n(125768),F=n(920434),z=n(930837),L=n(227258),N=n(413523),Z=n(819267);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t,n=e.user,r=e.handleSelect,o=e.isSelected,i=null!==(t=n.first_name)&&void 0!==t?t:n.username;return(0,Z.jsx)(a.iP,{onTap:r,children:(0,Z.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",paddingX:1,paddingY:2,children:[(0,Z.jsx)(a.xu,{color:o?"selected":"default",dangerouslySetInlineStyle:{__style:{outline:o?"2px solid black":""}},rounding:"circle",width:44,children:(0,Z.jsx)(d.qE,{name:null!=i?i:"",outline:!0,src:n.image_medium_url})}),(0,Z.jsxs)(a.xu,{paddingX:3,children:[(0,Z.jsx)(a.xv,{size:"200",children:n.full_name}),(0,Z.jsxs)(a.xv,{size:"100",children:["@",n.username]})]})]})})}function H(e){var t,n=e.shareSuggestions,i=e.setSelectedCollaborators,l=e.selectedCollaborators,c=e.onDismiss,s=M((0,r.useState)(""),2),u=s[0],d=s[1],f=(0,p.ZP)(),y=(0,P.Z)(),h=(0,o.useDispatch)(),m=M((0,r.useState)(l),2),b=m[0],v=m[1],g=f._('Invite friends', 'duplo.boardCreate.inviteFriendsTitle', 'title for modal to invite friends to collaborate'),_=f._('Invite friends', 'duplo.boardCreate.inviteFriendsAccessbilityLabel', 'accessibility label to invite friends to collaborate'),x=(0,o.useSelector)(function(e){for(var t=e.resources.ShareSuggestionsTypeaheadResource,n={},r=0,o=Object.keys(t||{});r<o.length;r++){var i=o[r],a=t[i].data;a&&a.items&&(n[i]=a.items)}return n}),S=function(e){(0,F.Z)(h((0,L.U)("ShareSuggestionsTypeaheadResource",e)),200)},j=null!==(t=y.id)&&void 0!==t?t:"",w='term="'.concat(u,'",user="').concat(j,'"'),O='term="'.concat(u.slice(0,-1),'",user="').concat(j,'"'),k=x[w]||x[O],I=null!=k?k:n;return(0,Z.jsxs)(z.ZP,{accessibilityModalLabel:_,onDismiss:c,role:"dialog",children:[(0,Z.jsx)(a.xu,{padding:3,children:(0,Z.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,Z.jsx)(a.hU,{accessibilityLabel:f._('Cancel', 'boardPage.CreateModal.CancelButton', 'Button to exit the add collaborators modal'),icon:"cancel",onClick:c}),(0,Z.jsx)(a.kC.Item,{flex:"grow",children:(0,Z.jsx)(a.X6,{align:"center",size:"300",children:g})}),(0,Z.jsx)(a.zx,{color:"red",onClick:function(){i(b),c()},text:f._('Done', 'boardPage.CreateModal.ButtonText', 'text for done button')})]})}),(0,Z.jsxs)(a.xu,{alignContent:"center",color:"default",direction:"column",display:"flex",height:"calc(90vh - 50px)",overflow:"hidden",paddingX:4,width:"100%",children:[(0,Z.jsx)(a.xu,{color:"default","data-test-id":"contact-suggestion-search-field",fit:!0,paddingY:2,children:(0,Z.jsx)(N.Z,{accessibilityLabel:f._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),autoFocus:!1,id:"contactsSuggestSearchField",onChange:function(e){var t=e.value,n={options:{user:y.id,term:t}};d(t),S(n)},placeholder:f._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:u})}),(0,Z.jsxs)(a.xu,{maxHeight:"100%",overflow:"scrollY",children:[b&&Array.from(b.values()).map(function(e){return(0,Z.jsx)(U,{handleSelect:function(){var t=new Map(b);t.delete(e.id),v(t)},isSelected:!0,user:e},e.username)}),I&&I.map(function(e){return e.username&&!b.get(e.id)?(0,Z.jsx)(U,{handleSelect:function(){var t=new Map(b);t.set(e.id,e),v(t)},isSelected:!1,user:e},e.username):null})]})]})]})}var G=n(256918),W=n(525918),q=n(112544);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,er(r.key),r)}}function J(e,t){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t,n){return(t=er(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==V(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===V(t)?t:String(t)}var eo=function(e,t,n){var r=n._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found');return{text:t?(0,y.nk)(n._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:t}).join(" "):r,href:e}};function ei(e){var t,n=e.user,r=e.isSelected,o=e.onClick,i=(0,p.ZP)(),l=null!==(t=n.first_name)&&void 0!==t?t:n.username;return(0,Z.jsxs)(a.xu,{direction:"row",display:"flex",justifyContent:"between",paddingY:2,children:[(0,Z.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,Z.jsx)(a.xu,{width:40,children:(0,Z.jsx)(d.qE,{name:null!=l?l:"",outline:!0,src:n.image_medium_url})}),(0,Z.jsxs)(a.xu,{paddingX:2,children:[(0,Z.jsx)(a.xv,{size:"200",children:n.full_name}),(0,Z.jsxs)(a.xv,{size:"100",children:["@",n.username]})]})]}),(0,Z.jsx)(a.zx,{onClick:o,selected:r,text:r?i._('Added', 'duplo.createboardpage.addCollaborators.added', 'Button text for an invited collaborator'):i._('Add', 'duplo.createboardpage.addCollaborators.add', 'Button text to invite a collaborator')})]},n.username)}var ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=et(i);if(t){var r=et(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return en(ee(e=o.call.apply(o,[this].concat(n))),"state",{boardName:e.props.match.params.boardName||"",canSubmit:!!e.props.match.params.boardName,errorBoardNames:[],secret:!1,submitting:!1,collaborators:new Map,isCollaboratorModalOpen:!1}),en(ee(e),"handleRepinSuccess",function(){var t=e.props,n=t.location,r=t.directSaveExpEnabled,o=n.state&&n.state.pinDescription?n.state.pinDescription:"";e.props.history.go(o||r?-3:-2)}),en(ee(e),"onSwitchToggle",function(){e.setState(function(e){return{secret:!e.secret}})}),en(ee(e),"onInputChange",function(t){var n=t.target.value,r=n.trim().length;e.setState(function(e){var t=e.errorBoardNames;return{boardName:n,canSubmit:r>0&&r<=100&&!t.includes(n)}})}),en(ee(e),"onCreateClick",e.props.requireAuthForLimitedLogin({fn:function(){var t=e.state,n=t.boardName,r=t.secret,o=t.submitting,i=t.collaborators,l=e.props,c=l.checkExperiment,s=l.createPin,u=l.createBoard,d=l.inviteCollaborators,p=l.directSaveExpEnabled,h=l.dispatchOneTapSave,m=l.dispatchUnsavePin,b=l.history,v=l.i18n,g=l.location,_=l.match,P=l.pin,S=l.repinContext,w=l.repinToBoard,I=l.showRepinConfirmation,E=l.showToast,A=l.mountAfterActionPlacement;if(!o){var T=function(e){return b.push(e)},C=r?"secret":"public",R=_.params.pinId,D=g.state?g.state.pinnedToBoardId:"",B=e.props.i18n._('Created Board!', 'Text in toast after creating a new board', 'Text in toast after creating a new board');if(R){var F,z,L=(0,j.Z)((g.state||{}).trackingParams,null==P?void 0:P.tracking_params);e.setState({submitting:!0}),u({name:n,pin:P,privacy:C}).then((F=regeneratorRuntime.mark(function t(r){var o,i,a,l,s,u,d,y,_,x,j,C,B,F,z,N,M,K,U;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null!==(o=r.url)&&void 0!==o?o:"",e.setState({submitting:!1}),e.props.logContextEvent({event_type:20,view_type:3,object_id_str:R}),a=r.id,l=g.state&&g.state.pinDescription?g.state.pinDescription:"",u=(s=g.state||{}).isFirstBoardCreateActive,d=s.isEditingPin,y=s.pinBoardId,_=s.pinSectionId,j=(x=eo(i,n,v)).href,C=x.text,F=(B=(0,O.Z)({boardId:a,isFBC:u,viewType:3})).duration,z=B.text,N=B.thumbnail,M=function(){return I(function(e){var t=e.hideToast;return(0,Z.jsx)(k.Z,{duration:F,href:j,onHide:t,text:z||C,thumbnail:N})})},l||p?w({checkExperiment:c,i18n:e.props.i18n,logContextEvent:e.props.logContextEvent,pinId:R,boardId:a,onSuccess:function(){e.completeFirstExperiences(),A("Save",{pin_id:R})},showRepinConfirmation:function(e){return E(e)},trackingParams:{clientTrackingParams:L,pinnedToBoardId:D},historyPush:T,savePinId:null!==(K=null==S?void 0:S.save)&&void 0!==K?K:function(){}}).then(function(e){p&&e&&h({boardId:a,localPinId:e.id,pinId:R,nodeId:null==P?void 0:P.node_id})}).catch(function(t){E(function(n){var r=n.hideToast;return(0,Z.jsx)(f.ZP,{onHide:r,text:t.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'error completing repin', 'error completing repin'),type:"error"})})}):(e.completeFirstExperiences(M),e.props.logContextEvent({event_type:5,view_type:3,component:7,object_id_str:R,clientTrackingParams:L,aux_data:{board_id:D,destination_board_id:a}})),!(d&&P)){t.next=14;break}return t.next=13,m({pinId:P.id,pinBoardId:y,pinSectionId:_,clientTrackingParams:L});case 13:null!==(U=P.pinned_to_board)&&void 0!==U&&U.url&&b.replace(P.pinned_to_board.url);case 14:b.push("/pin/".concat(R,"/"));case 15:case"end":return t.stop()}},t)}),z=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=F.apply(e,t);function i(e){$(o,n,r,i,a,"next",e)}function a(e){$(o,n,r,i,a,"throw",e)}i(void 0)})},function(e){return z.apply(this,arguments)}),function(t){var r;96===t.api_error_code&&t.message&&(r=(0,Z.jsx)(a.xv,{children:t.message})),E(function(n){var o=n.hideToast;return(0,Z.jsx)(f.ZP,{onHide:o,text:r||t.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error"})}),e.setState(function(e){return{errorBoardNames:e.errorBoardNames.concat(n),canSubmit:!1,submitting:!1}})})}else e.setState({submitting:!0}),u({name:n,pin:P,privacy:C}).then(function(t){var n=e.props.location.state;if(!n||n&&(!n.imgData||!n.base64Image||!n.imageUrl)){e.setState({submitting:!1});var r=(0,O.Z)({boardId:t.id,viewType:92}),o=r.duration,l=r.text,c=r.thumbnail,u=Array.from(i.keys()),p=e.props,h=p.closeupExperience,m=p.repinExperience;(h||m)&&e.completeFirstExperiences(function(){return d&&d(t.id,u)}),E(function(e){var t=e.hideToast;return(0,Z.jsx)(k.Z,{duration:o,onHide:t,text:l||B,thumbnail:c})}),t.url&&b.replace(t.url);return}var v=n.description,g=n.guid,_=n.method,P=n.url,S=[];if("scraped"===n.method)n.imgData.forEach(function(e){return S.push(s({link:P,image_url:e,description:v,board_id:t.id,method:_,guid:g}))});else{var j=n.base64Image,w=n.imageUrl;S.push(s({link:P,image_url:w,image_base64:j,description:v,board_id:t.id,method:_,guid:g}))}Promise.all(S).then(function(n){E(function(e){var t=e.hideToast;return(0,Z.jsx)(f.ZP,{onHide:t,text:B})}),E(function(n){var r=n.hideToast;return(0,Z.jsx)(f.ZP,{_dangerouslySetThumbnail:(0,Z.jsx)(a.xu,{height:32,width:32,children:(0,Z.jsx)(x.Z,{boardId:t.id,type:"thumbnail"})}),onHide:r,text:(0,Z.jsx)(a.xv,{children:(0,y.nk)(e.props.i18n._('Saved to {{ boardName }}', 'CreateBoardPage.Toast.Message', 'Confirmation message after saving Board.boardName: board name '),{boardName:(0,Z.jsx)(a.xv,{weight:"bold",children:t.name})})})})}),e.props.logContextEvent({event_type:1,view_type:92,component:7,object_id_str:n[0].resource_response.data.id}),e.setState({submitting:!1}),t.url&&b.replace(t.url)},function(){E(function(t){var n=t.hideToast;return(0,Z.jsx)(f.ZP,{onHide:n,text:e.props.i18n._('Sorry! Something went wrong on our end.', 'error during pin creation', 'error during pin creation')})}),e.setState({submitting:!1})})},function(t){var n;e.setState({submitting:!1}),96===t.api_error_code&&t.message&&(n=(0,Z.jsx)(a.xv,{children:t.message})),E(function(r){var o=r.hideToast;return(0,Z.jsx)(f.ZP,{onHide:o,text:n||t.message_detail||t.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error"})})})}}})),en(ee(e),"completeFirstExperiences",function(t){var n=e.props,r=n.closeupExperience,o=n.repinExperience,i=n.completeExperience;if(r||o){var a=[];r&&r.placement_id&&I.includes(r.experience_id)&&a.push(i(r.placement_id,r.experience_id)),o&&o.placement_id&&501032===o.experience_id&&a.push(i(o.placement_id,o.experience_id)),a.length>0&&Promise.all(a).then(function(){e.handleRepinSuccess(),t&&t()})}else e.handleRepinSuccess(),t&&t()}),e}return n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.repinExperience,n=e.viewExperience;t&&n(t.placement_id,t.experience_id)}},{key:"render",value:function(){var e=this,t=this.props,n=t.i18n,r=t.contactSuggestions,o=t.checkExperiment,i=this.state,l=i.collaborators,s=i.isCollaboratorModalOpen,u=o("mweb_board_create_add_collaborators"),d=u.anyEnabled,f=u.group,p=d&&"enabled_suggested_contacts"===f,y=(0,Z.jsx)(a.iP,{onTap:function(){e.setState({isCollaboratorModalOpen:!0})},children:(0,Z.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,Z.jsx)(a.hU,{accessibilityLabel:n._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"person-add",iconColor:"darkGray",size:"md"}),(0,Z.jsx)(a.xu,{paddingX:2,children:(0,Z.jsx)(a.xv,{size:"200",weight:"bold",children:n._('Invite friends', 'duplo.createboardpage.inviteFriendsLabel', 'Invite friends label for the create board page')})})]})}),b=function(t){var n=new Map(l);n.get(t.id)?n.delete(t.id):n.set(t.id,t),e.setState({collaborators:n})},v=(0,Z.jsx)(a.xu,{children:l.size>0&&Array.from(l.values()).map(function(e){return(0,Z.jsx)(ei,{isSelected:!0,onClick:function(){b(e)},user:e},e.username)})}),g=p&&r&&(0,Z.jsx)(a.xu,{children:r.slice(0,3).map(function(e){return e.id&&!l.get(e.id)?(0,Z.jsx)(ei,{isSelected:!1,onClick:function(){b(e)},user:e},e.username):null})});return(0,Z.jsxs)(m.default,{hasFixedHeader:!0,children:[(0,Z.jsx)(S.Z,{text:n._('Create a Board', 'duplo.createboardpage.accessibilityModalLabel', 'Accessibility label for the create board page')}),s&&(0,Z.jsx)(H,{onDismiss:function(){e.setState({isCollaboratorModalOpen:!1})},selectedCollaborators:l,setSelectedCollaborators:function(t){e.setState({collaborators:t})},shareSuggestions:r}),(0,Z.jsx)(h.FixedHeader,{children:(0,Z.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,Z.jsx)(a.xu,{flex:"none",marginStart:-2,children:(0,Z.jsx)(B.Z,{})}),(0,Z.jsx)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:(0,Z.jsx)(a.xv,{align:"center",weight:"bold",children:this.props.i18n._('Create board', 'Label during board creation', 'Label during board creation')})}),(0,Z.jsx)(a.kC,{alignItems:"stretch",flex:"none",justifyContent:"end",children:(0,Z.jsx)(a.xu,{"data-test-id":"createBoardButton",children:(0,Z.jsx)(a.zx,{color:"red",disabled:!this.state.canSubmit||this.state.submitting,fullWidth:!0,onClick:this.onCreateClick,size:"sm",text:this.props.i18n._('Create', 'Create board button', 'Create board button')})})})]})}),!d&&(0,Z.jsx)(a.iz,{}),(0,Z.jsxs)(a.xu,{paddingX:4,paddingY:3,children:[(0,Z.jsx)(a.__,{htmlFor:"boardNameInput",children:(0,Z.jsx)(a.xv,{size:"200",children:this.props.i18n._('Board name', 'duplo.createboardpage.inputPlaceholder', 'Label during board creation')})}),(0,Z.jsx)("input",{id:"boardNameInput",onChange:this.onInputChange,placeholder:d?n._('Give your board a title', 'duplo.createboardpage.inputLabel', 'Placeholder text for create board'):n._('Add', ' - ', ' -- '),style:{color:(0,c.Yc)()?"#fff":"#333",fontSize:16,fontWeight:"semibold",background:"none",outline:"none",border:"none",marginTop:"4px",width:"100%"},value:this.state.boardName})]}),d&&(0,Z.jsxs)(a.xu,{paddingX:4,paddingY:3,children:[(0,Z.jsxs)(a.xv,{size:"200",children:[this.props.i18n._('Collaborators', 'BoardForm.BoardFormSecretToggle.subText', 'Label during board creation')," "]}),v,p&&g,y]}),!d&&(0,Z.jsx)(a.iz,{}),(0,Z.jsxs)(a.xu,{paddingX:4,paddingY:3,children:[d&&(0,Z.jsx)(a.xv,{size:"200",children:n._('Privacy', 'BoardForm.BoardFormSecretToggle.text', 'protected board')}),(0,Z.jsxs)(a.xu,{display:"flex",justifyContent:"between",paddingY:2,children:[(0,Z.jsxs)(a.__,{htmlFor:"secretToggle",children:[(0,Z.jsx)(a.xv,{weight:d?"bold":"normal",children:d?this.props.i18n._('Make this board secret', 'duplo.createBoardPage.toggle', 'Toggle during board creation'):this.props.i18n._('Keep board secret', 'Toggle during board creation', 'Toggle during board creation')}),d&&(0,Z.jsx)(a.xv,{color:"subtle",size:"200",children:this.props.i18n._('Only you and collaborators will see this board', 'duplo.createBoardPage.toggleSubtext', 'Toggle description during board creation')})]}),(0,Z.jsx)(a.rs,{id:"secretToggle",onChange:this.onSwitchToggle,switched:this.state.secret})]})]})]})}}],X(i.prototype,n),r&&X(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.PureComponent);function el(e){var t=(0,i.k6)(),n=(0,i.TH)(),r=(0,i.$B)(),a=(0,q.Z)(),c=(0,_.Z)(),d=(0,p.ZP)(),f=(0,w.Z)(),y=(0,P.Z)(),h=(0,l.Z)(),m=(0,s.be)(),x=(0,s.Ig)(),S=(0,g.ZP)(),O=(0,W.E)().shareSuggestions,k=(0,v.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}).isLoaded,I=(0,A.DK)(),B=(0,o.useDispatch)(),F=(0,G.M)(),z=(0,o.useSelector)(function(e){return e.experiences[1000112]}),L=(0,o.useSelector)(function(e){return e.experiences[1000153]}),N=(0,u.c)(),M=(0,E.Z)(),K=M.showRepinConfirmation,U=M.showToast,H=(0,b.F)().checkExperiment,V=H("mweb_direct_save_from_grid_v2",{dangerouslySkipActivation:!0}).anyEnabled||H("mweb_direct_save_from_grid_v2_new_user",{dangerouslySkipActivation:!0}).anyEnabled;if(!y.isAuth||r.params.pinId&&c||"desktop"===S)return(0,Z.jsx)(i.l_,{to:"/"});var Y=k&&O[""]||[];return(0,Z.jsx)(ea,Q(Q({},e),{},{checkExperiment:H,closeupExperience:z,completeExperience:function(e,t){return B(m(e,t))},contactSuggestions:Y,createBoard:function(e){var t=e.name,o=e.pin,i=e.privacy,l=r.params.pinId,c=n.state&&n.state.pinDescription?n.state.pinDescription:"";return l&&!c?a({boardCreateOptions:{name:t,privacy:i,initial_pins:[l],initial_pin_client_tracking_params:[(0,j.Z)((n.state||{}).trackingParams,null==o?void 0:o.tracking_params)]}}):a({boardCreateOptions:{name:t,privacy:i}})},createPin:function(e){return B((0,C.i)(e))},directSaveExpEnabled:V,dispatchOneTapSave:function(e){return B((0,T.a)(Q({},e)))},dispatchUnsavePin:function(e){var t=e.pinId,n=e.pinBoardId,r=e.pinSectionId,o=e.clientTrackingParams;return B((0,R.q)({pinId:t,boardId:n||"",boardSectionId:r,clientTrackingParams:o}))},history:t,i18n:d,inviteCollaborators:function(e,t){return I(e,t,y.id)},location:n,logContextEvent:h,match:r,mountAfterActionPlacement:N,repinContext:F,repinExperience:L,repinToBoard:function(e){var t,n=e.i18n,r=e.pinId,o=e.boardId,i=e.onSuccess,a=e.showRepinConfirmation,l=e.showToast,c=e.section,s=e.trackingParams,u=e.historyPush;return B((0,D.w)({checkExperiment:H,i18n:n,logContextEvent:h,pinId:r,boardId:o,onSuccess:i,showRepinConfirmation:a,showToast:l,section:c,trackingParams:s,historyPush:u,savePinId:null!==(t=null==F?void 0:F.save)&&void 0!==t?t:function(){}}))},requireAuthForLimitedLogin:f,showRepinConfirmation:K,showToast:U,viewExperience:function(e,t){return B(x(e,t))}}))}},18893:function(e,t,n){"use strict";n.d(t,{ZP:function(){return tU}});var r,o,i,a,l,c,s,u,d,f=n(672652),p=n(780277),y=n(42279),h=n(328038),m=n(684404),b=n(587703),v=n(25919),g=n(190971),_=n(930837),P=n(844683),x=n(454514),S=n(207012),j=n(673500),w=n(140017),O=n(339001),k=n(681508),I=n(165706),E=n(179425),A=n(340523),T=n(995917),C=n(870319),R=n(554786),D=n(149722),B=n(676166),F=n(254292),z=n(638365);function L(e,t){return!!(e&&e.placement_id&&e.experience_id===t)}var N=n(739382),Z=n(121228),M=n(891162),K=n(819267);function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var G="cubic-bezier(0.66, 0.025, 0.33, 0.975)",W=(0,M.qe)(function(e,t,n,r,o){var i=e,a=t,l=0,c=0,s="",u=Math.floor(t/3);if("shrinkToPin"===n&&(l="24px",c=1,i=Math.floor(3*u/2),a=u),"pinToGrid"===n&&r&&o){var d=r.getBoundingClientRect(),f=o.getBoundingClientRect(),p=f.x+f.width/2-(d.x+d.width/2),y=f.y+f.height/2-(d.y+d.height/2);s="translate(".concat(p,"px, ").concat(y,"px)"),l="24px 0px 0px 24px",c=1,i=u,a=u}return{borderRadius:l,height:i,opacity:c,overflow:"hidden",width:a,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:s,transform:s,WebkitTransition:"all .42s ".concat(G),transition:"all .42s ".concat(G)}}),q=(0,M.qe)(function(e){return{opacity:e?1:0,WebkitTransition:"opacity .42s ".concat(G),transition:"opacity .42s ".concat(G)}}),V=(0,M.qe)(function(e){return{opacity:e?0:1,WebkitTransition:"all .25s ".concat(G),transition:"all .25s ".concat(G),zIndex:3}});function Y(e){var t,n,r,o,i=e.completeExperience,a=e.pinDominantColor,l=e.pinImageHeight,c=e.pinImageWidth,s=e.pinImageUrl,u=(0,w.ZP)(),d=U((0,f.useState)("visible"),2),p=d[0],y=d[1],h=U((0,f.useState)("none"),2),b=h[0],v=h[1],g=window.innerWidth,_=g*(l/c),P=Math.floor(g/3),x=Math.floor(g/6);(0,f.useEffect)(function(){s&&"none"===b&&(t=setTimeout(function(){v("shrinkToPin")},85)),s&&"shrinkToPin"===b&&(n=setTimeout(function(){v("pinToGrid")},2e3)),"pinToGrid"===b&&"visible"===p&&(r=setTimeout(function(){y("hidden")},2e3)),"hidden"===p&&(o=setTimeout(function(){y("none"),i()},300))}),(0,f.useEffect)(function(){return function(){clearTimeout(t),clearTimeout(n),clearTimeout(r),clearTimeout(o)}},[]);var S=(0,f.useRef)(null),j=(0,f.useRef)(null);return(0,K.jsxs)(m.xu,{alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:V("hidden"===p)},direction:"column",display:"none"===p?"none":"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,children:[(0,K.jsxs)(m.xu,{alignItems:"center",display:"flex",height:g/2,justifyContent:"center",marginBottom:8,position:"relative",width:"100%",children:[(0,K.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:q("pinToGrid"===b)},position:"absolute",children:(0,K.jsx)(m.zd,{height:P,rounding:6,width:P+x+1,children:(0,K.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,K.jsx)(m.xu,{ref:j,color:"transparent",height:P,width:P}),(0,K.jsxs)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,K.jsx)(m.xu,{color:"secondary",height:x,width:x}),(0,K.jsx)(m.xu,{color:"secondary",height:x,width:x})]})]})})}),(0,K.jsx)(m.xu,{ref:S,dangerouslySetInlineStyle:{__style:W(_,g,b,S.current,j.current)},position:"absolute",children:(0,K.jsx)(m.Ee,{alt:u._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:a,fit:"cover",naturalHeight:l,naturalWidth:c,src:s})})]}),(0,K.jsx)(m.xu,{marginBottom:8,marginTop:8,paddingX:12,children:(0,K.jsx)(m.X6,{align:"center",size:"500",children:u._('Keep your ideas organized by creating a board', 'boardPicker.edu.heading', 'board create education shown before user create their first board')})})]})}var Q=n(854694),$=n(708171);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eo(r.key),r)}}function ee(e,t){return(ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function et(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t,n){return(t=eo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eo(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==X(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===X(t)?t:String(t)}var ei=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],ea=function(e,t){return Math.random()*((e||1)-(t||0))+(t||0)},el=function(e){return e*(Math.PI/180)},ec=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=en(o);if(t){var r=en(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return et(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return er(et(e=r.call.apply(r,[this].concat(n))),"animationTimer",null),er(et(e),"canvasRemovalTimer",null),er(et(e),"childrenContainerRef",(0,f.createRef)()),er(et(e),"containerRef",(0,f.createRef)()),er(et(e),"buildCanvas",function(){if(!e.containerRef.current)return null;var t=window.innerWidth,n=e.containerRef.current.getBoundingClientRect(),r=n.height,o=n.top,i=document.createElement("canvas");return i.style.position="absolute",i.style.left="0px",i.style.top="".concat(o-(t-r)/2,"px"),i.style.pointerEvents="none",i.style.width="".concat(t,"px"),i.style.height="".concat(t,"px"),i.width=t,i.height=t,i}),er(et(e),"explode",function(){var t=e.buildCanvas();if(t){var n=e.containerRef.current,r=e.childrenContainerRef.current,o=t.getContext("2d");null==n||n.insertBefore(t,r),function e(t,n,r,o){window.requestAnimationFrame(function(){return e(t,n,r,o)}),n.clearRect(0,0,r,o),t.forEach(function(e){e.x+=e.speed*Math.cos(el(e.degree)),e.y+=e.speed*Math.sin(el(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(n.beginPath(),n.globalAlpha=e.opacity,n.fillStyle=e.color,n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.fill())})}(Array.from(Array(120)).map(function(){return{x:t.width/2,y:t.height/2,radius:Math.round(ea(10,30)),color:ei[Math.floor(Math.random()*ei.length)],degree:Number(ea(0,360).toFixed(1)),speed:Math.round(ea(0,25)),friction:.9,opacity:Number(ea(0,.5).toFixed(1)),yVel:0,gravity:.04}}),o,t.width,t.height),e.canvasRemovalTimer=setTimeout(function(){null==n||n.removeChild(t)},(e.props.delay||0)+1e3)}}),e}return J(o.prototype,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.delay,r=t.startAnimation,o=e.startAnimation;r&&o!==r&&(this.animationTimer=setTimeout(this.explode,n))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return(0,K.jsx)(m.xu,{ref:this.containerRef,children:(0,K.jsx)(m.xu,{ref:this.childrenContainerRef,children:this.props.children})})}}]),n&&J(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(f.PureComponent);function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach(function(t){eb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ev(r.key),r)}}function ey(e,t){return(ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eh(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function em(e){return(em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eb(e,t,n){return(t=ev(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ev(e){var t=function(e,t){if("object"!==es(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==es(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===es(t)?t:String(t)}er(ec,"defaultProps",{delay:0});var eg=function(e,t,n){var r,o,i=[],a=null===(r=t.current)||void 0===r?void 0:r.getBoundingClientRect(),l=null===(o=n.current)||void 0===o?void 0:o.getBoundingClientRect();if(a&&l){var c={x:l.left-a.left,y:l.top-a.top},s={x:l.width/a.width,y:l.height/a.height};i.push("translate(".concat(c.x,"px, ").concat(c.y,"px)")),i.push("scale(".concat(s.x,", ").concat(s.y,")"))}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?i.join(" "):"none",transform:e?i.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}},e_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em(i);if(t){var r=em(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===es(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eh(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eb(eh(e=o.call.apply(o,[this].concat(n))),"state",{startAnimation:!1}),eb(eh(e),"dismissTimer",null),eb(eh(e),"pinRef",(0,f.createRef)()),eb(eh(e),"pinDestinationRef",(0,f.createRef)()),eb(eh(e),"handleAnimationAndCompletion",function(){var t=e.props,n=t.onComplete,r=t.savePin,o=t.selectedBoardName;if(o){var i=e.startAnimation();Promise.all([i,r(o)]).then(function(e){n((function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return ef(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],o)}).catch(function(e){i.then(function(){e&&e.onError&&e.onError()})})}}),eb(eh(e),"startAnimation",function(){return new Promise(function(t){e.setState({startAnimation:!0},function(){e.dismissTimer=setTimeout(function(){t()},2600)})})}),e}return n=[{key:"componentWillUnmount",value:function(){this.dismissTimer&&clearTimeout(this.dismissTimer)}},{key:"componentDidUpdate",value:function(){var e=this.props.selectedBoardName,t=this.state.startAnimation;e&&!t&&this.handleAnimationAndCompletion()}},{key:"render",value:function(){var e=this,t=this.props,n=t.pinDominantColor,r=t.pinImageUrl,o=t.selectedBoardName,i=this.state.startAnimation;return(0,K.jsxs)(f.Fragment,{children:[(0,K.jsx)(m.Le,{top:I.DEFAULT_HEIGHT,zIndex:new m.Ry(3),children:(0,K.jsx)(m.xu,{alignItems:"center",color:i?"transparent":"default",display:"flex",justifyContent:"center",children:(0,K.jsx)(m.xu,{ref:this.pinRef,dangerouslySetInlineStyle:{__style:eg(i,this.pinRef,this.pinDestinationRef)},height:84,position:"relative",width:84,children:(0,K.jsx)(m.Ee,{alt:this.props.i18n._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:n,fit:"cover",naturalHeight:84,naturalWidth:84,src:r})})})}),(0,K.jsx)(m.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:i?1:0,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}},left:!0,position:"fixed",right:!0,top:!0,children:(0,K.jsxs)(m.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,K.jsx)(ec,{delay:1200,startAnimation:i,children:(0,K.jsx)(m.zd,{rounding:2,width:148,children:(0,K.jsx)(m.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:Array.from([,,,,]).map(function(t,n){var r=n<=1,o=n%2,i=0===n?e.pinDestinationRef:null;return(0,K.jsx)(m.xu,{ref:i,color:0===n?"transparent":"secondary",height:72,marginBottom:r?1:0,marginEnd:o?0:1,width:72},n)})})})}),(0,K.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{opacity:i?1:0,WebkitTransform:i?"translateY(0)":"translateY(20%)",transform:i?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"}},paddingX:4,children:(0,K.jsx)(m.X6,{children:(0,O.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First repin confirmation message', 'First repin confirmation message'),{selectedBoardName:o})})})]})})]})}}],ep(i.prototype,n),r&&ep(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(f.PureComponent),eP=function(e){var t=(0,w.ZP)();return(0,K.jsx)(e_,ed(ed({},e),{},{i18n:t}))},ex=n(222910),eS=n(978536),ej=n(67765),ew=n(949457),eO=n(296011),ek=n(386008),eI=n(125768),eE=n(13848),eA=n(86967),eT=n(402287),eC=n(410391),eR=n(984869),eD=n(256918);function eB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eF(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ez=void 0!==r?r:r=n(77256);function eL(e){var t=e.createSectionAndRepin,n=e.errorMessage,r=e.i18n,o=e.pin,i=e.setErrorMessage,a=e.useRoundedCorners,l=eB((0,f.useState)(""),2),c=l[0],s=l[1];return(0,K.jsx)(eA.Z,{backButtonIcon:"arrow-back",errorMessage:n,name:c,onNameChange:function(e){i(""),s(e.target.value)},onNextButtonTouch:function(){t(c,r)},selectedPinIds:[o.entityId],useRoundedCorners:a})}function eN(e){var t=e.boardId,n=e.isEditingPin,r=e.onSuccess,o=e.pinKey,i=e.pinBoardId,a=e.pinSectionId,l=e.trackingParams,c=e.useRoundedCorners,s=(0,S.Z)(ez,o),u=(0,p.useDispatch)(),d=(0,h.k6)(),y=(0,w.ZP)(),m=(0,eE.F9)().showToast,v=(0,b.Z)(),_=(0,eD.M)(),P=(0,A.F)().checkExperiment,j=(0,g.c)(),O=eB((0,f.useState)(""),2),k=O[0],I=O[1],E=function(e){return d.push(e)};return(0,K.jsx)(eL,{createSectionAndRepin:function(e){var o=function(e){return I(e.message_detail||e.message)};u((0,eT.Nv)(t,[],e,v)).then(function(e){m(function(e){var t=e.hideToast;return(0,K.jsx)(x.ZP,{onHide:t,text:y._('Section added!', ' - ', ' -- ')})});var c,f=e.resource_response.data;u((0,eR.w)({checkExperiment:P,i18n:y,logContextEvent:v,pinId:s.entityId,boardId:t,onSuccess:n?void 0:function(){j("Save",{pin_id:s.entityId}),r()},showToast:m,section:f,trackingParams:{clientTrackingParams:l,pinnedToBoardId:s.pinnedToBoard?s.pinnedToBoard.entityId:""},historyPush:E,savePinId:null!==(c=null==_?void 0:_.save)&&void 0!==c?c:function(){}})).then(function(){s&&i&&u((0,eC.q)({pinId:s.entityId,boardId:i,boardSectionId:a,clientTrackingParams:l})).then(function(){var e;return s.pinnedToBoard?d.replace(null!==(e=s.pinnedToBoard.url)&&void 0!==e?e:""):void 0})}).catch(o)}).catch(o)},errorMessage:k,i18n:y,pin:s,setErrorMessage:I,useRoundedCorners:c})}var eZ=n(160133),eM=n(216167),eK=n(227258),eU=n(827625),eH=n(494125),eG=n(785059),eW=n(199677),eq=n(237040),eV=n(358589),eY=n(821419),eQ=n(64819),e$=n(430408),eX=n(579240),eJ=n(937310),e0=n(951766);function e1(e){var t=e.handleSelected,n=(0,w.ZP)(),r=(0,b.Z)();return(0,eH.Z)(function(){r({component:7,element:11933,event_type:13,view_type:3})}),(0,K.jsx)(m.iP,{onTap:function(){t(!1,null)},rounding:2,children:(0,K.jsxs)(m.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4,rounding:2,children:[(0,K.jsx)(m.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",rounding:2,width:48,children:(0,K.jsx)(m.JO,{accessibilityLabel:n._('Profile', 'save.ProfilePickerRow.IconAccessibilityLabel', 'Accessibility label for icon on option to save Pin to profile'),color:"default",icon:"history",size:22})}),(0,K.jsx)(m.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,overflow:"hidden",width:"100%",children:(0,K.jsx)(m.xv,{lineClamp:1,size:"400",weight:"bold",children:n._('Profile', 'save.ProfilePickerRow', 'Option to save Pin to profile')})})]})})}var e2=n(308082);function e3(){var e=(0,e2.useRelayEnvironment)();return(0,f.useCallback)(function(t){e&&(0,e2.commitLocalUpdate)(e,function(e){var n;null===(n=e.get(t))||void 0===n||n.invalidateRecord()})},[e])}function e6(e){return(e6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e8(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function e4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e4(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==e6(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==e6(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e6(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e5=void 0!==o?o:o=n(245160),e9=function(e,t,n){return e7({field_set_key:"detailed",id:e,preserve_component_state:t},n?{orbac_subject_id:n}:Object.freeze({}))};function te(e){var t,n,r=e.boards,o=e.boardsShortlist,i=void 0===o?[]:o,a=e.closeModal,l=e.dismissFlyout,c=e.history,s=e.isEditingPin,u=e.isFromToast,d=e.logContextEvent,y=e.onSelect,h=e.originalPinId,b=e.pinKey,v=e.pinBoardId,_=e.saveToProfileEnabled,P=e.trackingParams,j=(0,w.ZP)(),O=(0,S.Z)(e5,b),k=e3(),I=(0,p.useDispatch)(),E=(0,eV.Z)(),T=(0,eD.M)(),C=(0,g.c)(),R=c.location.state&&c.location.state.isOneTapSave,B=(0,A.F)().checkExperiment,F=_&&B("mweb_top_choices_extract_profile").anyEnabled,z=B("web_top_choices_ordering_and_reduction").anyEnabled,L=B("mweb_direct_save_from_grid_v2",{dangerouslySkipActivation:!0}).anyEnabled||B("mweb_direct_save_from_grid_v2_new_user",{dangerouslySkipActivation:!0}).anyEnabled,Z=(0,ex.Z)(),M=Z.showRepinConfirmation,U=Z.showToast,H=function(e){return c.push(e)},G=i;z||(G=0!==i.length?r.filter(function(e){return i.some(function(t){return e.id===t.id})}):r.slice(0,3));var W=G.map(function(e){return e.id});_&&W.unshift("PROFILE_PINS");var q=(0,eG.Z)(),V=(0,D.Z)(),Y=(0,eW.lJ)(V,q),Q=(0,eq.Yg)();(0,eH.Z)(function(){W&&d({event_type:13,component:7,element:1001,view_type:3,aux_data:{pin_id:O.entityId,suggested_boards:W}})});var $=function(e){var t,n=e.boardId,r=e.i18n,o=e.isQuickSave;return l(),null==Q||Q("main_pin_repin"),I((0,eR.w)({checkExperiment:B,i18n:r,isQuickSave:o,logContextEvent:d,pinId:O.entityId,boardId:n,onSuccess:function(){C("Save",{pin_id:O.entityId}),c.goBack()},originalPinId:h,showRepinConfirmation:M,trackingParams:P,historyPush:H,suggestedBoardIds:W,savePinId:null!==(t=null==T?void 0:T.save)&&void 0!==t?t:function(){}}))},X=function(e){return I((0,eY.Br)(e))},J=E({fn:(t=regeneratorRuntime.mark(function e(t,n){var r,o,i,l,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n)){e.next=4;break}y(n),e.next=17;break;case 4:if(e.prev=4,s){e.next=11;break}return r=!(null!=n&&n.id),e.next=9,$({boardId:null==n?void 0:n.id,i18n:j,isQuickSave:r});case 9:if(o=e.sent,(R||L)&&o){var p;p={boardId:null==n?void 0:n.id,localPinId:o.id,pinId:O.entityId,nodeId:O.__id},I((0,eX.a)(e7({},p)))}case 11:s&&(i=v,d=e7({board_id:l=null==n?void 0:n.id,id:O.entityId},Y?{orbac_subject_id:Y}:Object.freeze({})),f=i!==l,eM.Z.create("PinResource",d).callUpdate().then(function(e){var t,n,r,o;f&&l&&i&&(t={selectedPinIds:[O.entityId],source:{boardId:i,sectionId:void 0},target:{boardId:l,sectionId:void 0}},I((0,e$.S)(t)),X({boardId:l,sectionId:void 0,increment:1}),X({boardId:i,sectionId:void 0,increment:-1}),V.id&&!i&&(n=V.id,r=O.entityId,I((0,eQ.EX)({feedId:n,feedType:eJ.Z.BOARDLESS_PINS,itemIds:[r],itemType:"pin"})))),I((0,eK.b)("PinResource",{options:d})),o=O.entityId,I((0,eU.jB)("PinResource",e9(o,!0,Y))),k(O.__id),I((0,eU.Sr)("PinResource",e9(e.resource_response.data.id,!1,Y),e)),c.goBack()}),u&&a()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),U(function(t){var n=t.hideToast;return(0,K.jsx)(x.ZP,{onHide:n,text:e.t0.message||j._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),type:"error"})});case 17:case"end":return e.stop()}},e,null,[[4,14]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){e8(i,r,o,a,l,"next",e)}function l(e){e8(i,r,o,a,l,"throw",e)}a(void 0)})},function(e,t){return n.apply(this,arguments)}),modalHeader:(0,N.Bx)(j)});return(0,K.jsx)(f.Fragment,{children:(0,K.jsxs)(m.kC,{direction:"column",gap:4,children:[(0,K.jsxs)(m.xu,{children:[_&&F&&(0,K.jsx)(e1,{handleSelected:J}),i.length>0&&(0,K.jsx)(m.xu,{marginBottom:4,marginTop:2,children:(0,K.jsx)(m.xv,{children:j._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})}),_&&!F&&(0,K.jsx)(e1,{handleSelected:J}),G.map(function(e){return(0,K.jsx)(e0.Z,{boardId:e.id,onBoardSelected:function(t){return J(t,e)},showSingleBoardRep:!0},e.id)})]}),(0,K.jsxs)(m.xu,{children:[(0,K.jsx)(m.xu,{marginBottom:4,children:(0,K.jsx)(m.xv,{children:j._('All boards', 'RepinFlow.BoardPickerList.AllBoards', 'Board picker list all boards title')})}),r.map(function(e){return(0,K.jsx)(e0.Z,{boardId:e.id,onBoardSelected:function(t){return J(t,e)},showSingleBoardRep:!0},e.id)})]})]})})}var tt=n(490166),tn=function(){return(0,K.jsx)(m.xu,{color:"secondary",display:"inlineBlock",height:60,minWidth:60,overflow:"hidden",position:"relative",rounding:4,children:(0,K.jsxs)(f.Fragment,{children:[(0,K.jsx)(m.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),(0,K.jsx)(m.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,position:"absolute",right:!0,width:"50%"})]})})},tr=n(529081),to=n(112544);function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var tc=void 0!==i?i:i=n(7209),ts=function(e){var t=e.allSuggestions,n=e.handleCreateBoard,r=e.index,o=e.isFBC,i=e.logContextEvent,a=e.pinViewParameter;n(),i({aux_data:{board_title_list:JSON.stringify(t),is_fbc:o.toString(),selected_board_title_index:r},component:7,element:23,event_type:102,view_parameter:a,view_type:3})};function tu(e){var t,n,r,o,i,a=e.isEditingPin,l=e.isFirstBoard,c=e.history,s=e.onFirstBoardCreate,u=e.pinBoardId,d=e.pinKey,f=e.pinSectionId,y=e.titleSuggestions,h=e.clientTrackingParams,v=(0,b.Z)(),g=(0,to.Z)(),_=(0,w.ZP)(),P=(0,eV.Z)(),x=(0,ex.Z)().showRepinConfirmation,j=(0,p.useDispatch)(),O=(0,S.Z)(tc,d),k=O.entityId,I=(0,tr.A)({hasRichMetadata:!!O.richMetadata,hasRichMetadataProducts:!!(null!==(r=O.richMetadata)&&void 0!==r&&r.products),hasRichMetadataArticle:!!(null!==(o=O.richMetadata)&&void 0!==o&&o.article),hasRichMetadataRecipe:!!(null!==(i=O.richMetadata)&&void 0!==i&&i.recipe)}),E=(0,eD.M)(),T=(0,z.Z)(h,O.trackingParams),C=function(e){return c.push(e)},R=(0,A.F)().checkExperiment,D=R("mweb_direct_save_from_grid_v2",{dangerouslySkipActivation:!0}).anyEnabled||R("mweb_direct_save_from_grid_v2_new_user",{dangerouslySkipActivation:!0}).anyEnabled,B=function(e){j((0,eC.q)({pinId:k,boardId:u||"",boardSectionId:f,clientTrackingParams:e}))},F=(t=regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(T);case 2:n=null===(t=O.pinnedToBoard)||void 0===t?void 0:t.url,O.section?(o="".concat(null!=n?n:"").concat(null!==(r=O.section.slug)&&void 0!==r?r:"","/"),c.replace(null!=o?o:"")):c.replace(null!=n?n:"");case 4:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){ta(i,r,o,a,l,"next",e)}function l(e){ta(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)}),L=function(e){g({boardCreateOptions:{name:e,initial_pins:[k],initial_pin_client_tracking_params:[h],privacy:"public"}}).then(function(e){return a?F():c.goBack(),e}).then(function(t){var n=t||{},r=n.url,o=n.id,i=(0,eS.Io)(void 0===r?"":r,e,_),a=i.href,l=i.text,c=(0,Q.Z)({boardId:o,viewType:3}),s=c.duration,u=c.text,d=c.thumbnail;x(function(e){var t=e.hideToast;return(0,K.jsx)($.Z,{duration:s,href:a,onHide:t,text:u||l,thumbnail:d})}),v({event_type:5,view_type:3,component:7,view_parameter:I,object_id_str:k,clientTrackingParams:T,aux_data:{board_id:o,destination_board_id:o}})})},Z=function(e){g({boardCreateOptions:{name:e,initial_pin_client_tracking_params:[h],privacy:"public"}}).then(function(t){var n,r=t||{},o=r.url,i=void 0===o?"":o,l=r.id;j((0,eR.w)({checkExperiment:R,i18n:_,logContextEvent:v,pinId:k,boardId:l,trackingParams:{clientTrackingParams:T,pinnedToBoardId:l},historyPush:C,savePinId:null!==(n=null==E?void 0:E.save)&&void 0!==n?n:function(){}})).then(function(t){n={boardId:l,localPinId:t.id,pinId:k,nodeId:O.__id},j((0,eX.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==ti(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ti(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ti(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n))),a?F():c.goBack();var n,r=(0,eS.Io)(i,e,_),o=r.href,s=r.text,u=(0,Q.Z)({boardId:l,viewType:3}),d=u.duration,f=u.text,p=u.thumbnail;x(function(e){var t=e.hideToast;return(0,K.jsx)($.Z,{duration:d,href:o,onHide:t,text:f||s,thumbnail:p})}),v({event_type:5,view_type:3,component:7,view_parameter:I,object_id_str:k,clientTrackingParams:T,aux_data:{board_id:l,destination_board_id:l}})})})},M=P({fn:function(e,t,n){ts({allSuggestions:n,handleCreateBoard:function(){l?s(t):D?Z(t):L(t)},index:e,isFBC:l,logContextEvent:v,pinViewParameter:I})},modalHeader:(0,N.Bb)(_)});return y?y.map(function(e,t,n){return(0,K.jsx)(m.xu,{children:(0,K.jsx)(tt.Z,{onTouch:function(){return M(t,e,n)},pressState:"none",rounding:2,children:(0,K.jsxs)(m.xu,{alignItems:"center",display:"flex",paddingY:2,rounding:2,children:[(0,K.jsx)(tn,{}),(0,K.jsx)(m.xu,{column:10,marginStart:3,children:(0,K.jsx)(m.X6,{size:"400",children:e})})]})},t)},t)}):null}var td=void 0!==a?a:a=n(733935),tf=function(e){var t,n,r,o=(0,y.useLazyLoadQuery)(td,{pinId:e}).v3GetPinQuery;if(null==o?void 0:null===(t=o.error)||void 0===t?void 0:t.message)throw null==o?void 0:o.error;return(null==o?void 0:null===(n=o.data)||void 0===n?void 0:null===(r=n.boardTitleSuggestions)||void 0===r?void 0:r.map(function(e){return e.title}).filter(Boolean))||[]},tp=void 0!==l?l:l=n(43607);function ty(e){var t=e.allBoards,n=e.saveToProfileEnabled,r=e.boardsShortlist,o=e.closeModal,i=e.dismissFlyout,a=e.history,l=e.isEditingPin,c=e.isFromToast,s=e.onSelect,u=e.originalPinId,d=e.pin,p=e.pinBoardId,y=e.pinSectionId,h=e.trackingParams,m=(0,b.Z)();return(0,K.jsx)(f.Fragment,{children:(0,K.jsx)(te,{boards:t,boardsShortlist:r,closeModal:o,dismissFlyout:i,history:a,isEditingPin:l,isFromToast:c,logContextEvent:m,onSelect:s,originalPinId:u,pinBoardId:p,pinKey:d,pinSectionId:y,saveToProfileEnabled:n,trackingParams:h})})}function th(e){var t=e.allBoards,n=e.boardsShortlist,r=e.closeModal,o=e.saveToProfileEnabled,i=e.dismissFlyout,a=e.history,l=e.isEditingPin,c=e.isFirstRepinExperience,s=e.isFromToast,u=e.onFirstBoardCreate,d=e.originalPinId,f=e.onSelect,p=e.pin,y=e.pinBoardId,h=e.pinSectionId,v=e.trackingParams,g=e.titleSuggestions,_=(0,w.ZP)(),P=c||0===t.length&&!o,x=(0,b.Z)(),S=function(){return(0,K.jsx)(tu,{clientTrackingParams:v.clientTrackingParams,history:a,isEditingPin:l,isFirstBoard:P,onFirstBoardCreate:u,pinBoardId:y,pinKey:p,pinSectionId:h,titleSuggestions:g})};return P?(0,K.jsxs)(m.xu,{paddingX:1,children:[(0,K.jsx)(m.xu,{marginBottom:4,children:(0,K.jsx)(m.xv,{children:_._('Tap to create your first board', 'CTA for board title suggestions', 'Explain to user that tapping on suggestion creates a board')})}),S()]}):(0,K.jsxs)(m.xu,{marginBottom:4,children:[(0,K.jsx)(te,{boards:t,boardsShortlist:n,closeModal:r,dismissFlyout:i,history:a,isEditingPin:l,isFromToast:s,logContextEvent:x,onSelect:f,originalPinId:d,pinBoardId:y,pinKey:p,pinSectionId:h,saveToProfileEnabled:o,trackingParams:v}),g?(0,K.jsxs)(m.xu,{children:[(0,K.jsx)(m.xu,{paddingY:1,children:(0,K.jsx)(eZ.Z,{children:(0,K.jsx)(m.iz,{})})}),(0,K.jsx)(m.xu,{paddingY:4,children:(0,K.jsx)(m.xv,{children:_._('Or tap to create a new board', 'boardPicker.suggestedBoardName.title', 'Title for repin page suggested board name section')})}),S()]}):(0,K.jsx)(m.xu,{paddingY:6,children:(0,K.jsx)(m.$j,{accessibilityLabel:_._('Loading repin page content', ' - ', ' -- '),show:!0})})]})}function tm(e){var t=e.allBoards,n=e.boardsShortlist,r=e.closeModal,o=e.saveToProfileEnabled,i=e.dismissFlyout,a=e.history,l=e.isEditingPin,c=e.isFetchingBoards,s=e.isFirstRepinExperience,u=e.isFromToast,d=e.onFirstBoardCreate,f=e.onSelect,p=e.originalPinId,y=e.location,h=e.pinKey,b=e.pinBoardId,v=e.pinDescription,g=e.pinSectionId,_=(0,S.Z)(tp,h),P=tf(_.entityId),x=(0,w.ZP)(),j={clientTrackingParams:y.state?y.state.trackingParams:"",pinnedToBoardId:_.pinnedToBoard?_.pinnedToBoard.entityId:""};return t.length>0||!c?t.length>=10?(0,K.jsx)(ty,{allBoards:t,boardsShortlist:n,closeModal:r,dismissFlyout:i,history:a,isEditingPin:l,isFromToast:u,onSelect:f,originalPinId:p,pin:_,pinBoardId:b,pinDescription:v,pinSectionId:g,saveToProfileEnabled:o,trackingParams:j}):(0,K.jsx)(th,{allBoards:t,boardsShortlist:n,closeModal:r,dismissFlyout:i,history:a,isEditingPin:l,isFirstRepinExperience:s,isFromToast:u,onFirstBoardCreate:d,onSelect:f,originalPinId:p,pin:_,pinBoardId:b,pinDescription:v,pinSectionId:g,saveToProfileEnabled:o,titleSuggestions:P,trackingParams:j}):(0,K.jsx)(m.xu,{paddingY:2,children:(0,K.jsx)(m.$j,{accessibilityLabel:x._('Loading repin page content', ' - ', ' -- '),show:!0})})}var tb=n(340370),tv=void 0!==c?c:c=n(709140);function tg(e){var t=e.isEditingPin,n=e.isFirstBoardCreateActive,r=e.pinKey,o=e.pinBoardId,i=e.pinDescription,a=e.pinSectionId,l=e.trackingParams,c=e.onTouch,s=e.useIconWithBackground,u=(0,w.ZP)(),d=(0,S.Z)(tv,r),f=(0,tb.Z)({href:{pathname:"/board/create/".concat(d.entityId,"/"),state:{isFirstBoardCreateActive:n,pinnedToBoardId:d.pinnedToBoard?d.pinnedToBoard.entityId:"",pinDescription:i,trackingParams:l,isEditingPin:t,pinBoardId:o,pinSectionId:a}}});return(0,K.jsx)(I.FixedFooter,{hasTopShadow:s,height:s?void 0:70,children:(0,K.jsx)(m.iP,{onTap:function(e){var t=e.event;null==c||c(),f({event:t})},children:(0,K.jsxs)(m.xu,{alignItems:"center","data-test-id":"repinCreateBoardButton",display:"flex",paddingX:s?1:0,paddingY:s?0:1,children:[s?(0,K.jsx)(m.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,K.jsx)(m.JO,{accessibilityLabel:u._('Create board button', ' - ', ' -- '),color:"default",icon:"add",size:20})}):(0,K.jsx)(m.JO,{accessibilityLabel:u._('Create board button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),(0,K.jsx)(m.xu,{marginStart:s?2:3,children:(0,K.jsx)(m.xv,{weight:"bold",children:u._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})}var t_=n(900876);function tP(e){return(tP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tx(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function tS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tS(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==tP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tP(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tP(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tw=void 0!==s?s:s=n(35934),tO=function(e,t,n){return tj({field_set_key:"detailed",id:e,preserve_component_state:t},n?{orbac_subject_id:n}:Object.freeze({}))};function tk(e){var t,n,r,o,i=e.boardId,a=e.history,l=e.location.search,c=e.showSectionRep,s=e.pinKey,u=e.onSuccess,d=e.trackingParams,f=e.dismissFlyout,y=(0,p.useDispatch)(),h=(0,w.ZP)(),m=(0,S.Z)(tw,s),v=e3(),_=(0,eE.F9)().showToast,P=new URLSearchParams(l),x=P.get("isEditingPin"),j=null!==(r=P.get("pinBoardId"))&&void 0!==r?r:"",O=null!==(o=P.get("pinSectionId"))&&void 0!==o?o:"",k=(0,z.Z)(d,m.trackingParams),I=(0,b.Z)(),E=(0,eD.M)(),T=(0,A.F)().checkExperiment,C=function(e){return a.push(e)},R=(0,eG.Z)(),B=(0,D.Z)(),F=(0,eW.lJ)(B,R),L=(0,g.c)(),N=function(e){var t;f(),y((0,eR.w)({checkExperiment:T,i18n:h,logContextEvent:I,pinId:m.entityId,boardId:i,onSuccess:x?void 0:function(){L("Save",{pin_id:m.entityId}),u()},showToast:_,section:e,trackingParams:{clientTrackingParams:k,pinnedToBoardId:m.pinnedToBoard?m.pinnedToBoard.entityId:""},historyPush:C,savePinId:null!==(t=null==E?void 0:E.save)&&void 0!==t?t:function(){}})).then(function(){if(e){var t;y((0,eT.A4)(null!==(t=e.id)&&void 0!==t?t:""))}})},Z=function(e){return y((0,eY.Br)(e))},M=(t=regeneratorRuntime.mark(function e(t,n){var r,o,i,l,c,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=3;break}return e.next=3,N(n);case 3:x&&(r=j,o=t,i=O,c=tj({board_id:o,board_section_id:l=null==n?void 0:n.id,id:m.entityId},F?{orbac_subject_id:F}:Object.freeze({})),s=r!==o,u=i!==l,eM.Z.create("PinResource",c).callUpdate().then(function(e){var t,n,d,f;(s||u)&&(t={selectedPinIds:[m.entityId],source:{boardId:r,sectionId:i||null},target:{boardId:o,sectionId:l}},y((0,e$.S)(t)),Z({boardId:o,sectionId:l,increment:1}),Z({boardId:r,sectionId:i,increment:-1}),B.id&&!r&&(n=B.id,d=m.entityId,y((0,eQ.EX)({feedId:n,feedType:eJ.Z.BOARDLESS_PINS,itemIds:[d],itemType:"pin"})))),y((0,eK.b)("PinResource",{options:c})),f=m.entityId,y((0,eU.jB)("PinResource",tO(f,!0,F))),v(m.__id),y((0,eU.Sr)("PinResource",tO(e.resource_response.data.id,!1,F),e)),a.go(-2)}));case 4:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){tx(i,r,o,a,l,"next",e)}function l(e){tx(i,r,o,a,l,"throw",e)}a(void 0)})},function(e,t){return n.apply(this,arguments)});return(0,K.jsx)(t_.Z,{boardId:i,repin:M,showSectionRep:c})}function tI(e){return(tI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(t){tB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tF(r.key),r)}}function tC(e,t){return(tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tR(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tD(e){return(tD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tB(e,t,n){return(t=tF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tF(e){var t=function(e,t){if("object"!==tI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tI(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tI(t)?t:String(t)}var tz=void 0!==u?u:u=n(870893),tL=void 0!==d?d:d=n(560173);function tN(e){var t=e.children,n=(0,p.useSelector)(function(e){var t=e.session;return 72+((0,k.Rq)(t.userAgentPlatform)?k.Vf:0)});return(0,K.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:n}},children:t})}var tZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tC(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=tD(i);if(t){var r=tD(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===tI(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tR(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return tB(tR(e=o.call.apply(o,[this].concat(n))),"state",{dupeWarningDismissed:!1,pinDescription:(e.props.pin.description||"").trim(),saved:!1,suggestedBoardName:void 0,trackingParams:(e.props.location.state||{}).trackingParams||"",warningAnchor:void 0,windowInnerHeight:"undefined"!=typeof window?window.innerHeight:0}),tB(tR(e),"saved",function(){return e.setState({saved:!0})}),tB(tR(e),"onResize",function(){e.setState({windowInnerHeight:window.innerHeight})}),tB(tR(e),"handleBackButtonTouch",function(){var t=e.props;(0,t.logContextEvent)({view_type:21,view_parameter:87,component:7,element:t.match.params.boardId?34:75,event_type:102})}),tB(tR(e),"handleDismissWarningFlyout",function(){return e.setState({dupeWarningDismissed:!0})}),tB(tR(e),"handleFirstBoardCreateOnSuccess",function(t,n){var r=e.props,o=r.closeupExperience,i=r.completeExperience,a=r.history,l=r.i18n,c=r.repinExperience,s=r.showRepinConfirmation,u=r.mountAfterActionPlacement,d=t.boardId,f=t.boardUrl,p=(0,eS.Io)(f,n,l),y=p.href,h=p.text,m=(0,Q.Z)({boardId:d,isFBC:!0,viewType:21}),b=m.duration,v=m.text,g=m.thumbnail;a.goBack(),s(function(e){var t=e.hideToast;return(0,K.jsx)($.Z,{duration:b,href:y,onHide:t,text:v||h,thumbnail:g})}),o&&o.placement_id&&503459===o.experience_id&&i(o.placement_id,o.experience_id),c&&L(c,501032)&&i(c.placement_id,c.experience_id),u("Save",{pin_id:e.props.pin.entityId})}),tB(tR(e),"handleSetSelectedBoard",function(t){var n,r=e.props,o=r.history,i=r.pin,a=r.location,l=e.state.trackingParams;e.isFirstBoardCreateActive()||o.push("/board/create/".concat(i.entityId,"/").concat(t,"/"),{trackingParams:l,from:null===(n=a.state)||void 0===n?void 0:n.from}),e.setState({suggestedBoardName:t})}),tB(tR(e),"handleFirstBoardCreate",function(t){var n=e.props,r=n.createBoard,o=n.history,i=n.location,a=n.logContextEvent,l=n.match,c=n.pin,s=n.showToast,u=e.state.trackingParams,d=l.params.id;return r({boardCreateOptions:{initial_pins:d?[d]:[],name:t,initial_pin_client_tracking_params:[(0,z.Z)((i.state||{}).trackingParams)],privacy:"public"},deprecatedSchemaForNormalization:ew.IY}).then(function(e){var t,n,r,o=e.id;a({event_type:5,view_type:3,component:7,view_parameter:(0,tr.A)({hasRichMetadata:!!c.richMetadata,hasRichMetadataProducts:!!(null!==(t=c.richMetadata)&&void 0!==t&&t.products),hasRichMetadataArticle:!!(null!==(n=c.richMetadata)&&void 0!==n&&n.article),hasRichMetadataRecipe:!!(null!==(r=c.richMetadata)&&void 0!==r&&r.recipe)}),object_id_str:c.entityId,clientTrackingParams:(0,z.Z)(u,c.trackingParams),aux_data:{board_id:o,destination_board_id:o}});var i=e.url;return{boardId:o,boardUrl:void 0===i?"":i}},function(t){throw{onError:function(){o.goBack(),s(function(n){var r=n.hideToast;return(0,K.jsx)(x.ZP,{onHide:r,text:t.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error"})})}}})}),tB(tR(e),"handleSelectBoard",function(t){var n,r,o,i,a=e.props,l=a.history,c=a.pin,s=a.location,u=s.search,d=e.state.trackingParams,f=new URLSearchParams(u),p=!!f.get("isEditingPin"),y=null!==(n=f.get("pinBoardId"))&&void 0!==n?n:"",h=null!==(r=f.get("pinSectionId"))&&void 0!==r?r:"";p?l.push("/pin/".concat(c.entityId,"/repin/").concat(t.id,"/?isEditingPin=true&pinBoardId=").concat(y,"&pinSectionId=").concat(h),{trackingParams:d,from:null===(o=s.state)||void 0===o?void 0:o.from}):l.push({pathname:"/pin/".concat(c.entityId,"/repin/").concat(t.id,"/")},{trackingParams:d,from:null===(i=s.state)||void 0===i?void 0:i.from})}),tB(tR(e),"handleClickAddSectionButton",function(){var t,n,r,o,i=e.props,a=i.pin,l=i.history,c=i.match.params.boardId,s=i.location;if(c){var u=s.search,d=new URLSearchParams(u),f=!!d.get("isEditingPin"),p=null!==(t=d.get("pinBoardId"))&&void 0!==t?t:"",y=null!==(n=d.get("pinSectionId"))&&void 0!==n?n:"";f?l.push("/pin/".concat(a.entityId,"/repin/").concat(c,"/add/?isEditingPin=true&pinBoardId=").concat(p,"&pinSectionId=").concat(y),{from:null===(r=s.state)||void 0===r?void 0:r.from}):l.push({pathname:"/pin/".concat(a.entityId,"/repin/").concat(c,"/add/"),state:{from:null===(o=s.state)||void 0===o?void 0:o.from}})}}),tB(tR(e),"handleRepinToExistingSectionSuccess",function(){return e.props.history.go(-2)}),tB(tR(e),"handleRepinToNewSectionSuccess",function(){return e.props.history.go(-3)}),tB(tR(e),"handleRepinCreateBoardButtonTouch",function(){e.props.logContextEvent({view_type:21,view_parameter:87,component:7,element:249,event_type:102})}),tB(tR(e),"renderCreateScreen",function(){var t,n,r=e.props,o=r.pin,i=r.location.search,a=r.match.params.boardId,l=e.state.trackingParams,c=new URLSearchParams(i),s=!!c.get("isEditingPin"),u=null!==(t=c.get("pinBoardId"))&&void 0!==t?t:"",d=null!==(n=c.get("pinSectionId"))&&void 0!==n?n:"";return!!a&&(0,K.jsx)(eN,{boardId:a,isEditingPin:s,onSuccess:e.handleRepinToNewSectionSuccess,pinBoardId:u,pinKey:o,pinSectionId:d,trackingParams:l,useRoundedCorners:!0})}),tB(tR(e),"isFirstBoardCreateActive",function(){var t=e.props,n=t.allBoards,r=t.isFetchingBoards,o=t.saveToProfileEnabled;return!!L(t.repinExperience,501032)||!r&&0===n.length&&!o}),tB(tR(e),"isBoardCreateEduActive",function(){return L(e.props.repinExperience,501021)}),tB(tR(e),"completeBoardCreateEduExperience",function(){var t=e.props,n=t.completeExperience,r=t.repinExperience;r&&e.isBoardCreateEduActive()&&n(r.placement_id,r.experience_id)}),tB(tR(e),"renderPicker",function(){var t,n,r,o,i,a=e.props,l=a.allBoards,c=a.saveToProfileEnabled,s=a.boardsShortlist,u=a.history,d=a.isFetchingBoards,f=a.location,p=a.pin,y=a.match.params.boardId,h=a.location.search,b=e.state,v=b.pinDescription,g=b.dupeWarningDismissed,_=b.saved,P=b.suggestedBoardName,x=b.trackingParams,S=b.warningAnchor,j=v.trim(),w=p.pinnedToBoard,k=w?(0,O.nk)(e.props.i18n._('Psst! You already saved this Pin to {{ board_name }}', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:w.name}).join(" "):null,A=p.dominantColor,T=p.imageSpec_236x,C=T?T.url:"",R=new URLSearchParams(h),D=!!R.get("isEditingPin"),z=null!==(t=R.get("pinBoardId"))&&void 0!==t?t:"",L=null!==(n=R.get("pinSectionId"))&&void 0!==n?n:"",M=!!R.get("isFromToast"),U=null!==(r=R.get("originalPinId"))&&void 0!==r?r:"",H=e.props.i18n._('Save Pin to', 'RepinPage.Section.Header.Title', 'title for section selection in repin flow'),G=new m.Ry(2),W=e.props.i18n._('Create board', 'Title for first board create', 'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),q=e.props.i18n._('Save to board', 'boardPicker.header', 'Title for repin page'),V=y?H:0!==l.length||d||c?q:W;return(0,K.jsxs)(E.default,{hasFixedHeader:!0,children:[(0,K.jsx)(F.Z,{text:V}),(0,K.jsx)(I.FixedHeader,{useRoundedCorners:!0,zIndex:G,children:(0,K.jsxs)(m.kC,{alignItems:"center",height:40,justifyContent:"start",children:[(0,K.jsx)(m.xu,{column:2,children:(0,K.jsx)(eI.Z,{alignIconLeft:!0,color:"darkGray",icon:y?"arrow-back":"cancel",onTouch:e.handleBackButtonTouch,size:"sm"})}),(0,K.jsx)(m.xu,{column:8,children:(0,K.jsx)(m.xu,{"data-test-id":"repin-page-title",children:(0,K.jsx)(m.xv,{align:"center",weight:"bold",children:V})})}),(0,K.jsx)(m.xu,{column:2})]})}),p.imageSpec_236x&&(e.isFirstBoardCreateActive()?(0,K.jsx)(eP,{onComplete:e.handleFirstBoardCreateOnSuccess,pinDominantColor:null!=A?A:"",pinImageUrl:null!=C?C:"",savePin:e.handleFirstBoardCreate,selectedBoardName:P}):null),(0,K.jsx)(tN,{children:y?(0,K.jsx)(tk,{boardId:y,dismissFlyout:e.saved,history:u,location:f,onSuccess:e.handleRepinToExistingSectionSuccess,pinKey:p,showSectionRep:!0,trackingParams:x}):(0,K.jsx)(tm,{allBoards:l,boardsShortlist:s,closeModal:e.handleBackButtonTouch,dismissFlyout:e.saved,history:u,isEditingPin:D,isFetchingBoards:d,isFirstRepinExperience:e.isFirstBoardCreateActive(),isFromToast:M,location:f,onFirstBoardCreate:e.handleSetSelectedBoard,onSelect:e.handleSelectBoard,originalPinId:U,pinBoardId:z,pinDescription:j,pinKey:p,pinSectionId:L,saveToProfileEnabled:c})}),y?(0,K.jsx)(B.Wx,{onAddNewSection:e.handleClickAddSectionButton,useIconWithBackground:!0}):(0,K.jsx)(Z.Z,{modalHeader:(0,N.Bb)(e.props.i18n),nextLocation:"/board/create/".concat(p.entityId,"/"),children:(0,K.jsx)(tg,{isEditingPin:D,isFirstBoardCreateActive:e.isFirstBoardCreateActive(),onTouch:e.handleRepinCreateBoardButtonTouch,pinBoardId:z,pinDescription:j,pinKey:p,pinSectionId:L,trackingParams:x,useIconWithBackground:!0})}),T&&e.isBoardCreateEduActive()&&(0,K.jsx)(Y,{completeExperience:e.completeBoardCreateEduExperience,pinDominantColor:null!=A?A:"",pinImageHeight:null!==(o=T.height)&&void 0!==o?o:1,pinImageUrl:null!=C?C:"",pinImageWidth:null!==(i=T.width)&&void 0!==i?i:1}),S&&!_&&p.pinnedToBoard&&!g&&k&&(0,K.jsx)(m.J2,{anchor:S,idealDirection:"down",onDismiss:e.handleDismissWarningFlyout,shouldFocus:!1,children:(0,K.jsx)(m.xu,{padding:3,children:(0,K.jsx)(m.xv,{weight:"bold",children:(0,K.jsx)("span",{children:k})})})})]})}),e}return n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.repinExperience,n=e.triggerExperimentsForPlacement,r=e.viewExperience;n(1000153),t&&r(1000153,t.experience_id),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){return(0,K.jsx)(_.ZP,{accessibilityModalLabel:this.props.i18n._('Repin page', 'RepinPage.MobileModal.AccessibilityLabel', 'Accessibility label on repin page'),closeOnOutsideClick:!1,isOpen:!0,onDismiss:function(){},type:"repinPage",children:(0,K.jsx)(m.xu,{height:this.state.windowInnerHeight-P.i_,paddingX:2,paddingY:0,children:(0,K.jsxs)(h.rs,{children:[(0,K.jsx)(h.AW,{exact:!0,path:"/pin/:id/repin/",render:this.renderPicker}),(0,K.jsx)(h.AW,{exact:!0,path:"/pin/:id/repin/:boardId/",render:this.renderPicker}),(0,K.jsx)(h.AW,{exact:!0,path:"/pin/:id/repin/:boardId/add/",render:this.renderCreateScreen})]})})})}}],tT(i.prototype,n),r&&tT(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(f.PureComponent),tM=function(e){var t=(0,(0,A.F)().checkExperiment)("mweb_pdm_repin_page_gql").anyEnabled,n=(0,j.Z)({strategy:t?"GRAPHQL":"LEGACY",query:tL,variables:{pinId:e},options:{fetchPolicy:"store-or-network"},transformGraphQL:function(e){var t;return(null===(t=e.v3GetPinQuery)||void 0===t?void 0:t.__typename)==="V3GetPin"?e.v3GetPinQuery.data:null},useGetLegacyData:function(e){var t=e.pinId;return(0,C.Z)({name:"PinResource",options:{id:t,field_set_key:"repin"}}).data}});return(0,S.Z)(tz,n)},tK=function(e){var t=(0,p.useSelector)(function(e){return e.session.userId}),n=(0,(0,A.F)().checkExperiment)("web_top_choices_ordering_and_reduction").anyEnabled,r=(0,C.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_length:n?2:null,shortlist_suggestions:3,user_id:t}}),o=r.isFetching,i=r.data,a=(null==i?void 0:i.all_boards)||[];return{isFetching:o,allBoards:(0,p.useSelector)(function(e){return(0,eO.Z)(tA(tA({},e),{},{boards:a}))||[]}),boardsShortlist:(null==i?void 0:i.boards_shortlist)||[]}};function tU(){var e,t=(0,h.k6)(),n=(0,h.TH)(),r=(0,h.$B)(),o=null!==(e=r.params.id)&&void 0!==e?e:"",i=(0,w.ZP)(),a=(0,b.Z)(),l=(0,v.be)(),c=(0,v.Ig)(),s=(0,to.Z)(),u=(0,ek.Tt)(),d=(0,D.Z)().isAuth,f=(0,R.HG)(),y=tM(o),m=tK(o),_=m.isFetching,P=m.allBoards,x=m.boardsShortlist;(0,T.Z)({name:"UserResource",options:{user_id:null==u?void 0:u.id,field_set_key:"quicksave"}});var S=(0,p.useDispatch)(),j=(0,p.useSelector)(function(e){return e.experiences}),O=(0,g.c)(),k=(0,ex.Z)(),I=k.showToast,E=k.showRepinConfirmation,A=(0,ej.ZP)((null==u?void 0:u.id)||"").showEnabledSaveBehavior;return!d||f?(0,K.jsx)(h.l_,{to:"/pin/".concat(o,"/")}):y?(0,K.jsx)(tZ,{allBoards:P,boardsShortlist:x,closeupExperience:j[1000112],completeExperience:function(e,t){return S(l(e,t))},createBoard:s,history:t,i18n:i,isFetchingBoards:_,location:n,logContextEvent:a,match:r,mountAfterActionPlacement:O,pin:y,repinExperience:j[1000153],saveToProfileEnabled:A,showRepinConfirmation:E,showToast:I,triggerExperimentsForPlacement:function(e){return S((0,v.kd)(e))},viewExperience:function(e,t){return S(c(e,t))}}):null}},879932:function(e,t,n){"use strict";n.d(t,{Az:function(){return b},DI:function(){return P},Gl:function(){return j},Hl:function(){return T},Kb:function(){return D},NA:function(){return r},NG:function(){return s},OC:function(){return E},Pq:function(){return k},QM:function(){return y},Sk:function(){return S},UF:function(){return g},Uo:function(){return I},WF:function(){return l},Xm:function(){return u},Zf:function(){return i},_D:function(){return R},_N:function(){return p},ac:function(){return a},dt:function(){return m},e_:function(){return f},gf:function(){return v},hf:function(){return w},i_:function(){return c},jY:function(){return _},ni:function(){return x},qg:function(){return d},rX:function(){return o},vX:function(){return O},wO:function(){return C},yG:function(){return h},yq:function(){return A}});var r="10",o=1,i=365,a=64,l=8,c=9,s=11,u=15,d=16,f=17,p=18,y=19,h=20,m=22,b=1e6,v=1e6,g="US";function _(e){var t="USD",n="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",n="";break;case"AU":t="AUD",n="$";break;case"CA":t="CAD",n="$";break;case"CH":t="CHF",n="CHF";break;case"DK":t="DKK",n="kr";break;case"GB":t="GBP",n="\xa3";break;case"NO":t="NOK",n="kr";break;case"NZ":t="NZD",n="$";break;case"SE":t="SEK",n="kr"}return[t,n]}var P={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},x={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},S={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},j={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},w="QUICK_PROMOTE_PAGE",O=[j.GDPR_MODAL,j.PIN_SELECTION_MODAL,w,j.BUSINESS_FORM,j.BILLING_FORM,j.SUCCESS_MODAL,j.ERROR_MODAL],k={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},I=function(e){return e>=1&&e<=2},E="qp-fac-education-id",A="qp-fac-modal-education-id",T={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"},C={PINS:0,PRODUCT_GROUPS:1,BOARDS:2,SELECTED:3,SEARCH_RESULTS:4},R={MOST_RECENT:"RECENT",PROMOTED_PINS:"PROMOTED"},D=300},465615:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r,o=n(598228);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){var r;return(r=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(a(r={},0,o.C0),a(r,3,o.vI),a(r,4,o.YD),r);function c(e){var t=e.currentSiteType,n=e.destinationSiteType,r=e.inputPath,o=Object.keys(l).includes(String(t))&&Object.keys(l).includes(String(n)),i="/"===r[0]?r:"/".concat(r);return o&&n!==t?"".concat(l[n]).concat(i):i}},67765:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c},tY:function(){return d},Xt:function(){return s},$7:function(){return f},Yh:function(){return u}});var r=n(780277),o=n(340523),i=n(995917),a=n(149722),l={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function c(e){var t,n,r=(0,a.Z)(),l=r.isAuth&&r.id===e,c=(0,o.F)().checkExperiment,s=(0,i.Z)(!r.isAuth||l?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:l&&r.has_quicksave_board||!!(r.isAuth&&null!==(t=(null!=s?s:{}).data)&&void 0!==t&&t.has_quicksave_board)||(l||r.isAuth)&&!r.has_quicksave_board&&!(null!==(n=(null!=s?s:{}).data)&&void 0!==n&&n.has_quicksave_board)&&c("profile_saves_for_all").anyEnabled}}function s(e){var t,n=(0,a.Z)(),r=n.isAuth&&n.id===e,o=(0,i.Z)(!n.isAuth||r?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{boardlessPinsEnabled:r&&n.has_quicksave_board||!!(n.isAuth&&null!==(t=(null!=o?o:{}).data)&&void 0!==t&&t.has_quicksave_board)}}function u(e){var t,n=(0,r.useDispatch)(),o=(0,a.Z)(),l=o.isAuth&&!!o.boardCount&&o.boardCount<5&&e,c=(0,i.Z)(l&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:o.isAuth&&o.id}}:null);return o.isAuth&&void 0===o.save_behavior&&c&&null!==(t=c.data)&&void 0!==t&&t.id&&n({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:c.data.save_behavior}}),{showEnabledSaveBehavior:l}}function d(e){var t,n=(0,a.Z)();return e&&(n.save_behavior===l.SAVE_TO_PROFILE?t={type:"classic"}:n.save_behavior===l.SHOW_BOARD_PICKER&&(t={type:"inline"})),{saveBehaviorType:t}}function f(){var e,t=(0,a.Z)();return t.isAuth&&(null!==(e=null==t?void 0:t.secretBoardCount)&&void 0!==e?e:0)>0}},409403:function(e,t,n){"use strict";function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function o(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function i(e){return{type:"PIN_SAVE",payload:e}}function a(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function s(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,nodeId:e.nodeId}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!0,nodeId:e.nodeId}}}function d(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function f(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function p(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,{Gb:function(){return a},I1:function(){return c},Ib:function(){return u},Ur:function(){return i},Vw:function(){return l},b9:function(){return f},i0:function(){return d},mO:function(){return o},q1:function(){return s},yR:function(){return r},yj:function(){return p}})},170568:function(e,t,n){"use strict";n.d(t,{Cp:function(){return c},FK:function(){return l},H5:function(){return g},MI:function(){return y},O0:function(){return p},QZ:function(){return a},W:function(){return b},WF:function(){return u},Wz:function(){return _},a5:function(){return d},dz:function(){return m},e0:function(){return f},e2:function(){return i},iW:function(){return v},n1:function(){return o},rm:function(){return s},xu:function(){return h}});var r=n(96157),o=function(){return{type:"DISMISS_UNAUTH_SAVE"}},i=function(){return{type:"COMPLETE_UNAUTH_SAVE_ACTION"}},a=function(e){return{type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}},l=function(){return{type:"HIDE_NAV_FOOTER"}},c=function(){return{type:"SHOW_NAV_FOOTER"}},s=function(e){return{type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}},u=function(){return{type:"SHOW_REPIN_ANIMATION"}},d=function(){return{type:"HIDE_REPIN_ANIMATION"}},f=function(e){return{type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}},p=function(){return{type:"SET_OWN_PROFILE_PINS_REFRESH"}},y=function(e){return{type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}},h=function(e){return{type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}},m=function(e){return{type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}},b=function(){return{type:"DISMISS_UNAUTH_APP_UPSELL"}},v=function(e){return e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"}},g=function(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}},_=function(e,t){return{type:"SET_LANDING_PAGE_TYPE",payload:e?(0,r.bo)(e)?"today":(0,r.dr)(e)?"ideas":t&&(0,r.dZ)(e,t)?"own_section":t&&(0,r.J)(e,t)?"own_board":(0,r.OJ)(e)?"section":(0,r.am)(e)?"board":(0,r.L6)(e)?"closeup":(0,r.C$)(e)?"home":(0,r.cD)(e)?"profile":(0,r.En)(e)?"search":(0,r.$V)(e)?"topic":"":""}}},70982:function(e,t,n){"use strict";n.d(t,{KF:function(){return f},ZN:function(){return s},fv:function(){return d},kE:function(){return y},yA:function(){return u}});var r=n(216167),o=n(107366),i=n(386129);function a(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,c,"next",e)}function c(e){a(i,r,o,l,c,"throw",e)}l(void 0)})}}function c(e,t,n,o){return r.Z.create("UserFollowResource",{user_id:e,invite_code:o||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:n})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return function(o){c(e,t,n,r).callCreate().catch(function(){return o((0,i.P_)(e,!1))}),o((0,i.P_)(e,!0))}}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return t=l(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a((0,i.P_)(e,!0)),t.next=3,c(e,n,r,o).callCreate().catch(function(t){throw a((0,i.P_)(e,!1)),t});case 3:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return function(r){c(e,t,n).callDelete().catch(function(){return r((0,i.P_)(e,!0))}),r((0,i.P_)(e,!1))}}function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;return t=l(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o((0,i.P_)(e,!1)),t.next=3,c(e,n,r).callDelete().catch(function(t){throw o((0,i.P_)(e,!0)),t});case 3:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}}var p=function(e,t){return{type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}},y=function(e){return function(t){e.length>0&&((0,o.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(function(){return t(p(e,!1))}),t(p(e,!0)))}}},386129:function(e,t,n){"use strict";n.d(t,{Ge:function(){return f},JS:function(){return s},OF:function(){return _},P_:function(){return u},Q_:function(){return h},b8:function(){return m},eR:function(){return g},h2:function(){return p},h6:function(){return y}});var r,o=n(216167),i=n(107366),a=n(666698);function l(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)})}}function s(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var u=function(e,t){return{type:"USER_FOLLOW",payload:{id:e,value:t}}},d=function(e,t){return{type:"USER_BLOCK",payload:{id:e,value:t}}},f=function(e){var t,n=e.id,r=e.orbacSubjectId,i=e.blockSource,a=e.blockContext,l=e.logContextEvent;return t=c(regeneratorRuntime.mark(function e(t){var c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(d(n,!0)),e.next=3,o.Z.create("UserBlockResource",{blocked_user_id:n,orbac_subject_id:r,block_source:i,block_context:a}).callCreate().catch(function(){return t(d(n,!1))});case 3:return c=e.sent,l({event_type:54,object_id_str:n}),e.abrupt("return",c);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},p=function(e,t){var n;return n=c(regeneratorRuntime.mark(function n(r){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(d(e,!1)),n.next=3,o.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(function(){return r(d(e,!0))});case 3:return i=n.sent,t({event_type:55,object_id_str:e}),n.abrupt("return",i);case 6:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}};function y(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var h=function(e,t){return function(){return o.Z.create("UserStateResource",{state:e,value:t}).callCreate()}},m=function(e,t,n){return function(r,o){(0,i.Z)({url:"/v3/users/me/",method:"POST"}).then(function(){n({event_type:48,object_id_str:o().session.userId}),e(),(0,a.Dm)()},t)}},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"150x150";return e&&"https://i.pinimg.com/".concat(t,"/").concat(e.substring(0,2),"/").concat(e.substring(2,4),"/").concat(e.substring(4,6),"/").concat(e,".jpg")||""},v=(r=c(regeneratorRuntime.mark(function e(t,n,r){var i,a,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.create("VIPResource",{upload_ids:[t]}).callGet();case 2:(i=e.sent).resource_response.data[t]?(l=(a=i.resource_response.data[t]).status,s=a.signature,"processing"===l||"registered"===l?setTimeout(c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v(t,n,r);case 1:case"end":return e.stop()}},e)})),5e3):"succeeded"===l?n(b(s)):r()):r();case 4:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)}),g=function(e){return new Promise(function(t,n){if("string"==typeof e){if(e.startsWith("data")){var r;(r=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=e.split(";"),r=n[0].split(":")[1],o=atob(n[1].split(",")[1]),i=[],a=0;a<o.length;a+=t){for(var l=o.slice(a,a+t),c=Array(l.length),s=0;s<l.length;s+=1)c[s]=l.charCodeAt(s);var u=new Uint8Array(c);i.push(u)}return new Blob(i,{type:r})}(e),new Promise(function(e,t){var n,i,a;n=function(){},i=function(t){e(t)},a=function(e){t(e)},new FormData().append("img",r),o.Z.create("VIPResource",{type:"pinimage"}).callCreate().then(function(e){if(e.resource_response.data){var t=e.resource_response.data,o=t.upload_id,l=t.upload_url,c=t.upload_parameters,s=new XMLHttpRequest;s.open("POST",l,!0),s.onload=function(){var e;(e=s.status)>=200&&e<400?(n(100),v(o,i,a)):a()},s.upload.onprogress=function(e){n(Math.round(100*e.loaded/e.total))};var u=new FormData;for(var d in c)u.append(d,c[d]);u.append("file",r),s.send(u)}},function(){a()})})).then(function(e){return t(e)})}}else n("Invalid Image")})},_=function(e){return function(){return(0,i.Z)({url:"/v3/register/exists/",data:{email:e}})}}},951766:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(780277),o=n(684404),i=n(140017),a=n(339001),l=n(358589),c=n(70660),s=n(819267);function u(e){var t,n=e.boardId,u=e.onBoardSelected,d=e.noArrowIcon,f=e.showSingleBoardRep,p=(0,i.ZP)(),y=(0,r.useSelector)(function(e){return e.boards})[n],h=y.section_count,m=!!h&&h>0,b=(0,l.Z)(),v=null!==(t=y.name)&&void 0!==t?t:"this board";return(0,s.jsx)(o.iP,{accessibilityLabel:(0,a.Wc)("".concat(p._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')),{boardName:v}),onTap:b({fn:function(){return u(m)}}),rounding:2,tapStyle:"compress",children:(0,s.jsx)(c.Z,{boardId:n,noArrowIcon:d,showSingleBoardRep:f})})}},70660:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(672652),o=n(780277),i=n(684404),a=n(140017),l=n(339001),c=n(316667),s=n(274262),u=n(677068),d=n(819267);function f(e){var t=e.boardId,n=e.navigateToBoard,f=e.noArrowIcon,p=e.showCollaborators,y=e.showSingleBoardRep,h=e.shouldShowPinAndSectionCount,m=(0,a.ZP)(),b=(0,o.useSelector)(function(e){return e.boards})[t],v=(b.collaborating_users||[]).map(function(e){var t,n;return{name:null!==(t=e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(n=e.image_medium_url)&&void 0!==n?n:""}}),g="",_=v.slice(0,3).map(function(e){return e.name});switch(v.length){case 3:g=(0,l.Wc)("".concat(m._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(_[0]),second:"".concat(_[1]),last:"".concat(_[2])});break;case 2:g=(0,l.Wc)("".concat(m._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(_[0]),second:"".concat(_[1])});break;default:g=_.join(", ")}var P=v.length>3?(0,l.Wc)(m.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', v.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:g,leftCount:"".concat(v.length-3)}):(0,l.Wc)("".concat(m._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:g}),x=new i.Ry(0),S=b.pin_count,j=b.section_count,w=(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(i.xu,{"data-test-id":j?"boardWithSection":"boardWithoutSection",children:(0,d.jsxs)(i.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:y?4:0,rounding:2,children:[(0,d.jsx)(i.xu,{paddingY:y?0:2,children:y?(0,d.jsx)(i.xu,{height:48,overflow:"hidden",width:48,children:(0,d.jsx)(i.zd,{height:"100%",rounding:2,width:"100%",children:(0,d.jsx)(i.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:b.image_cover_url||" "})})}):(0,d.jsx)(i.xu,{height:60,overflow:"hidden",rounding:4,width:60,children:(0,d.jsx)(u.Z,{boardId:b.id,fullSize:!0,type:"thumbnail"})})}),(0,d.jsxs)(i.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsxs)(i.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:y?2:4,overflow:y?"hidden":"auto",width:"100%",children:[(0,d.jsx)(i.xv,{lineClamp:y?1:void 0,size:"400",weight:"bold",children:b.name}),h&&(0,d.jsxs)(i.kC,{children:[(0,d.jsx)(i.xv,{inline:!0,children:!!S&&(0,l.nk)(m.ngettext('{{ PinCount }} Pin', '{{ PinCount }} Pins', null != S ? S : 0, 'BoardRow.pinCount', 'Number of Pins on board or section, pinCount: number of Pins'),{PinCount:S})}),!!S&&!!j&&(0,d.jsx)(s.Z,{}),(0,d.jsx)(i.xv,{inline:!0,children:!!j&&(0,l.nk)(m.ngettext('{{ sectionCount }} section', '{{ sectionCount }} sections', null != j ? j : 0, 'BoardRow.sectionCount', 'Number of sections on board, sectionCount: number of sections'),{sectionCount:j})})]})]}),(0,d.jsxs)(i.kC,{alignItems:y?"center":"start",justifyContent:"start",children:["secret"===b.privacy&&(0,d.jsx)(i.xu,{marginStart:y?3:1,children:(0,d.jsx)(i.JO,{accessibilityLabel:m._('secret board icon', ' - ', ' -- '),color:y?"default":"subtle",icon:"lock"})}),b.is_collaborative&&(y||p)&&v.length>0?(0,d.jsx)(i.xu,{zIndex:x,children:(0,d.jsx)(i.HE,{accessibilityLabel:c.U+P,collaborators:v,size:1===v.length?"sm":"xs"})}):b.is_collaborative&&(0,d.jsx)(i.xu,{marginStart:1,children:(0,d.jsx)(i.JO,{accessibilityLabel:m._('group board icon', ' - ', ' -- '),icon:"people"})}),!f&&!!b.section_count&&(0,d.jsx)(i.xu,{"data-test-id":"boardSectionPicker",marginStart:y?3:0,children:(0,d.jsx)(i.JO,{accessibilityLabel:m._('board section board picker icon', ' - ', ' -- '),color:y?"default":"subtle",icon:"arrow-forward"})})]})]})]})})});return n&&b.url?(0,d.jsx)(i.Tg,{href:b.url,rounding:2,tapStyle:"compress",children:w}):w}},900876:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(780277),o=n(328038),i=n(684404),a=n(140017),l=n(870319),c=n(761203),s=n(951766),u=n(339001),d=n(490166),f=n(819267);function p(e){var t,n,o=e.onSectionSelected,l=e.sectionId,c=e.showSectionRep,s=(0,r.useSelector)(function(e){return e.boardsections[l]}),p=(0,a.ZP)(),y=s&&(null===(t=s.preview_pins)||void 0===t?void 0:t[0])&&s.preview_pins[0].image_medium_url,h=null!==(n=s.title)&&void 0!==n?n:"";return(0,f.jsx)(d.Z,{onTouch:o,pressState:"none",rounding:2,children:(0,f.jsxs)(i.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:c?4:0,rounding:2,children:[c&&(0,f.jsx)(i.xu,{height:48,width:51,children:(0,f.jsx)(i.zd,{height:"100%",rounding:2,width:"100%",children:(0,f.jsx)(i.Ee,{alt:(0,u.Wc)(p._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:h}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=y?y:""})})}),!c&&(0,f.jsx)(i.xu,{column:1,paddingY:2}),(0,f.jsx)(i.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:c?(0,f.jsx)(i.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,f.jsx)(i.xv,{lineClamp:1,size:"400",weight:"bold",children:s.title})}):(0,f.jsx)(i.xu,{marginStart:2,children:(0,f.jsx)(i.xv,{weight:"bold",children:s.title})})})]})})}var y=function(e,t){var n=(0,l.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}).isFetching,o=(0,r.useSelector)(function(t){return(t.feeds["board-sections:".concat(e)]||[]).reduce(function(e,t){if("boardsection"===t.type){var n={type:"boardsection",id:t.id};e.push(n)}return e},[])}),i=(0,r.useSelector)(function(n){return o.map(function(e){return e.id}).reduce(function(r,o){var i=n.boardsections[null!=o?o:""];return o!==t&&i&&r.push({board:{id:e},id:i.id,title:i.title,type:"boardsection",slug:i.slug}),r},[])});return{isFetching:n,boardSections:o,filteredBoardSections:i}};function h(e){var t=e.boardId,n=e.originalBoardId,r=e.sectionId,l=e.repin,u=e.hideBoardPickerRow,d=e.showSectionRep,h=(0,a.ZP)(),m=y(t,r),b=m.isFetching,v=m.boardSections,g=m.filteredBoardSections,_=(0,o.k6)(),P=(0,c.gC)()(n||"");return(0,f.jsxs)(i.xu,{children:[v.length>0&&(0,f.jsxs)(i.xu,{paddingY:d?0:3,children:[d&&(0,f.jsx)(i.xu,{paddingY:2,children:(0,f.jsx)(i.xu,{marginBottom:2,children:(0,f.jsx)(i.xv,{children:h._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})}),!u&&(0,f.jsx)(s.Z,{boardId:t,noArrowIcon:!0,onBoardSelected:function(){return l(t,void 0,h)},showSingleBoardRep:d},t),d&&(0,f.jsx)(i.xu,{paddingY:4,children:(0,f.jsx)(i.xv,{children:h._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})}),g.map(function(e){var r;return(0,f.jsx)(p,{onSectionSelected:function(){if(l(t,e,h),n){var r;_.push(null!==(r=null==P?void 0:P.url)&&void 0!==r?r:"")}},sectionId:null!==(r=e.id)&&void 0!==r?r:"",showSectionRep:d},e.id)})]}),(0,f.jsx)(i.$j,{accessibilityLabel:h._('Loading board section for repin flow', ' - ', ' -- '),show:b})]})}},581349:function(e,t,n){"use strict";n.d(t,{W:function(){return u}});var r=n(684404),o=n(481177),i=n(140017),a=n(267508),l=n(319510),c=n(327540),s=n(819267);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.length>1?RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce(function(n,r,o){if(n.length>0&&e&&e.length){var i=t.toLowerCase().indexOf(e.toLowerCase());return n.concat((0,s.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(i,i+e.length)},o),r)}return[r]},[]):t}t.Z=function(e){var t,n,d,f,p,y,h=(0,i.ZP)(),m=e.disabled,b=e.item,v=e.isSection,g=e.isSelectMode,_=e.isWithinSectionPicker,P=e.saveState,x=e.searchQuery,S=e.selected,j=v?null:b,w=v?b:null,O=w&&w.title||j&&j.name||"",k="",I=!1,E="",A=0;if(j){k=j.image_cover_url,I=j.is_collaborative,E=j.privacy;var T=j.section_count;A=void 0===T?0:T}var C=u(x,O),R=E===o.Z.BoardPrivacy.SECRET,D=!m&&(S||!!P),B=!_&&"number"==typeof A&&A>0,F="number"==typeof A&&A>0?"boardWithSection":"boardWithoutSection",z=g?h._('Select', 'Board select button label', 'Board select button label'):h._('Save', 'Pin save button label', 'Pin save button label');return(0,s.jsxs)(r.xu,{alignItems:"center",color:D?"secondary":"default","data-test-id":F,display:"flex",height:64,marginEnd:2,marginStart:2,marginTop:1,padding:2,rounding:3,children:[j&&(0,s.jsx)(r.xu,{color:"secondary",flex:"none",height:48,marginEnd:2,overflow:"hidden",rounding:2,width:48,children:k?(0,s.jsx)(r.Ee,{alt:h._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:k}):(0,s.jsx)("span",{})}),w&&!!(null!==(t=w.preview_pins)&&void 0!==t&&t.length)&&(0,s.jsx)(l.Z,{image_url:null!==(n=w.preview_pins[0].image_square_url)&&void 0!==n?n:"",naturalHeight:null!==(d=null===(f=w.preview_pins[0].image_square_size_pixels)||void 0===f?void 0:f.height)&&void 0!==d?d:1,naturalWidth:null!==(p=null===(y=w.preview_pins[0].image_square_size_pixels)||void 0===y?void 0:y.width)&&void 0!==p?p:1}),(0,s.jsxs)(r.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,s.jsx)(r.xv,{color:m?"subtle":"default",lineClamp:1,size:"300",weight:"bold",children:C}),(B||!D)&&(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[R&&(0,s.jsx)(c.Z,{type:"secret"}),I&&(0,s.jsx)(a.Z,{board:j,showCollaborativeIcon:I,useLegoLayout:!0}),B&&(0,s.jsx)(c.Z,{type:"sections"})]}),!B&&D&&!P&&(0,s.jsx)(r.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,s.jsx)(r.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:z})}),!B&&D&&"loading"===P&&(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,s.jsx)(r.$j,{accessibilityLabel:h._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},503500:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(672652),o=n(684404),i=n(214877),a=n(140017),l=n(995917),c=n(819267);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=p(i);if(t){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return y(f(e=r.call.apply(r,[this].concat(n))),"state",{isHovering:!1}),y(f(e),"onHover",function(){e.setState({isHovering:!0})}),y(f(e),"offHover",function(){e.setState({isHovering:!1})}),e}return u(i.prototype,[{key:"render",value:function(){var e,t,n,r=this.props,i=r.name,a=r.selected,l=r.image;return r.inFlyoutExp?(0,c.jsxs)(o.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",onMouseOut:this.offHover,onMouseOver:this.onHover,paddingX:4,paddingY:2,children:[(0,c.jsx)(o.xu,{children:(0,c.jsx)(o.zd,{height:40,rounding:2,width:40,children:this.state.isHovering&&l?(0,c.jsx)(o.Ee,{alt:"",color:"",fit:"cover",naturalHeight:null!==(e=l.height)&&void 0!==e?e:1,naturalWidth:null!==(t=l.width)&&void 0!==t?t:1,src:null!==(n=l.url)&&void 0!==n?n:""}):(0,c.jsx)(o.xu,{color:"secondary",height:40,width:40})})}),(0,c.jsx)(o.xu,{padding:2,children:(0,c.jsx)(o.X6,{size:"400",children:i})})]}):(0,c.jsxs)(o.xu,{alignItems:"center",color:a?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,c.jsx)(o.xu,{children:(0,c.jsx)(o.JO,{accessibilityLabel:"",color:a?"default":"subtle",icon:"add"})}),(0,c.jsx)(o.xu,{marginStart:3,children:(0,c.jsx)(o.xv,{color:a?"default":"subtle",weight:"bold",children:i})})]})}}]),n&&u(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t,n,s=e.inFlyoutExp,u=e.inFirstBoardCreateGestaltExp,d=e.pinId,f=e.image,p=e.minHeight,y=e.onBoardSelected,h=(0,i.v)().logContextEvent,v=(0,a.ZP)(),g=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(-1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=g[0],P=g[1],x=(0,l.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(String(d),"/board_title_suggestions/"),pin_id:d}}),S=x.data,j=x.isLoaded,w=(n=void 0===S?[]:S,(0,r.useMemo)(function(){return n&&n.length?n.map(function(e){return e.title}):[]},[n])),O=function(e){y(w[e],!1),h({event_type:101,component:13025,element:23})},k=function(e){P(e)},I=function(){P(-1)},E=function(e,t){var n=_===t;return(0,c.jsx)("li",{children:(0,c.jsx)(o.iP,{onMouseEnter:function(){return k(t)},onMouseLeave:I,onTap:function(){return O(t)},children:(0,c.jsx)(m,{image:f,inFlyoutExp:s,name:e,selected:n})})},t)};return j?w&&w.length?s?(0,c.jsx)(o.xu,{children:(0,c.jsx)("ul",{children:w.map(E)})}):u?(0,c.jsxs)(o.xu,{children:[(0,c.jsx)(o.xu,{marginBottom:3,marginStart:6,marginTop:5,children:(0,c.jsx)(o.xv,{children:v._('Suggested board names', 'text above suggested board names list', 'text above suggested board names list')})}),(0,c.jsx)("ul",{children:w.map(E)})]}):(0,c.jsxs)(o.xu,{children:[(0,c.jsx)(o.xu,{marginTop:2,paddingX:5,children:(0,c.jsx)(o.xv,{children:v._('Suggested board names', ' - ', ' -- ')})}),(0,c.jsx)("ul",{children:w.map(E)})]}):null:(0,c.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:p||"",children:(0,c.jsx)(o.$j,{accessibilityLabel:v._('Loading board suggestions', 'Accesibility label for loading board suggestions', 'Accesibility label for loading board suggestions'),show:!0})})}},160390:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(684404),o=n(140017),i=n(334688),a=n(819267);function l(e){var t=(0,o.ZP)(),n=e.buttonLabel,l=e.hasHoverState,c=e.name,s=e.onClick,u=(0,i.Z)(),d=u.isHovering,f=u.hoverHandlers,p=c||n||t._('Create board', ' - ', ' -- ');return(0,a.jsx)(r.iP,{onMouseEnter:f.onMouseOver,onMouseLeave:f.onMouseLeave,onTap:s,children:(0,a.jsxs)(r.xu,{alignItems:"center",color:l&&d?"secondary":"default",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,a.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,rounding:2,children:(0,a.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:"add",size:20})}),c?(0,a.jsx)(r.xu,{margin:1,children:(0,a.jsxs)(r.xv,{inline:!0,overflow:"normal",children:[" ",t._('Create: ', ' - ', ' -- ')," "]})}):null,(0,a.jsxs)(r.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",p," "]})]})})}},751279:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(684404),o=n(139655),i=n(819267);function a(e){var t=e.url,n=e.description,a=e.color;return a=a||"#8fa7bf",(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:a}},height:216,rounding:2,width:"100%",children:(0,i.jsxs)(r.xu,{maxHeight:200,overflow:"hidden",padding:4,children:[t&&(0,i.jsx)(r.xu,{marginBottom:2,children:(0,i.jsx)(r.xv,{color:"inverse",size:"100",children:(0,o.Z)(t).hostname||t})}),(0,i.jsx)(r.xu,{maxHeight:144,children:(0,i.jsx)(r.xv,{color:"inverse",overflow:"normal",weight:"bold",children:n})})]})})}},540363:function(e,t,n){"use strict";var r,o=n(672652);n(42279);var i=n(684404),a=n(214877),l=n(207012),c=n(172560),s=n(599874),u=n(819267),d=["userKey"];function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=v(a);if(t){var r=v(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(b(e=o.call.apply(o,[this].concat(n))),"state",{}),g(b(e),"handleUserFollow",function(t,n){e.setState({isFollowing:n}),n?e.props.logContextEvent({event_type:45,object_id_str:t,view_type:3,view_parameter:73}):e.props.logContextEvent({event_type:46,object_id_str:t,view_type:3,view_parameter:73})}),e}return n=[{key:"render",value:function(){var e=this,t=this.props.user,n=t.entityId,r=t.fullName,o=t.imageMediumUrl,a=t.username,l=a?"/".concat(a,"/"):"";return n&&r?(0,u.jsxs)(i.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,u.jsx)(i.xu,{flex:"grow",paddingX:1,children:(0,u.jsx)(c.Z,{fullName:r,imageUrl:o,openNewTab:!0,profileUrl:l})}),(0,u.jsx)(i.xu,{flex:"none",paddingX:1,children:(0,u.jsx)(s.Z,{fullName:r,id:n,imageUrl:o||"",isOwnProfile:!1,onUserFollow:function(t){return e.handleUserFollow(n,t)},profileUrl:l,size:"md",suppressToasts:!0})})]}):null}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return void 0===t.isFollowing&&e.user?{isFollowing:!!e.user.followedByMe}:Object.freeze({})}}],n&&h(a.prototype,n),r&&h(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(o.PureComponent);t.Z=function(e){var t=e.userKey,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,d),i=(0,a.v)().logContextEvent,c=void 0!==r?r:r=n(775793),s=(0,l.Z)(c,t);return(0,u.jsx)(P,y(y({},o),{},{logContextEvent:i,user:s}))}},540554:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(672652),o=n(684404),i=n(107366),a=n(388769),l=n(140017),c=n(339001),s=n(317540),u=n(825765),d=n(819267);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(u,e);var t,n,r,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=v(u);if(t){var r=v(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(b(e=l.call.apply(l,[this].concat(n))),"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),g(b(e),"onDismiss",function(){}),g(b(e),"mounted",!1),g(b(e),"addHashtag",function(t){e.props.addHashtag(t),e.setState({recommendations:[]})}),g(b(e),"handleKeyDown",function(t){t.keyCode===s.Z.UP?e.handlePrevHashtag(t):t.keyCode===s.Z.DOWN?e.handleNextHashtag(t):t.keyCode===s.Z.ESCAPE?e.handleClose(t):t.keyCode===s.Z.ENTER&&e.handleSubmit(t)}),g(b(e),"handlePrevHashtag",function(t){t.preventDefault(),e.state.selectedIndex>0&&e.setState(function(e){return{selectedIndex:e.selectedIndex-1}})}),g(b(e),"handleNextHashtag",function(t){t.preventDefault(),e.state.selectedIndex<e.state.recommendations.length-1&&e.setState(function(e){return{selectedIndex:e.selectedIndex+1}})}),g(b(e),"handleClose",function(t){t.preventDefault(),e.setState({recommendations:[]})}),g(b(e),"handleSubmit",function(t){t.preventDefault(),e.addHashtag(e.state.recommendations[e.state.selectedIndex].query)}),g(b(e),"callResource",function(t){(0,e.props.makeCancelablePromise)((0,i.Z)({url:"/v3/search/autocomplete/",data:{q:t,show_pin_count:!0}}),"typeahead").then(function(t){if(e.mounted){var n=t.resource_response.data;e.setState({recommendations:n.slice(0,5),resourceLoaded:!0})}}).catch(function(t){t.isCanceled||e.setState({resourceLoaded:!1})})}),e}return n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,n=t.recommendations,r=t.resourceLoaded,i=t.selectedIndex,l=this.props,s=l.anchor,u=l.idealDirection,f=n.filter(function(e){return e.query}),p="flyout_"+f.length;return r&&f.length>0?(0,d.jsx)(o.J2,{anchor:s,idealDirection:u||"down",onDismiss:this.onDismiss,size:"sm",children:(0,d.jsx)(o.xu,{width:"100%",zIndex:new o.Ry(3),children:f.length>0?f.map(function(t,n){return(0,d.jsx)(o.iP,{fullWidth:!1,onTap:function(){return e.addHashtag(t.query)},children:(0,d.jsxs)(o.xu,{alignItems:"center",color:n===i?"secondary":"transparent",display:"flex",justifyContent:"between",padding:1,children:[(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:t.query})}),(0,d.jsx)(o.xu,{flex:"none",children:(0,d.jsx)(o.xv,{inline:!0,size:"100",children:(0,c.nk)(e.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(t.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,d.jsx)(a.Z,{value:Number(t.pin_count)},"pinCount")})})})]})},t.query)}):null})},p):null}}],h(u.prototype,n),r&&h(u,r),Object.defineProperty(u,"prototype",{writable:!1}),u}(r.Component);function x(e){var t=(0,l.ZP)(),n=(0,u.Z)();return(0,d.jsx)(P,y(y({},e),{},{i18n:t,makeCancelablePromise:n}))}},662058:function(e,t,n){"use strict";n.d(t,{Z:function(){return B}});var r,o,i,a,l=n(672652);n(42279);var c=n(684404),s=n(214877),u=n(207012),d=n(751279),f=n(91402),p=n(673500),y=n(140017),h=n(339001),m=n(995917),b=n(819267),v=void 0!==r?r:r=n(308322),g=void 0!==o?o:o=n(410661),_=void 0!==i?i:i=n(340723);function P(e){var t=e.pinKey,n=(0,y.ZP)(),r=(0,u.Z)(v,t),o="GraphQL"===(0,f.g)(t).kind,i=(0,p.Z)({strategy:o?"GRAPHQL":"LEGACY",query:_,variables:{pinId:r.entityId},options:{fetchPolicy:"network-only"},transformGraphQL:function(e){var t;return(null===(t=e.v3GetPinQuery)||void 0===t?void 0:t.__typename)==="V3GetPin"?e.v3GetPinQuery.data:null},useGetLegacyResource:function(e){var t=e.pinId;return(0,m.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(t,"/"),field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0})}}),a=(0,u.Z)(g,i);return a&&a.pinnedToBoard&&"quick_creates"!==a.pinnedToBoard.layout?(0,b.jsxs)(c.xu,{children:[(0,b.jsx)(c.xu,{color:"errorBase","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:(0,b.jsx)(c.xv,{align:"center",color:"inverse",size:"200",weight:"bold",children:(0,h.nk)(n._('Psst! You already saved this Pin to {{ board_name }} ', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:(a.pinnedToBoard||{}).name}).join(" ")})}),(0,b.jsx)(c.xu,{display:"flex",justifyContent:"center",marginTop:-3,children:(0,b.jsx)(c.JO,{accessibilityLabel:"",color:"error",icon:"heart",size:26})})]}):null}var x=n(540554),S=["pinKey"];function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function I(e,t){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}var R=void 0!==a?a:a=n(109500),D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=A(i);if(t){var r=A(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return E(e)}(this,e)});function i(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var e,t,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return T(E(t=o.call.apply(o,[this].concat(r))),"state",{flyoutCursorIndex:-1,description:(null===(e=t.props.pin)||void 0===e?void 0:e.description)&&t.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),T(E(t),"updateDescription",function(e){t.props.updateDescription&&t.props.updateDescription(e)}),T(E(t),"handleDescriptionBlur",function(e){var n=e.target.value.trim(),r=t.state.isHashtagFlyoutOpen;t.updateDescription(n),t.setState({description:n,editing:r})}),T(E(t),"handleDescriptionEdit",function(){t.setState({editing:!0})}),T(E(t),"handleHashtagAddition",function(e){var n=t.props.pin;t.props.logContextEvent({event_type:101,component:208,element:10249,object_id_str:null==n?void 0:n.entityId,aux_data:{hashtags:e}});var r=t.state.flyoutCursorIndex,o=Number(r+t.state.hashtagQuery.length),i=t.state.description.slice(0,r)+e+" "+t.state.description.slice(o);t.updateDescription(i),t.setState({description:i,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),t}return n=[{key:"render",value:function(){var e,t,n,r,o,i=this.props,a=i.color,l=i.isFirstPin,s=i.pin,u=i.pinImageRef,f=i.shuffleAsset,p=this.state,y=p.editing,h=p.flyoutOpened,m=p.hashtagQuery,v=p.isHashtagFlyoutOpen,g=null!==(e=null==f?void 0:null===(t=f.cutout_images)||void 0===t?void 0:t.originals)&&void 0!==e?e:null==s?void 0:s.imageSpec_236x,_=(null==g?void 0:g.url)||(null==s?void 0:s.imageBase64)||(null===(n=this.props.urlPinInfo)||void 0===n?void 0:n.imageUrl),S=this.state.description||(null===(r=this.props.urlPinInfo)||void 0===r?void 0:r.description)||"",j=(null==s?void 0:s.link)||(null===(o=this.props.urlPinInfo)||void 0===o?void 0:o.link);return(0,b.jsxs)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:h&&y?{transform:"translateY(-75px)"}:{}},display:"flex",justifyContent:"center",position:"relative",width:l?"50%":"",children:[(0,b.jsxs)(c.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(null==s?void 0:s.entityId)&&!f&&(0,b.jsx)(P,{pinKey:s}),(0,b.jsx)(c.xu,{paddingY:l?9:0,width:240,children:(0,b.jsx)(c.xu,{ref:u,maxHeight:h&&y?220:335,overflow:"hidden",rounding:4,children:_?(0,b.jsx)(c.Ee,{alt:S,naturalHeight:(null==g?void 0:g.height)||1,naturalWidth:(null==g?void 0:g.width)||1,src:_}):!!j&&(0,b.jsx)(d.Z,{color:a||"",description:S,url:j})})})]}),this.anchor&&v?(0,b.jsx)(x.Z,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,query:m}):null]})}}],k(i.prototype,n),r&&k(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.Component);function B(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,S),r=(0,s.v)().logContextEvent,o=(0,u.Z)(R,t);return(0,b.jsx)(D,O(O({},n),{},{logContextEvent:r,pin:o}))}},894711:function(e,t,n){"use strict";n.d(t,{K:function(){return W}});var r,o=n(672652),i=n(780277);n(42279);var a=n(328038),l=n(684404),c=n(216167),s=n(798580),u=n(214877),d=n(622888),f=n(25919),p=n(190971),y=n(454514),h=n(207012),m=n(901855),b=n(140017),v=n(339001),g=n(227258),_=n(13848),P=n(498301),x=n(149722),S=n(164212),j=n(692440),w=n(180338),O=n(821419),k=n(409403),I=n(386129);n(481177);var E=n(873955),A=n(819267),T=function(e,t,n){var r;return n?(0,E.Z)(e._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:null!==(r=n.title)&&void 0!==r?r:"",boardName:null!=t?t:""}):(0,A.jsx)(l.xv,{children:(0,v.nk)(e._('Saved to {{ boardName }}', 'Libs.PinToBoard.NewBoardToast', 'boardName:Name of the new board created to add the saved pin'),{boardName:(0,A.jsx)(l.xv,{weight:"bold",children:t})})})},C=n(691010),R=["pinKey"];function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K(r.key),r)}}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return(t=K(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===D(t)?t:String(t)}var U=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,H=void 0!==r?r:r=n(450634),G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=Z(i);if(t){var r=Z(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return N(e)}(this,e)});function i(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var e,t,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return M(N(t=o.call.apply(o,[this].concat(r))),"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:t.getModalTitle(t.props.showCreate,!!t.props.boardWithSection),pinDescription:t.props.pin&&t.props.pin.description||(null===(e=t.props.urlPinInfo)||void 0===e?void 0:e.description)||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),M(N(t),"unmounted",!1),M(N(t),"setModalTitle",function(e){return t.safeSetState({modalTitle:e})}),M(N(t),"updateDescription",function(e){t.safeSetState({pinDescription:e})}),M(N(t),"close",function(){var e=t.props.onClose;e&&e(),t.props.logContextEvent({event_type:2502,component:5,element:610})}),M(N(t),"safeSetState",function(e,n){t.unmounted?n&&n():t.setState(e,n)}),M(N(t),"getPinResource",function(e,n,r){var o,i,a,l,u,d,f,p=t.props,y=p.color,h=p.location,m=p.pin,b=p.method,v=p.guid,g=p.additionalCreateFields,_=p.advertiser_id,x=p.previousHistory,S=p.trackingParamsMap,j=p.urlPinInfo,w=p.shuffleAsset;null!=m&&m.entityId&&(u=(0,s.Z)({boardUrl:null===(d=m.board)||void 0===d?void 0:d.url,location:h,pinId:m.entityId,pinnerUserName:null===(f=m.pinner)||void 0===f?void 0:f.username,previousHistory:x,storyPinDataId:m.storyPinDataId,trackingParams:m.trackingParams,trackingParamsMap:S})||"".concat(m.trackingParams||"","~0"));var O=null!=m&&m.entityId?"RepinResource":"PinResource",k=(null==m?void 0:m.imageUrl)||(null==j?void 0:j.imageUrl),I=(null==m?void 0:m.link)||(null==j?void 0:j.link),E=!(null!=m&&m.entityId)&&k?(0,P.Z)(k,I):(null==m?void 0:null===(o=m.imageSpec_orig)||void 0===o?void 0:o.url)||"",A=F(F(F({},g),{},{board_id:n||"",color:y||"",clientTrackingParams:u,description:t.state.pinDescription,guid:v||"",link:I,image_base64:null!==(i=null==m?void 0:m.imageBase64)&&void 0!==i?i:void 0,image_url:E,is_buyable_pin:!1,is_removable:null!==(a=null==m?void 0:m.promotedIsRemovable)&&void 0!==a?a:void 0,media_upload_id:null!==(l=null==m?void 0:m.mediaUploadId)&&void 0!==l?l:void 0,method:b||"",pin_id:(null==m?void 0:m.entityId)||"",section:r,title:(null==m?void 0:m.title)||""},_?{advertiser_id:_}:Object.freeze({})),w?{shuffle_asset:w.id}:{});if(!e){var T=t.state.sharing,C=T.facebook,R=T.twitter;A.share_facebook=C,A.share_twitter=R}return c.Z.create(O,A)}),M(N(t),"triggerPubSubs",function(e){t.props.onPinCreate&&t.props.onPinCreate({boardId:e.board.id,pinId:e.id})}),M(N(t),"makeCancelablePromise",function(e){var t=!1;return{promise:new Promise(function(n,r){e.then(function(e){return t?r({isCanceled:!0}):n(e)}),e.catch(function(e){return t?r({isCanceled:!0}):r(e)})}),cancel:function(){t=!0}}}),M(N(t),"handleLogToastClick",function(){t.props.logContextEvent({event_type:101,component:20,view_type:52})}),M(N(t),"showSuggestedBoardToast",function(e){var n=t.props,r=n.toastManagerContext;if(n.shouldShowToast&&e){var o=e.name,i=e.url,a=e.image_thumbnail_url;r.showOneToast(function(e){var n=e.hideToast;return(0,A.jsx)(y.ZP,{duration:C.A,href:i,imageUrl:a,onClick:t.handleLogToastClick,onHide:n,text:(0,A.jsx)(l.xv,{children:(0,v.nk)(t.props.i18n._('You might also like {{ suggestion }}', 'PinSaveRequest.Toast.Suggestion', 'Post repin suggested board. suggestion: suggested board name'),{suggestion:(0,A.jsx)(l.xv,{weight:"bold",children:o})})})})})}}),M(N(t),"showBoardSavedToast",function(e,n){var r=t.props,o=r.toastManagerContext,i=r.i18n;o.showToast(function(r){var o,a,l,c=r.hideToast;return(0,A.jsx)(y.ZP,{duration:C.A,href:n?"".concat(null!==(o=e.url)&&void 0!==o?o:"").concat(null!==(a=n.slug)&&void 0!==a?a:""):e.url,imageUrl:null!==(l=e.image_cover_url)&&void 0!==l?l:"",onClick:t.handleLogToastClick,onHide:c,text:T(i,e.name,n)})})}),M(N(t),"dismissModal",function(){var e=t.state,n=e.resolve,r=e.newPin;n&&n(r)}),M(N(t),"fetchBoardRecommendation",function(e){return c.Z.create("RelatedBoardForPinRandomFeedResource",{pin:e.id,page_size:1}).callGet({showError:!1}).then(function(e){return Promise.resolve(e.resource_response.error?null:e.resource_response.data[0])})}),M(N(t),"handleBoardSaveSuccess",function(e,n,r,o){var i,a,l,c=t.props,s=c.action,u=c.saveToBoard,d=c.dispatch,p=c.pin,y=c.setCompletionPromise,h=c.shouldShowToast,m=c.showRepinAnimation,b=c.viewerUserId,v=c.urlPinInfo;d((0,f.fO)());var _=e.resource_response.data,P=t.makeCancelablePromise(new Promise(function(e){t.triggerPubSubs(_);var i,a=t.state.pinDescription.match(U)||[];a.length>0&&t.props.logContextEvent({event_type:2,element:10273,object_id_str:null===(i=t.props.pin)||void 0===i?void 0:i.entityId,aux_data:{hashtags:JSON.stringify(a)}}),"repin"===s&&t.fetchBoardRecommendation(_).then(function(e){t.showSuggestedBoardToast(e)}),o?(h&&t.showBoardSavedToast(n,r),t.safeSetState({displaySuccessAnimation:!0,modalTitle:t.props.i18n._('Board created', 'Modal title after creating a new board', 'Modal title after creating a new board'),newPin:_,resolve:e})):e(_)}));!o&&null!=p&&p.entityId&&m(p.entityId),y(P),u(n),d((0,O.Br)({boardId:n.id,sectionId:r&&r.id,increment:1})),b&&(d((0,I.JS)({userId:b,increment:1})),d((0,f.fO)())),(r||!n.image_cover_url)&&(n.image_cover_url=(null==p?void 0:p.imageUrl)||(null==v?void 0:v.imageUrl)||(null==p?void 0:null===(i=p.imageSpec_236x)||void 0===i?void 0:i.url)||"",d((0,O.yT)(n))),r&&d((0,g.U)("BoardSectionResource",{options:{field_set_key:"board_page",section_id:r.id}})),null!=p&&p.entityId&&d((0,k.Ur)({id:p.entityId,nodeId:p.__id,boardId:n.id,title:null!==(a=n.name)&&void 0!==a?a:"",url:null!==(l=n.url)&&void 0!==l?l:"",localPinId:_.id}))}),M(N(t),"handleSaveToBoard",function(e,n,r){var o=t.props,i=o.onToggleModal,a=o.shouldShowToast,l=o.mountAfterActionPlacement;a&&!r&&(t.close(),t.showBoardSavedToast(e,n));var c="secret"===(e.privacy||""),s={board:n?n.id:e.id,state:C.S.LOADING};t.safeSetState({boardSavedTo:s},function(){t.getPinResource(c,e.id,(n||{}).id).callCreate({showError:!1}).then(function(o){var a,c;l("Save",{pin_id:null===(a=t.props.pin)||void 0===a?void 0:a.entityId,is_promoted:null===(c=t.props.pin)||void 0===c?void 0:c.isPromoted}),t.safeSetState({boardSavedTo:Object.assign(s,{state:C.S.SUCCESS})},function(){return t.handleBoardSaveSuccess(o,e,n,r)}),i&&!r&&i(!1)}).catch(function(e){t.unmounted||t.safeSetState({boardSavedTo:null}),d.Z.showError(e.message_detail||e.message);var n=t.makeCancelablePromise(Promise.reject(e));t.props.setCompletionPromise(n),i&&i(!1)})})}),M(N(t),"handleNewBoardAnimationCompletion",function(){var e=t.props,n=e.pin,r=e.showRepinAnimation;null!=n&&n.entityId&&r(n.entityId)}),t}return n=[{key:"getModalTitle",value:function(e,t){return e?t?this.props.i18n._('Create section', 'modal title for create section pane', 'modal title for create section pane'):this.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):t?this.props.i18n._('Choose section', 'modal title for choose section', 'modal title for choose section'):this.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board')}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.boardWithSection,r=t.showCreate,o=t.pin,i=t.urlPinInfo,a=t.description,l={};(o!==e.pin||i!==e.urlPinInfo||a!==e.description)&&(l.pinDescription=(null==o?void 0:o.description)||(null==i?void 0:i.description)||a||""),(r!==e.showCreate||n!==e.boardWithSection)&&(l.modalTitle=this.getModalTitle(r,!!n)),Object.keys(l).length>0&&this.safeSetState(l)}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this.close,t=this.dismissModal,n=this.handleNewBoardAnimationCompletion,r=this.handleSaveToBoard,o=this.setModalTitle,i=this.updateDescription,a=this.state,l=a.boardSavedTo,c=a.displaySuccessAnimation,s=a.modalTitle,u=a.newPin,d=this.props.color;return this.props.children({boardSavedTo:l,color:d,dismissModal:t,displaySuccessAnimation:c,handleAbort:e,handleNewBoardAnimationCompletion:n,handleSaveToBoard:r,modalTitle:s,newPin:u,setModalTitle:o,updateDescription:i})}}],z(i.prototype,n),r&&z(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(o.Component);function W(e){var t,n=e.pinKey,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,R),o=(0,j.N)().saveToBoard,l=(0,u.v)().logContextEvent,c=null===(t=(0,w.W)())||void 0===t?void 0:t.onPinCreate,s=(0,b.ZP)(),d=(0,a.TH)(),f=(0,x.Z)(),y=(0,_.F9)(),v=(0,i.useDispatch)(),g=(0,S.J)().updateHeaderState,P=(0,i.useSelector)(function(e){var t=e.advertiser;return f.isAuth&&t&&t.owner_user_id!==f.id?t.id:void 0}),O=(0,m.Hv)().previous,k=(0,p.c)(),I=(0,h.Z)(H,n);return(0,A.jsx)(G,F(F({},r),{},{advertiser_id:P,dispatch:v,i18n:s,location:d,logContextEvent:l,mountAfterActionPlacement:k,onPinCreate:c,pin:I,previousHistory:O,saveToBoard:o,showRepinAnimation:function(e){return g({type:"showRepinAnimation",payload:e})},toastManagerContext:y,viewerUserId:f.isAuth?f.id:void 0}))}},898924:function(e,t,n){"use strict";n.d(t,{ZP:function(){return e$}});var r,o,i,a=n(672652);n(42279);var l=n(684404),c=n(930837),s=n(207012),u=n(140017),d=n(149722),f=n(373395),p=n(88988),y=n(780277),h=n(587703),m=n(5859),b=n(402287),v=n(819267);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t=e.board,n=e.completeCreateSectionAction,r=e.height,o=e.onClose,i=e.pinImport,s=e.url,d=e.width,f=(0,u.ZP)(),p=(0,m.B)().isRTL,_=(0,h.Z)(),P=(0,y.useDispatch)(),x=g((0,a.useState)(""),2),S=x[0],j=x[1],w=g((0,a.useState)(!1),2),O=w[0],k=w[1],I=g((0,a.useState)(null),2),E=I[0],A=I[1];return(0,v.jsx)(c.ZP,{accessibilityModalLabel:f._('Repin modal', 'save.pinToBoard.modal.label', 'Accessibility label on modal'),footer:(0,v.jsx)(l.kC,{children:(0,v.jsx)(l.xu,{marginStart:"auto",children:(0,v.jsx)(l.zx,{color:"red",disabled:O||!S.trim()||!!E,fullWidth:!0,onClick:function(){t&&(k(!0),P((0,b.vB)({boardId:t.id,name:S.trim(),pinImport:i},f,void 0,_)).then(function(e){n(t,e,!1)}).catch(function(e){A(e.message_detail||e.message)}).finally(function(){k(!1)}))},size:"lg",text:f._('Add', 'sectionCreateModal.add.button', 'add a new section')})})}),heading:(0,v.jsx)(l.xu,{paddingY:8,children:(0,v.jsxs)(l.kC,{justifyContent:"center",children:[(0,v.jsx)(l.xu,{maxWidth:400,children:(0,v.jsx)(l.X6,{align:"center",size:"500",children:f._('Add section', 'sectionCreateModal.title', 'Title in the add section modal')})}),(0,v.jsx)(l.xu,{left:p,padding:8,position:"absolute",right:!p,top:!0,children:(0,v.jsx)(l.hU,{accessibilityLabel:f._('Close', 'sectionCreateModal.closeButton', 'close section create modal button'),icon:"cancel",iconColor:"darkGray",onClick:o,size:"md"})})]})}),onDismiss:o,size:"sm",children:(0,v.jsx)(l.xu,{padding:8,children:(0,v.jsxs)(l.kC,{children:[(0,v.jsx)(l.zd,{height:r,rounding:4,width:d,children:(0,v.jsx)(l.Ee,{alt:"",fit:"cover",naturalHeight:null!=r?r:1,naturalWidth:null!=d?d:1,src:s||""})}),(0,v.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{width:d?"calc(100% - ".concat(d,"px)"):"100%"}},marginStart:8,children:(0,v.jsx)(l.nv,{errorMessage:E,id:"sectionEditName",label:f._('Name', 'section.create.label', 'label text for section input'),onChange:function(e){j(e.value),A(null)},placeholder:f._('Like "Lighting"', 'sectionCreateModal.boardSection.name', 'Placeholder for board section name'),size:"lg",type:"text",value:S})})]})})})},x=n(214877),S=n(827625),j=n(995917),w=n(416049),O=n(554786),k=n(175597),I=n(673463),E=["pinKey"];function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}var N=void 0!==r?r:r=n(569483),Z=void 0,M=function(e){var t=[],n=[];return e.forEach(function(e){var r;null!==(r=e.name)&&void 0!==r&&r.match(/^\d/)?n.push(e):t.push(e)}),[].concat(t,n)};function K(e,t,n,r){return F(F(F(F({},e?{pin_id:e}:Object.freeze({})),t?{username:t}:Object.freeze({})),n?{advertiser_id:n,filter:"protected"}:Object.freeze({})),{},{field_set_key:"board_picker",limit:Z,shortlist_suggestions:2,isDesktop:r})}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=D(o);if(t){var r=D(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return R(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return z(R(e=r.call.apply(r,[this].concat(n))),"getSections",function(t){var n=e.props.boardResource.data;if(!n)return[];var r=n.all_boards,o=n.boards_shortlist,i=M(r);return i.length<=3?[{items:i}]:t.length>=w.Z?[{items:(0,I.j)(i,t)}]:[o.length?{items:o,title:e.props.i18n._('Top choices', ' - ', ' -- ')}:{items:[]},{items:i,title:e.props.i18n._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')}]}),e}return T(o.prototype,[{key:"render",value:function(){var e=this.props,t=e.boardResource,n=t.data,r=t.error,o=t.isLoaded,i=e.boardSavedTo,a=e.isSelectMode,l=e.onBoardCreate,c=e.onBoardSelected,s=e.pin,u=o&&!!n&&n.all_boards.length<=3;return(0,v.jsx)(k.Z,{boardSavedTo:i,getSections:this.getSections,hasLoadError:!!r,hasLowBoardCount:u,isLoaded:o,isSelectMode:a,onCreate:l,onSelected:c,pinId:null==s?void 0:s.entityId})}}]),n&&T(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(a.Component);function H(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,E),r=(0,u.ZP)(),o=(0,d.Z)(),i=(0,O.HG)(),a=(0,s.Z)(N,t),l=(0,y.useSelector)(function(e){var t=e.advertiser;if(o.isAuth&&t&&t.owner_user_id!==o.id)return t.id}),c=(0,y.useSelector)(function(e){var t=e.advertiser;if(o.isAuth&&t&&t.owner_user_id!==o.id)return t.owner_user_id}),f=(0,j.Z)({name:"BoardPickerBoardsResource",options:K(null==a?void 0:a.entityId,c,l,i)});return(0,v.jsx)(U,F(F({},n),{},{boardResource:f,i18n:r,pin:a}))}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){X(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J(r.key),r)}}function Y(e,t){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,n){return(t=J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==G(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===G(t)?t:String(t)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=$(i);if(t){var r=$(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return Q(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return X(Q(e=o.call.apply(o,[this].concat(n))),"getSections",function(t){var n=e.props,r=n.board,o=n.i18n,i=n.sectionsResource.data,a=o._('Board', 'PinSaveButton.RepinPicker.SectionListBoardTitle', 'board title on section picker'),l=o._('Section', 'PinSaveButton.BoardFlyout.SectionListSectionTitle', 'section title on section picker');return t.length>=w.Z?[{items:(0,I.j)([r],t),customProps:{inSectionSelection:!0}},{items:(0,I.j)(null!=i?i:[],t,"title")}]:[{items:[r],customProps:{inSectionSelection:!0},title:a},{items:null!=i?i:[],title:l}]}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.sectionsResource,n=t.error,r=t.isLoaded,o=e.boardSavedTo,i=e.isSelectMode,a=e.onSectionCreate,l=e.onSectionSelected,c=e.pinId;return(0,v.jsx)(k.Z,{boardSavedTo:o,createButtonLabel:this.props.i18n._('Add section', 'Button for creating a board section', 'Button for creating a board section'),getSections:this.getSections,hasLoadError:!!n,isLoaded:r,isSelectMode:i,onCreate:a,onSelected:l,pinId:c})}}],V(i.prototype,n),r&&V(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(a.Component);function et(e){var t=(0,u.ZP)(),n=(0,j.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return(0,v.jsx)(ee,q(q({},e),{},{i18n:t,sectionsResource:n}))}var en=n(481177),er=n(137023),eo=n(675266),ei=n(205841),ea=n(873955);function el(e){var t=(0,u.ZP)(),n=e.body,r=e.img,o=e.onClick,i=e.selected,a=e.title,c=e.username,s=e.valid;return(0,v.jsx)(l.xu,{marginBottom:4,children:(0,v.jsx)(l.iP,{onTap:o,children:(0,v.jsxs)(l.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[r,(0,v.jsxs)(l.xu,{flex:"grow",marginEnd:2,marginStart:3,children:[(0,v.jsx)(l.xu,{marginBottom:1,children:(0,v.jsx)(l.xv,{lineClamp:1,weight:"bold",children:a})}),(0,v.jsx)(l.xv,{lineClamp:1,size:"100",children:c||n})]}),(0,v.jsx)(l.xu,{marginStart:2,children:c?i?(0,v.jsx)(l.JO,{accessibilityLabel:t._('Confirmation an invite will be sent', 'Alt tags on a check box on the board create flow for board invites', 'Alt tags on a check box on the board create flow for board invites'),color:"error",icon:"check-circle",size:32}):(0,v.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):(0,v.jsx)(l.zx,{color:"gray",disabled:!!i||!s,size:"sm",text:i?t._('Sent', 'Sent a board collaborator invite', 'Sent a board collaborator invite'):t._('Invite', 'Add board collaborator invite', 'Add board collaborator invite')})})]})})})}var ec=n(823813);function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach(function(t){em(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ef(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eb(r.key),r)}}function ep(e,t){return(ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ey(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eh(e){return(eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function em(e,t,n){return(t=eb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eb(e){var t=function(e,t){if("object"!==es(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==es(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===es(t)?t:String(t)}function ev(e,t,n){var r=e.id;return t===n.findIndex(function(e){return e.id===r})}var eg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ep(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eh(i);if(t){var r=eh(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===es(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ey(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return em(ey(e=o.call.apply(o,[this].concat(n))),"state",{selectedCollaborators:e.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),em(ey(e),"isIdSelected",{}),em(ey(e),"handleTextFieldChange",function(t){var n=t.value;e.setState({value:n})}),em(ey(e),"handleCollaboratorClick",function(t){var n=t.id,r=t.type;e.isIdSelected[n]=!e.isIdSelected[n];var o=e.props,i=o.inviteUsers,a=o.inviteEmails,l=e.state.selectedCollaborators.concat([t]);e.props.onSelectedCollaboratorsChange({id:n,resource:"email"===r?a:i}),e.setState({selectedCollaborators:l})}),em(ey(e),"handleTypeaheadSuggestionsChange",function(t){e.setState({typeaheadSuggestions:t})}),e}return n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.inviteUsers,r=t.inviteEmails;this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(function(t){var o=t.id,i=t.type;return e.isIdSelected[o]=!e.isIdSelected[o],e.props.onSelectedCollaboratorsChange({id:o,resource:"email"===i?r:n}),null})}},{key:"render",value:function(){var e=this,t=this.state.value,n=this.props.shareSuggestionsResource.data||[],r=(""===t?this.state.selectedCollaborators.concat(n).filter(ev):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:t,valid:(0,eo.Z)(t)}).concat(n).filter(ev)).map(function(t){return function(e,t,n,r){if("user_share_suggestion"===e.type||"user"===e.type){var o=(0,v.jsx)(ei.qE,{accessibilityLabel:"",name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return(0,v.jsx)(el,{img:o,onClick:function(){return n(e)},selected:t,title:e.full_name,username:e.username})}if("email"===e.type){var i,a,c=e.id,s=e.valid,u=(0,v.jsx)(l.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,v.jsx)(l.JO,{accessibilityLabel:r._('Email icon', 'Email icon on board create modal', 'Email icon on board create modal'),color:"default",icon:"envelope",size:20})}),d=(0,ea.Z)(r._('Email {{ email }}', ' - ', ' -- '),{email:c});return t?(i=r._('Done!', 'Text that lets the user know we sent the board invite email', 'Text that lets the user know we sent the board invite email'),a=function(){}):(i=s?r._('Click to send!', 'Text that lets the user know they can successfully send a board invite email', 'Text that lets the user know they can successfully send a board invite email'):r._('Keep typing!', 'Text that lets a user know the email they are typing is not valid yet', 'Text that lets a user know the email they are typing is not valid yet'),a=function(){return s?n(e):void 0}),(0,v.jsx)(el,{body:i,img:u,onClick:a,selected:t,title:d,valid:s})}}(t,e.isIdSelected[t.id],e.handleCollaboratorClick,e.props.i18n)}).map(function(e,t){return(0,v.jsx)("li",{children:e},t)});return(0,v.jsxs)(l.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,v.jsx)(l.xu,{paddingX:3,paddingY:2,children:(0,v.jsx)(l.xv,{size:"100",children:this.props.i18n._('Add collaborators (optional)', 'Optional field to add collaborators to a board on board create', 'Optional field to add collaborators to a board on board create')})}),(0,v.jsx)(l.xu,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:(0,v.jsx)(l.xu,{flex:"grow",children:(0,v.jsx)(er.Z,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:t,children:(0,v.jsx)(l.Um,{accessibilityLabel:this.props.i18n._('Search for collaborators by name or email', ' - ', ' -- '),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n._('Search by name or email', ' - ', ' -- '),size:"lg",value:t})})})}),(0,v.jsx)(l.xu,{overflow:"scrollY",paddingX:3,children:(0,v.jsx)("ul",{children:r})})]})}}],ef(i.prototype,n),r&&ef(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(a.Component);function e_(e){var t=(0,u.ZP)(),n=(0,j.Z)({name:"ShareSuggestionsResource",noCache:!0}),r=(0,ec.zC)(),o=(0,ec.DK)();return(0,v.jsx)(eg,ed(ed({},e),{},{i18n:t,inviteEmails:r,inviteUsers:o,shareSuggestionsResource:n}))}var eP=n(317985),ex=n(316796);function eS(e){var t=e.onCancel,n=e.onCreate,r=e.onInvite,o=e.prefilledName,i=e.preselectedCollaborators,c=e.showTitle,s=(0,u.ZP)(),d=(0,m.B)().isRTL,f=(0,ex.Z)({onCreate:n,prefilledName:o}),p=f.handleCreate,y=f.handleChangeName,h=f.handleChangePrivacy,b=f.isAdAccountOwner,g=f.state,_=g.createBoardError,P=g.inputName,x=g.nameValidatorErrors,S=g.privacy,j=g.saving,w=0===x.length,O=S===en.Z.BoardPrivacy.SECRET;return(0,v.jsx)(l.xu,{color:"default",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,v.jsx)("form",{onSubmit:function(e){e.preventDefault(),p()},style:{height:"100%"},children:(0,v.jsxs)(l.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[c&&(0,v.jsx)(l.xu,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:(0,v.jsx)(l.X6,{size:"400",children:s._('Create board', ' - ', ' -- ')})}),(0,v.jsxs)(l.xu,{padding:3,children:[(0,v.jsx)(l.xu,{marginBottom:2,children:(0,v.jsx)(l.__,{htmlFor:"boardEditName",children:(0,v.jsx)(l.xv,{size:"100",children:s._('Name', ' - ', ' -- ')})})}),(0,v.jsx)(l.xu,{children:(0,v.jsx)(l.nv,{errorMessage:x.join(", "),id:"boardEditName",name:"boardName",onChange:function(e){return y(e.value)},placeholder:s._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:P})})]}),b&&(0,v.jsxs)(a.Fragment,{children:[(0,v.jsxs)(l.xu,{padding:3,children:[(0,v.jsx)(l.xu,{marginBottom:2,children:(0,v.jsx)(l.__,{htmlFor:"secret",children:(0,v.jsx)(l.xv,{size:"100",children:s._('Secret', 'secret board', 'secret board')})})}),(0,v.jsx)(l.xu,{children:(0,v.jsx)(l.rs,{id:"secret",onChange:h,switched:O})})]}),(0,v.jsx)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",overflow:"hidden",children:(0,v.jsx)(l.xu,{width:"100%",children:(0,v.jsx)(e_,{onSelectedCollaboratorsChange:r,preselectedCollaborators:i})})})]}),!b&&(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(l.xu,{padding:3,children:[(0,v.jsx)(l.xu,{marginBottom:2,children:(0,v.jsx)(l.__,{htmlFor:"protected",children:(0,v.jsx)(l.xv,{size:"100",children:s._('Protected board (not listed on user\'s profile)', 'protected board', 'protected board')})})}),(0,v.jsx)(l.xu,{children:(0,v.jsx)(l.rs,{disabled:!0,id:"protected",onChange:function(){},switched:!0})})]})}),(0,v.jsxs)(l.xu,{borderStyle:"shadow",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},display:"flex",justifyContent:"between",left:d,paddingX:4,paddingY:2,position:"absolute",right:!d,width:720,children:[(0,v.jsx)(l.kC,{children:(0,v.jsx)(l.zx,{onClick:t,text:s._('Cancel', 'cancel board create', 'cancel board create')})}),(0,v.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[!!_&&(0,v.jsx)(l.xu,{paddingX:2,children:(0,v.jsx)(l.xv,{align:"center",color:"error",size:"200",weight:"bold",children:_})}),(0,v.jsx)(eP.Z,{disabled:!P.trim()||!w||!!_||j,submitting:j,text:s._('Create', 'create a new board', 'create a new board')})]})]})]})})})}var ej=n(916964),ew=["pinKey"];function eO(e){return(eO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ek(Object(n),!0).forEach(function(t){eR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eD(r.key),r)}}function eA(e,t){return(eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eT(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eC(e){return(eC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eR(e,t,n){return(t=eD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eD(e){var t=function(e,t){if("object"!==eO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eO(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eO(t)?t:String(t)}var eB=void 0!==o?o:o=n(580986),eF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eA(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eC(i);if(t){var r=eC(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===eO(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eT(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eR(eT(e=o.call.apply(o,[this].concat(n))),"state",{inviteQueue:{},newName:"",selectedSectionBoard:e.props.boardWithSection||null,showCreate:e.props.showCreate||!1}),eR(eT(e),"close",function(){var t=e.state,n=t.selectedSectionBoard,r=t.showCreate,o=e.props.onClose;r&&n?e.setState({showCreate:!1},e.manageModalTitle):n?e.setState({selectedSectionBoard:null},e.manageModalTitle):o()}),eR(eT(e),"sendInvites",function(t){var n=e.state.inviteQueue;Object.keys(n).forEach(function(e){var r;n[e].resource(null!==(r=t.id)&&void 0!==r?r:"",[e])})}),eR(eT(e),"handleInvite",function(t){var n=e.state.inviteQueue;if(n[t.id]){var r=eI({},n);delete r[t.id],e.setState({inviteQueue:r})}else{var o=eI(eI({},n),{},eR({},t.id,t));e.setState({inviteQueue:o})}}),eR(eT(e),"handleBoardCreate",function(t){var n=e.props.onBoardCreated;e.handleBoardSave(t,!0),n&&n(t)}),eR(eT(e),"handleBoardSave",function(t,n){var r=e.state.selectedSectionBoard,o=e.props,i=o.onBoardSave,a=o.invalidatePinBetterSaveResource,l=o.invalidateResource,c="board_section"===t.type;if(l(),a(),r&&("boardsection"===t.type||c))return i(r,t,n);var s=t.section_count,u=void 0===s?0:s;!r&&"number"==typeof u&&u>0?e.setState({selectedSectionBoard:t},e.manageModalTitle):(e.sendInvites(t),i(t,void 0,n))}),eR(eT(e),"handleCreate",function(t){return function(n){n=n||"",e.setState({newName:n,showCreate:!0},e.manageModalTitle),e.props.logContextEvent({event_type:101,component:t?13105:13025,element:t?10306:249})}}),eR(eT(e),"manageModalTitle",function(){var t=e.props.setModalTitle,n=e.state,r=n.selectedSectionBoard,o=n.showCreate;t&&t(o&&r?e.props.i18n._('Add section', 'Repin title for making a board section', 'Repin title for making a board section'):o&&!r?e.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):r&&!o?e.props.i18n._('Choose section', 'Repin title for choosing a board section', 'Repin title for choosing a board section'):e.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board'))}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,n=e.isRepin,r=e.isSelectMode,o=e.pin,i=e.preselectedCollaborators,a=e.setModalTitle,c=e.suggestedBoardTitle,s=this.state,u=s.newName,d=s.selectedSectionBoard,f=s.showCreate,p=!!d,y=!a;return(0,v.jsxs)(l.xu,{display:"flex",position:"relative",width:"100%",children:[!f&&(0,v.jsx)(l.xu,{direction:"column",display:"flex",marginTop:4,width:"100%",children:d?(0,v.jsx)(et,{board:d,boardSavedTo:t,isSelectMode:r,onSectionCreate:this.handleCreate(p),onSectionSelected:this.handleBoardSave}):(0,v.jsx)(H,{boardSavedTo:t,isSelectMode:r,onBoardCreate:this.handleCreate(p),onBoardSelected:this.handleBoardSave,pinKey:o})}),f&&!d&&(0,v.jsx)(eS,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,prefilledName:u||c,preselectedCollaborators:i,showTitle:y}),f&&d&&(0,v.jsx)(ej.Z,{board:d,completeCreateSectionAction:this.handleBoardSave,initialName:u,isRepin:n,onClearModal:this.close,showTitle:y})]})}}],eE(i.prototype,n),r&&eE(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(a.Component);function ez(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ew),r=(0,x.v)().logContextEvent,o=(0,u.ZP)(),i=(0,s.Z)(eB,t),a=(0,y.useDispatch)();return(0,v.jsx)(eF,eI(eI({},n),{},{i18n:o,invalidatePinBetterSaveResource:function(){a((0,S.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},invalidateResource:function(){a((0,S.jB)("BoardPickerBoardsResource",K(null==i?void 0:i.entityId)))},logContextEvent:r,pin:i}))}var eL=n(662058),eN=["pinKey"];function eZ(e){return(eZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eM(Object(n),!0).forEach(function(t){eq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eV(r.key),r)}}function eH(e,t){return(eH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eG(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eW(e){return(eW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eq(e,t,n){return(t=eV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eV(e){var t=function(e,t){if("object"!==eZ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eZ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eZ(t)?t:String(t)}var eY=void 0!==i?i:i=n(738258),eQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eH(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eW(i);if(t){var r=eW(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===eZ(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eG(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eq(eG(e=o.call.apply(o,[this].concat(n))),"pinImageRef",(0,a.createRef)()),eq(eG(e),"handleSavePinToBoard",function(t,n,r){(0,e.props.handleSaveToBoard)(t,n,r)}),eq(eG(e),"close",function(){(0,e.props.handleAbort)()}),eq(eG(e),"dismissModal",function(){var t=e.props.dismissModal;t&&t()}),e}return n=[{key:"render",value:function(){var e,t,n,r,o,i,s,u=this,d=this.props,y=d.boardSavedTo,h=d.boardWithSection,m=d.color,b=d.displaySuccessAnimation,g=d.handleNewBoardAnimationCompletion,_=d.isInModal,x=d.newPin,S=d.pin,j=d.preselectedCollaborators,w=d.onBoardCreated,O=d.sensitiveContentNotice,k=d.setModalTitle,I=d.showCreate,E=d.shouldRenderContent,A=d.suggestedBoardTitle,T=d.updateDescription,C=d.urlPinInfo,R=d.shuffleAsset,D=(null==C?void 0:C.description)||(null==C?void 0:C.link)||(null==C?void 0:C.imageUrl);if(!S&&!D||!E)return null;if(I&&h)return(0,v.jsx)(P,{board:h,completeCreateSectionAction:this.handleSavePinToBoard,height:null!==(e=null==S?void 0:null===(t=S.imageSpec_236x)||void 0===t?void 0:t.height)&&void 0!==e?e:0,onClose:this.close,url:null!==(n=null!==(r=null==S?void 0:null===(o=S.imageSpec_236x)||void 0===o?void 0:o.url)&&void 0!==r?r:null==C?void 0:C.imageUrl)&&void 0!==n?n:"",width:null!==(i=null==S?void 0:null===(s=S.imageSpec_236x)||void 0===s?void 0:s.width)&&void 0!==i?i:0});var B=null;x&&x.board&&(B=x.board.name);var F=O&&O.title||this.props.modalTitle,z=O?(0,v.jsx)(f.Z,{inModal:!0,notices:[O]}):(0,v.jsx)(l.kC,{alignItems:"stretch",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:(0,v.jsxs)(a.Fragment,{children:[(0,v.jsxs)(l.xu,{color:"default",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[(0,v.jsx)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:(0,v.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:(0,v.jsx)(eL.Z,{color:m,pinImageRef:this.pinImageRef,pinKey:S,shuffleAsset:R,updateDescription:T,urlPinInfo:C})})}),(0,v.jsx)(l.kC,{alignItems:"stretch",width:"60%",children:(0,v.jsx)(ez,{boardSavedTo:y,boardWithSection:h,isRepin:!0,onBoardCreated:w,onBoardSave:this.handleSavePinToBoard,onClose:this.close,pinKey:S,preselectedCollaborators:j,setModalTitle:_?k:void 0,showCreate:I,suggestedBoardTitle:A})})]}),b&&(0,v.jsx)(p.Z,{onDismiss:function(){g(),u.dismissModal()},pinImageRef:this.pinImageRef,pinKey:S,selectedBoardName:B,shuffleAsset:R})]})});return _?(0,v.jsx)(c.ZP,{accessibilityModalLabel:F||this.props.i18n._('Repin modal', 'save.pin-to-board.PinToBoard.PinToBoard', 'Accessibility label on modal'),heading:F,onDismiss:this.close,size:"md",children:z}):z}}],eU(i.prototype,n),r&&eU(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(a.PureComponent);eq(eQ,"defaultProps",{pwtAuxData:{}});var e$=function(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,eN),r=(0,u.ZP)(),o=(0,d.Z)(),i=(0,s.Z)(eY,t);return(0,v.jsx)(eQ,eK(eK({},n),{},{i18n:r,pin:i,viewer:o}))}},691010:function(e,t,n){"use strict";n.d(t,{A:function(){return r},S:function(){return o}});var r=4e3,o={LOADING:"loading",SUCCESS:"success"}},316796:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(672652),o=n(780277),i=n(481177),a=n(140017),l=n(339001),c=n(827625),s=n(149722),u=n(747602),d=n(281871),f=n(112544);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t,n=e.onCreate,p=e.prefilledName,y=(0,a.ZP)(),b=(0,o.useSelector)(function(e){return e.advertiser}),v=(0,o.useDispatch)(),g=(0,s.Z)(),_=!b||g.isAuth&&b.owner_user_id===g.id,P=b&&b.id,x=(0,f.Z)(),S=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)({createBoardError:null,inputName:p||"",nameValidatorErrors:[],privacy:_?i.Z.BoardPrivacy.PUBLIC:i.Z.BoardPrivacy.PROTECTED,saving:!1}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=S[0],w=S[1],O=function(){var e=j.inputName,t=j.privacy;w(h(h({},j),{},{saving:!0,createBoardError:null})),x({boardCreateOptions:h({name:e,privacy:t},!_&&P?{advertiser_id:P}:Object.freeze({}))}).then(function(e){w(h(h({},j),{},{saving:!1})),n(e)}).catch(function(e){var t=y._('Uh oh! Something went wrong.', ' - ', ' -- ');if("string"==typeof e)t=e;else if(e.message){var n=e.message,r=e.message_detail;t=r?"".concat(n," ").concat(r):n}w(h(h({},j),{},{saving:!1,createBoardError:t}))}),v((0,c.jB)("BoardsResource",(0,d.Z)(g.isAuth?g.username:"",t===i.Z.BoardPrivacy.SECRET)))};return{handleChangeName:function(e,t){w(h(h({},j),{},{inputName:e,nameValidatorErrors:(0,u.FU)([(0,u.aH)({message:y._('Don\'t forget to name your board!', ' - ', ' -- ')}),(0,u.Gy)({max:i.Z.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:(0,l.nk)(y._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:i.Z.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],e),createBoardError:null})),t&&O()},handleChangePrivacy:function(){w(h(h({},j),{},{privacy:j.privacy===i.Z.BoardPrivacy.SECRET?i.Z.BoardPrivacy.PUBLIC:i.Z.BoardPrivacy.SECRET}))},handleCreate:O,isAdAccountOwner:_,state:j}}},413523:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(672652),o=n(684404),i=n(819267);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(f);if(t){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function f(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var e,t,n,o,i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=s(e=r.call.apply(r,[this].concat(a))),n="setSearchRef",o=function(t){t&&(e.searchRef=t)},(n=d(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,e}return l(f.prototype,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.searchRef.focus()}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,n=e.id,r=e.onBlur,a=e.onChange,l=e.onFocus,c=e.placeholder,s=e.value;return(0,i.jsx)(o.Um,{ref:this.setSearchRef,accessibilityLabel:t,id:n,onBlur:r,onChange:a,onFocus:l,placeholder:c,size:"lg",value:s})}}]),n&&l(f,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},156591:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(684404),o=n(419075),i=n(140017),a=n(819267);function l(e){var t=e.duration,n=(0,i.ZP)();return(0,a.jsxs)(r.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,a.jsx)(r.JO,{accessibilityLabel:n._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,a.jsx)(r.xu,{marginStart:1,children:(0,a.jsx)(r.xv,{color:"inverse",lineClamp:1,size:"100",children:(0,o.Z)(t)})})]})}},818133:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(328038),o=n(5859),i=n(554786),a=n(672652),l=n(684404),c=n(810174),s=n(549629),u=n(140017),d=n(995917),f=n(254292),p=n(894711),y=n(898924),h=n(819267);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var w=function(){return window.close()},O=function(e){window.resizeTo(675,e+52)},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=x(i);if(t){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return P(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(P(e=o.call.apply(o,[this].concat(n))),"state",{newPin:null}),S(P(e),"_pincreateCompletionPromise",null),S(P(e),"setCompletionPromise",function(t){e._pincreateCompletionPromise=t,e._pincreateCompletionPromise.promise.then(function(t){e.setState({newPin:t}),window.setTimeout(w,1e4)})}),e}return n=[{key:"render",value:function(){var e,t,n=this.props.pin.data,r=this.state.newPin;return n?r?(0,h.jsx)(c.Z,{boardName:r.board.name,color:n.dominant_color||"",description:n.description||"",imageUrl:(null===(e=n.images)||void 0===e?void 0:null===(t=e["236x"])||void 0===t?void 0:t.url)||"",link:n.link||"",onClose:w,openNewTab:!0,pinId:r.id}):(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(f.Z,{text:this.props.i18n._('Select a board to save this Pin', 'PinToBoardPage.Header.HiddenAccessibilityHeader', 'Accessibility h1 on pin to board page for extension')}),(0,h.jsx)(p.K,{action:"repin",onClose:w,pinKey:{type:"deprecated",data:n},setCompletionPromise:this.setCompletionPromise,shouldShowToast:!0,trackingParamsMap:n.tracking_params_map,urlPinInfo:null,children:function(e){var t=e.handleAbort,r=e.handleNewBoardAnimationCompletion,o=e.handleSaveToBoard,i=e.newPin,a=e.modalTitle,c=e.setModalTitle;return(0,h.jsx)(l.xu,{"data-test-id":"pin-to-board-page",display:"flex",justifyContent:"center",width:"100%",children:(0,h.jsx)(y.ZP,{handleAbort:t,handleNewBoardAnimationCompletion:r,handleSaveToBoard:o,modalTitle:a,newPin:i,onHeightChange:O,pinKey:{type:"deprecated",data:n},pwtAuxData:{pin_create_method:"repin"},setModalTitle:c,shouldRenderContent:!0,urlPinInfo:null})})}})]}):null}}],g(i.prototype,n),r&&g(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(a.Component);function I(e){var t=(0,r.$B)(),n=(0,u.ZP)();(0,s.Q)({view_type:91,object_id_str:t.params.id,view_data:{pin_id:t.params.id}});var o=(0,d.Z)({name:"PinResource",options:{noCache:!0,field_set_key:"detailed",id:t.params.id}});return(0,h.jsx)(k,v(v({},e),{},{i18n:n,pin:o}))}var E=n(18893),A=function(){var e=(0,r.UO)().id,t=(0,i.ZP)();return(0,o.B)().isAuthenticated?"desktop"===t?(0,h.jsx)(I,{}):(0,h.jsx)(E.ZP,{}):(0,h.jsx)(r.l_,{to:"/pin/".concat(null!=e?e:"","/")})}},412116:function(e,t,n){"use strict";n.d(t,{TA:function(){return w}});var r=n(672652),o=n(58348),i=n(215842),a=n(946330),l=n(741747),c=n(89165),s=n(894288),u=n.n(s);function d(e){console.warn("loadable: "+e)}var f=r.createContext(),p={initialChunks:{}},y="PENDING",h="REJECTED",m=function(e){return e};function b(e){var t=e.defaultResolveComponent,n=void 0===t?m:t,s=e.render,d=e.onLoad;function b(e,t){void 0===t&&(t={});var m,b="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,v={};function g(e){return t.cacheKey?t.cacheKey(e):b.resolve?b.resolve(e):"static"}function _(e,r,o){var i=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!(0,c.isValidElementType)(i))throw Error("resolveComponent returned something that is not a React component!");return u()(o,i,{preload:!0}),i}var P=(m=function(e){function n(n){var r;return((r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:g(n)},function(e,t){if(!e){var n=Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}(!n.__chunkExtractor||b.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor)?(!1===t.ssr||(b.requireAsync(n).catch(function(){return null}),r.loadSync(),n.__chunkExtractor.addChunk(b.chunkName(n))),(0,a.Z)(r)):(!1!==t.ssr&&(b.isReady&&b.isReady(n)||b.chunkName&&p.initialChunks[b.chunkName(n)])&&r.loadSync(),r)}(0,l.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=g(e);return(0,i.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===h&&this.setCache(),this.state.loading&&this.loadAsync()},r.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},r.componentWillUnmount=function(){this.mounted=!1},r.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},r.getCacheKey=function(){return g(this.props)},r.getCache=function(){return v[this.getCacheKey()]},r.setCache=function(e){void 0===e&&(e=void 0),v[this.getCacheKey()]=e},r.triggerOnLoad=function(){var e=this;d&&setTimeout(function(){d(e.state.result,e.props)})},r.loadSync=function(){if(this.state.loading)try{var e=b.requireSync(this.props),t=_(e,this.props,x);this.state.result=t,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:b.resolve(this.props),chunkName:b.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},r.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then(function(t){var n=_(t,e.props,{Loadable:x});e.safeSetState({result:n,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){return e.safeSetState({error:t,loading:!1})}),t},r.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,(0,o.Z)(t,["__chunkExtractor","forwardedRef"])),r=this.getCache();return r||((r=b.requireAsync(n)).status=y,this.setCache(r),r.then(function(){r.status="RESOLVED"},function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:b.resolve(e.props),chunkName:b.chunkName(e.props),error:t?t.message:t}),r.status=h})),r},r.render=function(){var e=this.props,n=e.forwardedRef,r=e.fallback,a=(e.__chunkExtractor,(0,o.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),l=this.state,c=l.error,u=l.loading,d=l.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===y)throw this.loadAsync();if(c)throw c;var f=r||t.fallback||null;return u?f:s({fallback:f,result:d,options:t,props:(0,i.Z)({},a,{ref:n})})},n}(r.Component),function(e){return r.createElement(f.Consumer,null,function(t){return r.createElement(m,Object.assign({__chunkExtractor:t},e))})}),x=r.forwardRef(function(e,t){return r.createElement(P,Object.assign({forwardedRef:t},e))});return x.preload=function(e){b.requireAsync(e)},x.load=function(e){return b.requireAsync(e)},x}return{loadable:b,lazy:function(e,t){return b(e,(0,i.Z)({},t,{suspense:!0}))}}}var v=b({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return r.createElement(t,n)}}),g=v.loadable,_=v.lazy,P=b({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),x=P.loadable,S=P.lazy,j="undefined"!=typeof window;function w(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace;if(!j)return d("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var r=null;if(j){var o=""+(void 0===n?"":n)+"__LOADABLE_REQUIRED_CHUNKS__",i=document.getElementById(o);if(i){r=JSON.parse(i.textContent);var a=document.getElementById(o+"_ext");if(a)JSON.parse(a.textContent).namedChunks.forEach(function(e){p.initialChunks[e]=!0});else throw Error("loadable-component: @loadable/server does not match @loadable/component")}}if(!r)return d("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise(function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function o(){r.every(function(e){return t.some(function(t){return t[0].indexOf(e)>-1})})&&!l&&(l=!0,e())}t.push=function(){n.apply(void 0,arguments),o()},o()}).then(e)}g.lib=x,_.lib=S,t.ZP=g},894288:function(e,t,n){"use strict";var r=n(460695),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return r.isMemo(e)?a:l[e.$$typeof]||o}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=a;var s=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,y=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(y){var o=p(n);o&&o!==y&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var l=c(t),h=c(n),m=0;m<a.length;++m){var b=a[m];if(!i[b]&&!(r&&r[b])&&!(h&&h[b])&&!(l&&l[b])){var v=f(n,b);try{s(t,b,v)}catch(e){}}}}return t}},381932:function(e,t){"use strict";/** @license React v16.8.4
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,y=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function b(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case c:case l:case y:return e;default:switch(e=e&&e.$$typeof){case u:case p:case s:return e;default:return t}}case m:case h:case i:return t}}}function v(e){return b(e)===f}t.typeOf=b,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=s,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=m,t.Memo=h,t.Portal=i,t.Profiler=c,t.StrictMode=l,t.Suspense=y,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===c||e===l||e===y||"object"===n(e)&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return v(e)||b(e)===d},t.isConcurrentMode=v,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===h},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===c},t.isStrictMode=function(e){return b(e)===l},t.isSuspense=function(e){return b(e)===y}},460695:function(e,t,n){"use strict";e.exports=n(381932)},856608:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,y=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,P=r?Symbol.for("react.scope"):60119;function x(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case c:case l:case y:return e;default:switch(e=e&&e.$$typeof){case u:case p:case b:case m:case s:return e;default:return t}}case i:return t}}}function S(e){return x(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=s,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=b,t.Memo=m,t.Portal=i,t.Profiler=c,t.StrictMode=l,t.Suspense=y,t.isAsyncMode=function(e){return S(e)||x(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===s},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===b},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===c},t.isStrictMode=function(e){return x(e)===l},t.isSuspense=function(e){return x(e)===y},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===c||e===l||e===y||e===h||"object"===n(e)&&null!==e&&(e.$$typeof===b||e.$$typeof===m||e.$$typeof===s||e.$$typeof===u||e.$$typeof===p||e.$$typeof===g||e.$$typeof===_||e.$$typeof===P||e.$$typeof===v)},t.typeOf=x},89165:function(e,t,n){"use strict";e.exports=n(856608)},946330:function(e,t,n){"use strict";function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},215842:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return r}})},741747:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(47427);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},58348:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}n.d(t,{Z:function(){return r}})},47427:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[97270,84404,28038,24797,55169,64283,56418,2909,27672,7012,64212,86942,15927,40370,18133,23813,60430,99874,47128,90280,90959,84854,90523],function(){return e(e.s=916737)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/repin/x-9abfa9577d06a5cd.js.map
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[25874],{553530:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/business/signup"]=function(){return r(756355).Z}},879945:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/business/signup/step[step]"]=function(){return r(206290).Z}},14638:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/linked/signup/step[step]"]=function(){return r(228027).Z}},767845:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/signup"]=function(){return r(43026).Z}},262967:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/signup/step[step]"]=function(){return r(953844).Z}},114267:function(e,t){"use strict";t.Z={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},137831:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}var i=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"reportGoogleConversion",value:function(e,r,n,o){if(!o){if(void 0===window.gtag_report_conversion){t.queuedGoogleConversions.push({id:e,label:r,url:n});return}window.gtag_report_conversion(e,r,n)}}},{key:"reportFacebookConversion",value:function(e,r,n){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,event:r,data:n});return}n?window.fbq("track",r,n):window.fbq("track",r)}},{key:"reportCustomFacebookConversion",value:function(e,r,n){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:r,data:n});return}n?window.fbq("trackCustom",r,n):window.fbq("trackCustom",r)}},{key:"reportPinterestConversion",value:function(e,r,n){if(void 0===window.pintrk){t.queuedPinterestConversions.push({id:e,event:r,data:n});return}n?window.pintrk("track",r,n):window.pintrk("track",r)}},{key:"reportTheTradeDeskConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("height","1"),r.setAttribute("width","1"),r.setAttribute("role","presentation"),r.style.borderStyle="none",r.style.position="absolute",r.setAttribute("src","//insight.adsrvr.org/track/conv/?adv=".concat(e,"&ct=0:").concat(t,"&fmt=3")),document.body.insertBefore(r,document.body.lastChild)}},{key:"reportLinkedInConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("role","presentation"),r.setAttribute("src","https://dc.ads.linkedin.com/collect/?pid=".concat(e)+"&conversionId=".concat(t,"&fmt=gif")),r.style.display="none",document.body.insertBefore(r,document.body.lastChild)}},{key:"reportDoubleClickConversion",value:function(e,t,r){var n=document.createElement("iframe");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("frameborder","0"),n.setAttribute("src","https://".concat(e,".fls.doubleclick.net/activityi;src=").concat(e,";\n    type=").concat(t,";cat=").concat(r,";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=").concat(1e13*Math.random(),"?")),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}},{key:"insertGoogleAdWordsTag",value:function(e,r){var n=document.createElement("script");r||(n.setAttribute("async",""),n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=AW-".concat(e)),n.onload=function(){window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,r){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,r){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==r&&window.location.assign(r)}}),!1};for(var n=t.queuedGoogleConversions,o=0;o<n.length;o+=1){var i=n[o];i.id===e&&t.reportGoogleConversion(i.id,i.label,i.url,r)}}),document.body.insertBefore(n,document.body.firstChild)}},{key:"insertFacebookPixelTag",value:function(e){var r,n,o,i,a,s;r=window,n=document,o="script",r.fbq||(i=r.fbq=function(){"function"==typeof i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},r._fbq||(r._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(a=n.createElement(o)).async=!0,a.src="//connect.facebook.net/en_US/fbevents.js",(s=n.getElementsByTagName(o)[0]).parentNode.insertBefore(a,s)),window.fbq("init",e),window.fbq("track","PageView");for(var u=t.queuedFacebookConversions,l=0;l<u.length;l+=1){var c=u[l];c.id===e&&(c.isCustomEvent?t.reportCustomFacebookConversion(e,c.event,c.data):t.reportFacebookConversion(e,c.event,c.data))}}},{key:"insertPinterestTag",value:function(e){(function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var t=window.pintrk;t.queue=[],t.version="3.0";var r=document.createElement("script");r.async=!0,r.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)}})("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");for(var r=t.queuedPinterestConversions,n=0;n<r.length;n+=1){var o=r[n];o.id===e&&t.reportPinterestConversion(e,o.event,o.data)}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();n(i,"queuedGoogleConversions",[]),n(i,"queuedFacebookConversions",[]),n(i,"queuedPinterestConversions",[]),t.Z=i},911037:function(e,t,r){"use strict";r.d(t,{Z:function(){return o},z:function(){return i}});var n=r(663915);function o(e){var t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){var r=t[1],o=r&&-1!==r.indexOf(".")?r.split("."):[];if(o.length>=2&&"gmail"===o[0]&&"com"!==o.slice(1).join("."))return!0;var i=(0,n.Z)(r,"gmail.com");if("g"===r.charAt(0)&&(1===i||2===i))return!0}return!1}function i(e,t){var r=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==r.length)return!1;var o=r[1],i=o&&-1!==o.indexOf(".")?o.split("."):[],a=i[0];if(a===t&&i.length>3)return!0;if(i.length>=2){var s=(0,n.Z)(a,t);return a.charAt(0)===t.charAt(0)&&(1===s||2===s)}return(2!==i.length||a!==t||2!==i[1].length&&"com"!==i[1])&&(i.length,!1)}},80749:function(e,t,r){"use strict";function n(e,t){var r=e.split("@")[0],n="";return(n=(n=r.includes(".")?r.replace("."," "):r.includes("_")?r.replace("_"," "):r).replace(/[0-9]/g,""),"GB"===t)?"User_"+n.split("").sort(function(){return .5-Math.random()}).join(""):n.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}r.d(t,{Z:function(){return n}})},663915:function(e,t,r){"use strict";function n(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var r,n,o=[];for(r=0;r<=t.length;r+=1)o[r]=[r];for(n=0;n<=e.length;n+=1)o[0][n]=n;for(r=1;r<=t.length;r+=1)for(n=1;n<=e.length;n+=1)t.charAt(r-1)===e.charAt(n-1)?o[r][n]=o[r-1][n-1]:o[r][n]=Math.min(o[r-1][n-1]+1,Math.min(o[r][n-1]+1,o[r-1][n]+1));return o[t.length][e.length]}r.d(t,{Z:function(){return n}})},391884:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){var o;return(o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(o)?o:String(o))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=e.embedSrc,r=e.embedType,n=e.imagesUrls,o=e.preferredResolution,s=e.excludeOriginals;if(!t&&!r&&!n)return"";if("gif"===r)return t||"";if(!n)return"";if(o){var u="474x"===o&&n["474x"]||"236x"===o&&n["236x"]||n["736x"];if(u)return u}var l=Object.keys(n).reduce(function(e,t){try{var r=t.split("x")[0];if(Number.isNaN(Number(r)))return i(i({},e),{},a({},t,n[t]));return i(i({},e),{},a({},r,n[t]))}catch(t){return e}},{}),c=Object.keys(l);return s&&"orig"===c[c.length-1]&&c.pop(),l[c.pop()]||""}r.d(t,{Z:function(){return s}})},833106:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(328038),o=r(684404),i=r(140017),a=r(554786),s=r(125768),u=r(819267);function l(e){var t=e.onContinueClick,r=e.onBackClick,l=(0,n.k6)(),c=(0,i.ZP)(),d=(0,a.HG)();return(0,u.jsxs)(o.xu,{marginEnd:d?0:2,marginStart:d?0:2,children:[d?null:(0,u.jsx)(o.xu,{alignItems:"center","data-test-id":"nux-toc-container",display:"flex",height:36,width:"100%",children:(0,u.jsx)(o.xu,{children:(0,u.jsx)(s.Z,{icon:"arrow-back"})})}),(0,u.jsxs)(o.xu,{marginTop:d?4:6,maxWidth:"366px",children:[(0,u.jsx)(o.xu,{marginBottom:4,maxWidth:"90%",children:(0,u.jsx)(o.X6,{accessibilityLevel:1,size:d?"600":"400",children:c._('Create a business account', 'ssoCreateBusinessAccount.title', 'Title for the SSO create business account page')})}),(0,u.jsx)(o.xu,{marginBottom:3,children:(0,u.jsx)(o.xv,{size:"200",children:c._('When you use your business email address, you create a Pinterest business account. This type of account gives you access to business tools like ads and analytics.', 'ssoCreateBusinessAccount.description', 'Description for the SSO create business account page')})}),(0,u.jsx)(o.xu,{marginBottom:3,children:(0,u.jsx)(o.xv,{size:"200",children:c._('To create a non-business account, use your personal email address.', 'ssoCreateBusinessAccount.description2', 'Description for the SSO create business account page')})}),(0,u.jsx)(o.xv,{size:"200",children:c._('With your business account, you\'ll use single sign-on (SSO) for authentication.', 'ssoCreateBusinessAccount.description3', 'Description for the SSO create business account page')})]}),(0,u.jsx)(o.xu,{marginTop:12,children:(0,u.jsxs)(o.kC,{justifyContent:"end",children:[d?(0,u.jsx)(o.xu,{marginEnd:2,children:(0,u.jsx)(o.zx,{fullWidth:!0,onClick:function(){r&&r(),l.goBack()},text:c._('Back', 'ssoCreateBusinessAccount.button.done', 'Back button to go back to the previous page')})}):null,(0,u.jsx)(o.xu,{width:d?"auto":"100%",children:(0,u.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:t,size:d?"md":"lg",text:c._('Continue with SSO', 'ssoCreateBusinessAccount.button.done', 'Continue with SSO button to go to the SSO page')})})]})})]})}},345276:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(107366),o=r(217058),i=r(624797);function a(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,u,"next",e)}function u(e){a(i,n,o,s,u,"throw",e)}s(void 0)})}}var u=function(e){var t=(0,i.Qc)(e).hostname;return t&&(t.startsWith("www.pinterest")||t.endsWith(".pinterest.com")||t.endsWith(".pinterdev.com"))},l=function(e){var t=e.origin,r=e.data;return u(t)?String(r):null};function c(){var e,t="undefined"!=typeof window;return{verifySsoUser:(e=s(regeneratorRuntime.mark(function e(t){var r,i,a,s,u,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.Z)({url:"/v3/sso/info/",method:"POST",data:{email:t}});case 3:return i=(r=e.sent.resource_response.data).authorization_uri,a=r.existing_user,s=r.existing_user_is_sso,u=r.is_sso,l=r.redirect_uri,c=r.exchange_code_to_token_info_url,e.abrupt("return",{authorizationUri:i,exchangeCodeToTokenUrl:c,existingUser:a,existingUserIsSso:s,isSso:u,redirectUri:l});case 8:return e.prev=8,e.t0=e.catch(0),(0,o.My)("coreSso.verifyUser.error",{code:e.t0.api_error_code,message:e.t0.message,http_status:e.t0.http_status}),e.abrupt("return",{authorizationUri:null,exchangeCodeToTokenUrl:null,existingUser:null,existingUserIsSso:null,isSso:!1,redirectUri:null});case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(t){return e.apply(this,arguments)}),authenticateWithSso:function(e){var r,o,a,u=e.callbacks,c=e.exchangeCodeToTokenUrl,d=e.isLogin,p=e.modalUrl;if(!t){null===(o=u.error)||void 0===o||o.call(u,{api_error_code:0,message:"Window is undefined"});return}var f=(r=s(regeneratorRuntime.mark(function e(t){var r,o,s,p,_,h,m,g,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isTrusted){e.next=2;break}return e.abrupt("return");case 2:if(r=l(t),!(o=(0,i.mB)(r)).code){e.next=23;break}if(!d){e.next=8;break}return u.success({authCode:o.code}),e.abrupt("return");case 8:return e.prev=8,e.next=11,(0,n.Z)({url:c,method:"POST",data:{code:o.code,state:o.state}});case 11:p=(s=e.sent.resource_response.data).sso_id,_=s.sso_id_token,h=s.sso_email,m=s.sso_user_name,p&&_&&h&&m?u.success({ssoId:p,ssoIdToken:_,ssoEmail:h,ssoUserName:m}):null===(g=u.error)||void 0===g||g.call(u,{api_error_code:0,message:"No tokens returned"}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),null===(b=u.error)||void 0===b||b.call(u,e.t0);case 19:return e.prev=19,a&&!a.closed&&a.close(),window.removeEventListener("message",f),e.finish(19);case 23:case"end":return e.stop()}},e,null,[[8,16,19,23]])})),function(e){return r.apply(this,arguments)});window.addEventListener("message",f),a=window.open(p,"_blank","width=600,height=600")}}}},657376:function(e,t,r){"use strict";r.d(t,{OA:function(){return c},f$:function(){return h},oH:function(){return d},rY:function(){return u},sk:function(){return m},wQ:function(){return p},xW:function(){return f},yc:function(){return l},ys:function(){return _}});var n=r(953565),o="onloadRecaptchaJsCallback",i="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",a="recaptcha-enterprise-src",s=function(e,t,r){(0,n.nP)("recaptcha_v3.request_token.attempt",{sampleRate:.1,tags:{action:r}}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(t(Error("Error loading reCAPTCHA Enterprise")),(0,n.nP)("recaptcha_v3.request_token.js_loading_error",{sampleRate:.1,tags:{action:r}})):window.grecaptcha.enterprise.ready(function(){try{window.grecaptcha.enterprise.execute(i,{action:r}).then(e).catch(t)}catch(e){(0,n.nP)("recaptcha_v3.request_token.exec_error",{sampleRate:.1,tags:{action:r}}),t(e)}})},u=function(e,t,r){if(window[o]=function(){return s(e,t,r)},null!==document.getElementById(a))s(e,t,r);else{var n=document.createElement("script");n.id=a,n.src="".concat("https://www.recaptcha.net/recaptcha/enterprise.js","?onload=").concat(o,"&render=").concat(i);var u=document.getElementsByTagName("script")[0];u.parentNode&&u.parentNode.insertBefore(n,u)}},l=105e3,c=8e3,d=3e4,p="mweb_auth",f="mweb_login",_="mweb_signup",h="web_auth",m="web_unauth"},194602:function(e,t,r){"use strict";var n=r(672652),o=function(){return function(){}},i=function(){return!1},a=function(){return!0};t.Z=function(){return(0,n.useSyncExternalStore)(o,i,a)}},19447:function(e,t,r){"use strict";r.d(t,{AF:function(){return u},H0:function(){return l},S6:function(){return c},_S:function(){return d}});var n=r(780277),o=r(342513),i=r(819267),a=(0,o.Z)("Pins"),s=a.Provider,u=a.useHook,l=a.useMaybeHook;function c(){var e=u();return function(t){return e[t]}}function d(e){var t=e.children,r=(0,n.useSelector)(function(e){return e.pins},n.shallowEqual);return(0,i.jsx)(s,{value:r,children:t})}},288653:function(e,t,r){"use strict";r.d(t,{X:function(){return c},m:function(){return l}});var n=r(672652),o=r(342513),i=r(819267);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=(0,o.Z)("Session"),u=s.Provider,l=s.useHook;function c(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(void 0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=o[0],l=o[1],c=(0,n.useMemo)(function(){return{unauthBoardInvite:s,setUnauthBoardInvite:l}},[s]);return(0,i.jsx)(u,{value:c,children:r})}},874143:function(e,t,r){"use strict";r.d(t,{J5:function(){return p},Zd:function(){return d},dD:function(){return f}});var n=r(573810),o=r(624797),i=r(953565);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n.key),n)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var c="adcredits",d=function(){if(!window)return!1;var e=(0,o.mB)(window.location.search).utm_medium;return!!e&&e===c},p=function(){function e(){s(this,e),this.key="paid.campaign.".concat(c)}return l(e,[{key:"markEligible",value:function(){(0,n.Nh)(this.key,"true"),(0,i.nP)("partner.paid.ad_credits.seen",{sampleRate:1,tags:{platform:"mobile"}})}},{key:"isEligible",value:function(){return"true"===(0,n.qn)(this.key)}},{key:"claim",value:function(){(0,n.Nh)(this.key,"false"),(0,i.nP)("partner.paid.ad_credits.claimed",{sampleRate:1,tags:{platform:"mobile"}})}}]),e}(),f=function(){function e(){s(this,e),this.key="paid.marketingoffer"}return l(e,[{key:"markEligible",value:function(e){(0,n.Nh)(this.key,e),(0,i.nP)("partner.paid.marketingoffer.".concat(e,".seen"),{sampleRate:1,tags:{platform:"mobile"}})}},{key:"isEligible",value:function(){return null!=(0,n.qn)(this.key)}},{key:"getOfferId",value:function(){return(0,n.qn)(this.key)}},{key:"claim",value:function(){if(this.isEligible()){var e=(0,n.qn)(this.key);(0,n.Nh)(this.key,null),(0,i.nP)("partner.paid.marketingoffer.".concat(e,".claimed"),{sampleRate:1,tags:{platform:"mobile"}})}}}]),e}()},432242:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{B:function(){return c},Z:function(){return l}});var o="gmail.com",i="yahoo.com",a="hotmail.com",s="icloud.com",u={AR:[o,a,"yahoo.com.ar"],AU:[o,a,"bigpond.com"],BR:[o,a,"yahoo.com.br"],CA:[o,a,i],DE:[o,"web.de","gmx.de"],ES:[o,a,"hotmail.es"],FR:[o,"hotmail.fr","orange.fr"],GB:[o,"hotmail.co.uk","hotmail.com"],IN:[o,i,"rediffmail.com"],IT:[o,"libero.it","hotmail.it"],JP:[o,"yahoo.co.jp","ezweb.ne.jp"],MX:[o,a,"outlook.com"],US:[o,a,i],KR:[o,"naver.com","hanmail.net","nate.com","daum.net"],ID:[o,i,"yahoo.co.id","ymail.com","rocketmail.com"],PH:[o,i,"yahoo.com.ph",s,"ymail.com"],TH:[o,a,"hotmail.co.th",i,s],VN:[o,i,"yahoo.com.vn",s,a],DEFAULT:[o,a,i]};function l(e){return e&&e.toUpperCase() in u?u[e.toUpperCase()]:u.DEFAULT}function c(e){var t,r=function(e){if(Array.isArray(e))return e}(t=e.split("@"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1],a="",s=o.length;return a=s>3?o.substring(0,3)+o.substring(3,s).replace(/\w/g,"*"):o.replace(/\w/g,"*"),"".concat(a,"@").concat(i)}},744284:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(684404),o=r(5859),i=r(194602),a=r(490166),s=r(432242),u=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p={emailSuggestionDropdown:{border:"1px solid rgb(181, 181, 181)",zIndex:1}};function f(e){var t=e.email,r=e.emailFieldElement,l=e.handleEmailSuggestionClick,c=e.showUsername,f=(0,o.B)().country,_=(0,s.Z)(f),h=function(e){if((0,i.Z)())return{width:void 0,top:void 0};if(!e)return{width:window.innerWidth-32,top:void 0};var t=e.getBoundingClientRect();return{width:t.width,top:t.y+t.height}}(r),m=h.width,g=h.top;return(0,u.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:d(d({},p.emailSuggestionDropdown),{},{top:g})},direction:"column",display:"flex",position:"absolute",width:m,children:_.map(function(e){var r=c?t.concat(e):e;return(0,u.jsx)(n.xu,{children:(0,u.jsx)("div",{onMouseDown:function(){l(t.concat(e))},role:"button",tabIndex:0,children:(0,u.jsx)(a.Z,{pressState:"none",children:(0,u.jsx)(n.xu,{paddingX:3,paddingY:2,children:(0,u.jsx)(n.xv,{children:r})})})})},r)})})}},335475:function(e,t,r){"use strict";r.d(t,{Z:function(){return tf}});var n=r(672652),o=r(780277),i=r(328038),a=r(684404),s=r(216167),u=r(29156),l=r(807657),c=r(197059),d=r(899378),p=r(137831),f=r(114267),_=r(587703),h=r(658583),m=r(622541),g=r(11109),b=r(107366),v=r(892731),y=r(930837),S=r(454514),w=r(140017),E=r(80749),P=r(179425),T=r(96452),A=r(602377),O=r(516256),x=r(833106),j=r(345276),I=r(340523),R=r(657376),C=r(5859),k=r(975048),D=r(217058),L=r(13848),N=r(624797),B=r(554786),U=r(472980),z=r(149722),Z=r(325778),F=r(747602),M=r(288653),W=r(874143),V=r(407996),H=r(546689),G=r(942397),q=r(92056),Y=r(310822),K=r(27460),Q=r(615208),X=r(170568),J=r(623281),$=r(386129),ee=r(549629),et=r(274696),er=r(819267);function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eo(e){var t,r=e.disabled,o=e.getFocusFieldRef,i=e.handleChangePassword,s=e.handlePasswordReset,u=e.isReducedHeader,l=e.password,c=e.setValidState,d=e.error,p=void 0===d?"":d,f=e.showPLPBanner,_=e.viewType,h=(0,w.ZP)(),m=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(p))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return en(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=m[0],b=m[1];(0,ee.Q)({view_type:_,view_parameter:3207}),(0,n.useEffect)(function(){return b(p)},[p]),(0,n.useEffect)(function(){l?c(""):c("Missing password")},[l]);var v=h._('Looks like you\'re already on Pinterest', 'Heading indicating that the user is already registered on Pinterest', 'Heading indicating that the user is already registered on Pinterest');return(0,er.jsxs)(a.xu,{marginTop:3,children:[(0,er.jsx)(a.xu,{marginBottom:2,children:(0,er.jsx)(et.Z,{minHeight:60,children:(0,er.jsx)(a.X6,{overflow:"normal",size:u||void 0!==f&&f?"500":"600",children:v})})}),(0,er.jsx)(a.xu,{alignItems:"center",display:"flex",marginTop:2,children:(0,er.jsx)(a.xu,{flex:"grow",children:(0,er.jsx)(a.nv,{ref:o,disabled:r,errorMessage:g,id:"password",onChange:function(e){i(e.value).then(function(){g&&b("")})},placeholder:h._('Enter your password', 'Enter password field label', 'Enter password field label'),size:"lg",type:"password",value:l})})}),(0,er.jsx)(a.xu,{"data-test-id":"reset-password",marginTop:1,children:(0,er.jsx)(a.xv,{inline:!0,size:"100",weight:"bold",children:(0,er.jsx)(a.rU,{display:"inlineBlock",href:"/password/reset",onClick:s,underline:"hover",children:h._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')})})})]})}var ei=r(790246),ea=r(237704),es=r(911037),eu=r(339001),el=r(744284);function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(r),!0).forEach(function(t){eb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ed(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ev(n.key),n)}}function eh(e,t){return(eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function em(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eg(e){return(eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eb(e,t,r){return(t=ev(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ev(e){var t=function(e,t){if("object"!==ec(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ec(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ec(t)?t:String(t)}var ey=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eh(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eg(i);if(t){var n=eg(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ec(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return em(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eb(em(e=o.call.apply(o,[this].concat(r))),"state",{email:e.props.email,emailFieldElement:null,error:"",shouldShowEmailSuggestions:!1}),eb(em(e),"onBlur",function(t){var r=t.value;e.props.emailError||e.validate(r,!e.props.checkExperiment("pcons_double_login_on_signup_page").anyEnabled)}),eb(em(e),"onChange",function(t){var r=t.value;if(e.props.setEmailError(null),e.props.handleChangeEmail(r).then(e.validate(r,!1)),e.state.shouldShowEmailSuggestions)e.setState({shouldShowEmailSuggestions:!1});else if(r.endsWith("@")){var n=e.emailTextFieldInput;e.setState({shouldShowEmailSuggestions:!0,emailFieldElement:n})}e.setState({email:r})}),eb(em(e),"showEmailDomainTypoError",function(t,r){var n,o=e.state.email,i=(function(e){if(Array.isArray(e))return e}(n=(o||"").includes("@")?o.split("@"):[])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(n,2)||function(e,t){if(e){if("string"==typeof e)return ef(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ef(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];("gmail"===r?"gmail.com"===i:(i||"").startsWith("".concat(r,".")))||(e.setState({error:""}),e.props.setEmailError({type:"domainTypo",fixedEmail:"".concat(t,"@").concat(r,".com")}),e.props.setValidState("".concat(r," error")),(0,D.My)("unauth_mweb.signup.".concat(r,"_suggestion.shown")))}),eb(em(e),"validate",function(t,r){var n=e.props,o=n.setValidState,i=n.validateEmailExists,a=(t||"").includes("@")?t.split("@"):[];if((0,es.Z)(t)){var s=a[0];i(t).then(function(t){t.resource_response.data?(e.setState({error:""}),e.props.setEmailError(null),o()):e.showEmailDomainTypoError(s,"gmail")}).catch(function(t){T.Cx.includes(t.api_error_code)?e.setState({error:t.message}):e.showEmailDomainTypoError(s,"gmail")});return}var u=!1;["yahoo","hotmail"].forEach(function(r){if((0,es.z)(t,r)){u=!0;var n=a[0];i(t).then(function(t){t.resource_response.data?(e.setState({error:""}),e.props.setEmailError(null),o()):e.props.checkExperiment("mweb_yahoo_hotmail_autocorrection").anyEnabled&&e.showEmailDomainTypoError(n,r)}).catch(function(t){T.Cx.includes(t.api_error_code)?e.setState({error:t.message}):e.props.checkExperiment("mweb_yahoo_hotmail_autocorrection").anyEnabled&&e.showEmailDomainTypoError(n,r)})}}),u||e.props.setEmailError(null);var l=(0,F.a3)(t,[(0,F.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'Email validation error', 'Email validation error')}),(0,F.GT)({message:e.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]);l&&r&&(0,F.a3)(t,[(0,F.oR)({message:"Contains non-ASCII characters"})])&&(0,D.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciiemail"),e.setState({error:r?l:""}),o(l)}),eb(em(e),"handleEmailSuggestionClick",function(t){(0,D.My)("mweb_unauth_email_suggestions.signup_page.tap"),e.onChange({value:t})}),eb(em(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,o=t.showPLPBanner;return r?"400":n||o?"500":"600"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.email,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.i18n,n=t.disabled,o=t.getFocusFieldRef,i=t.hideLabel,s=t.showModernizedNuxUI,u=t.showPLPBanner,l=t.emailError,c=this.state,d=c.error,p=c.email;return(0,er.jsxs)(a.xu,{marginTop:3,children:[!i&&(0,er.jsx)(a.__,{htmlFor:"email",children:(0,er.jsx)(a.xu,{"data-test-id":"email-address-heading",marginBottom:u?3:10,children:(0,er.jsx)(et.Z,{center:s,minHeight:60,children:(0,er.jsx)(a.X6,{accessibilityLevel:1,overflow:"normal",size:this.getHeadingSize(),children:r._('What\'s your email?', 'Sign up page field label', 'Sign up page field label')})})})}),(0,er.jsxs)(a.xu,{marginTop:2,children:[(0,er.jsx)(a.nv,{ref:function(t){e.emailTextFieldInput=t,o(t)},autoComplete:this.state.shouldShowEmailSuggestions?"off":"on",disabled:n,errorMessage:this.state.shouldShowEmailSuggestions?"":d,id:"email",onBlur:this.onBlur,onChange:this.onChange,placeholder:s?r._('Enter your email address', 'signup.email_step.email_input.placeholder', 'placeholder for email input'):r._('Email address', 'Field label', 'Field label'),size:"lg",type:"email",value:p}),!!l&&(0,er.jsx)(a.xu,{"data-test-id":"invalid-email-container",marginTop:1,children:"domainTypo"===l.type?(0,er.jsx)(a.iP,{onTap:function(){e.onChange({value:l.fixedEmail}),e.props.setEmailError(null),e.props.setValidState(),(0,D.My)("unauth_mweb.signup.gmail_suggestion.click")},children:(0,er.jsx)(a.xv,{color:"error",children:(0,eu.nk)(r._('Did you mean {{ emailElement }}?', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)'),{emailElement:(0,er.jsx)(a.xv,{color:"error",inline:!0,weight:"bold",children:l.fixedEmail})})})}):(0,er.jsx)(a.xv,{color:"error",children:r._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation')})}),this.state.shouldShowEmailSuggestions?(0,er.jsx)(el.Z,{email:this.state.email,emailFieldElement:this.state.emailFieldElement,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null]})]})}}],e_(i.prototype,r),n&&e_(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);function eS(e){var t=(0,w.ZP)(),r=(0,o.useDispatch)(),n=(0,I.F)().checkExperiment;(0,ee.Q)({view_type:e.viewType,view_parameter:3146});var i=e.showModernizedNuxUI;return(0,er.jsx)(ey,ep(ep({validateEmailExists:function(e){return r((0,$.OF)(e))}},e),{},{checkExperiment:n,i18n:t,showModernizedNuxUI:i}))}var ew=r(105604),eE=r(589603);function eP(e){return(eP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(t){eR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eC(n.key),n)}}function ex(e,t){return(ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ej(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eI(e){return(eI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eR(e,t,r){return(t=eC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eC(e){var t=function(e,t){if("object"!==eP(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eP(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eP(t)?t:String(t)}var ek=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ex(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eI(i);if(t){var n=eI(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eP(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ej(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eR(ej(e=o.call.apply(o,[this].concat(r))),"state",{error:""}),eR(ej(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),eR(ej(e),"onChange",function(t){var r=t.value;e.props.handleChangeName(r).then(e.validate(r,!1))}),eR(ej(e),"validate",function(t,r){var n=(0,F.a3)(t,[(0,F.aH)({message:e.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})]);e.setState({error:r?n:""}),e.props.setValidState(n)}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.name,!1)}},{key:"render",value:function(){var e=this.props,t=e.isBusiness,r=e.disabled,n=e.getFocusFieldRef,o=e.name,i=this.state.error;return(0,er.jsxs)(a.xu,{"data-test-id":"business-name-heading",marginTop:3,children:[(0,er.jsx)(a.__,{htmlFor:"name",children:(0,er.jsx)(a.X6,{accessibilityLevel:1,overflow:"normal",size:"500",children:t?this.props.i18n._('What\'s your business name?', 'Sign up page field label', 'Sign up page field label'):this.props.i18n._('What\'s your name?', 'Sign up page field label', 'Sign up page field label')})}),(0,er.jsx)(a.xu,{"data-test-id":"name-field",marginTop:2,children:(0,er.jsx)(a.nv,{ref:n,disabled:r,errorMessage:i,id:"name",onBlur:this.onBlur,onChange:this.onChange,placeholder:t?this.props.i18n._('Business name', 'Textfield placeholder', 'Textfield placeholder'):this.props.i18n._('Full name', 'Textfield placeholder', 'Textfield placeholder'),size:"lg",type:"text",value:o})})]})}}],eO(i.prototype,r),n&&eO(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);function eD(e){var t=(0,w.ZP)();return(0,ee.Q)({view_type:e.viewType,view_parameter:3148}),(0,er.jsx)(ek,eA(eA({},e),{},{i18n:t}))}function eL(e){return(eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(t){eM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eW(n.key),n)}}function ez(e,t){return(ez=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eZ(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eF(e){return(eF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eM(e,t,r){return(t=eW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eW(e){var t=function(e,t){if("object"!==eL(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eL(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eL(t)?t:String(t)}var eV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ez(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eF(i);if(t){var n=eF(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eL(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eZ(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eM(eZ(e=o.call.apply(o,[this].concat(r))),"state",{error:""}),eM(eZ(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),eM(eZ(e),"onChange",function(t){var r=t.value;e.props.handleChangePassword(r).then(e.validate(r,!0))}),eM(eZ(e),"validate",function(t,r){var n=(0,F.oR)({message:e.props.i18n._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'PasswordStep.password.onlyASCII', 'Only ASCII characters are allowed for password')}),o=(0,F.a3)(t,[(0,Z.NewPassword)({blackPassStr:e.props.i18n._('Please try using a stronger password', 'Blacklisted password validation error', 'Blacklisted password validation error'),samePasswordStr:e.props.i18n._('Password and username can\'t match', 'Matching password validation error', 'Matching password validation error'),shortPassStr:e.props.i18n._('Oops! Your password needs 6+ characters.', 'Too short password validation error', 'Too short password validation error')}),n]);e.setState({error:r?o:""}),e.props.setValidState(o),(0,F.a3)(t,[n])&&r&&(0,D.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciipwd")}),eM(eZ(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,o=t.showPLPBanner;return r?"400":n||o?"500":"600"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.password,!1)}},{key:"render",value:function(){var e=this.props,t=e.i18n,r=e.disabled,n=e.getFocusFieldRef,o=e.password,i=e.showModernizedNuxUI,s=e.showPLPBanner,u=this.state.error;return(0,er.jsxs)(a.xu,{marginTop:3,children:[(0,er.jsx)(a.__,{htmlFor:"password",children:(0,er.jsx)(a.xu,{"data-test-id":"create-password-heading",marginBottom:s?3:10,children:(0,er.jsx)(et.Z,{center:i,minHeight:60,children:(0,er.jsx)(a.X6,{accessibilityLevel:1,overflow:"normal",size:this.getHeadingSize(),children:t._('Create a password', 'Sign up page field label', 'Sign up page field label')})})})}),(0,er.jsx)(a.xu,{"data-test-id":"password-field",marginTop:2,position:"relative",children:(0,er.jsx)(a.nv,{ref:n,autoComplete:"new-password",disabled:r,errorMessage:u,helperText:t._('Password with 6 or more characters', 'Placeholder text on the password input field on the mobile Password step page', 'Placeholder text on the password input field on the mobile Password step page'),id:"password",onBlur:this.onBlur,onChange:this.onChange,placeholder:t._('Enter your password', 'signup.email_step.password_input.placeholder', 'placeholder for password input'),size:"lg",type:"password",value:o})})]})}}],eU(i.prototype,r),n&&eU(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);function eH(e){var t=(0,w.ZP)(),r=(0,_.Z)(),n=e.showModernizedNuxUI;return(0,ee.Q)({view_type:e.viewType,view_parameter:3147}),(0,er.jsx)(eV,eB(eB({},e),{},{i18n:t,logContextEvent:r,showModernizedNuxUI:n}))}var eG=r(555740),eq=r(18131),eY=r(800030),eK=r(874059),eQ=r(843739),eX=r(953565),eJ=["passwordValidationError"];function e$(e){return(e$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e0(e){return function(e){if(Array.isArray(e))return e3(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||e1(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e1(e,t){if(e){if("string"==typeof e)return e3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e3(e,t)}}function e3(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e2(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,o)}function e6(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){e2(i,n,o,a,s,"next",e)}function s(e){e2(i,n,o,a,s,"throw",e)}a(void 0)})}}function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e4(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(t){tt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tr(n.key),n)}}function e5(e,t){return(e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e9(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t,r){return(t=tr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tr(e){var t=function(e,t){if("object"!==e$(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e$(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e$(t)?t:String(t)}var tn={EMAIL_STEP:1,PASSWORD_STEP:2,NAME_STEP:3,BIRTHDAY_STEP:4,ALREADY_HAS_PASSWORD_STEP:5,WEBSITE_STEP:6,INTENT_STEP:7,SALES_CONTACT_STEP:8,BUSINESS_TYPE_STEP:9,SSO_STEP:10},to=[tn.EMAIL_STEP,tn.PASSWORD_STEP,tn.BIRTHDAY_STEP],ti=[tn.EMAIL_STEP,tn.PASSWORD_STEP,tn.BIRTHDAY_STEP],ta=[tn.EMAIL_STEP,tn.SSO_STEP,tn.BIRTHDAY_STEP],ts=[tn.EMAIL_STEP,tn.PASSWORD_STEP,tn.NAME_STEP,tn.BUSINESS_TYPE_STEP,tn.WEBSITE_STEP,tn.INTENT_STEP,tn.BIRTHDAY_STEP],tu=[tn.NAME_STEP,tn.BUSINESS_TYPE_STEP,tn.WEBSITE_STEP,tn.INTENT_STEP],tl=[tn.PASSWORD_STEP,tn.NAME_STEP,tn.BIRTHDAY_STEP],tc=new W.J5,td=new W.dD,tp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e5(e,t)}(c,e);var t,r,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=te(c);if(t){var n=te(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===e$(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e9(e)}(this,e)});function c(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c),tt(e9(r=i.call(this,e)),"handleBack",function(e){return r.setState({stepToRender:e})}),tt(e9(r),"getStepFromMatchParams",function(e){return parseInt(e.match.params.step||1,10)||0}),tt(e9(r),"getSteps",function(){var e=r.props,t=e.isBusiness,n=e.isGroupBoardSignup,o=e.isLBA;return n?to:o?tu:t?ts:ti}),tt(e9(r),"setIsExistingUser",function(e,t){e?r.setState({isExistingUser:e,steps:[tn.EMAIL_STEP,tn.ALREADY_HAS_PASSWORD_STEP]},t):r.setState({isExistingUser:e,steps:r.getSteps()},t)}),tt(e9(r),"setValidState",function(e){r.setState({isValid:!e})}),tt(e9(r),"getCurrentActionName",function(){switch(r.state.stepToRender){case tn.EMAIL_STEP:return"email";case tn.PASSWORD_STEP:case tn.ALREADY_HAS_PASSWORD_STEP:return"password";case tn.NAME_STEP:return"name";case tn.BIRTHDAY_STEP:return"birthday";case tn.WEBSITE_STEP:return"website";case tn.INTENT_STEP:return"intent";case tn.SALES_CONTACT_STEP:return"sales_contact";case tn.BUSINESS_TYPE_STEP:return"business_type_step";default:return"undefined"}}),tt(e9(r),"getNextButtonText",function(){var e=r.state,t=e.steps,n=e.stepToRender,o=r.props,i=o.isGroupBoardSignup,a=o.i18n,s=a._('Accept invite', 'Accept the invite and move through the signup/login process', 'Accept the invite and move through the signup/login process');return n===tn.ALREADY_HAS_PASSWORD_STEP?i?s:a._('Log in', 'Button to login for existing user', 'Button to login for existing user'):t[t.length-1]===n?i?s:a._('Done', 'Go to next step account signup', 'Go to next step account signup'):null}),tt(e9(r),"getViewParameterType",function(){switch(r.state.stepToRender){case tn.EMAIL_STEP:return 3146;case tn.PASSWORD_STEP:return 3147;case tn.NAME_STEP:return 3148;case tn.ALREADY_HAS_PASSWORD_STEP:return 3207;case tn.BIRTHDAY_STEP:return 3737;case tn.WEBSITE_STEP:return 3376;case tn.INTENT_STEP:return 3377;case tn.SALES_CONTACT_STEP:return 3378;case tn.BUSINESS_TYPE_STEP:return 3406;default:return}}),tt(e9(r),"getInferredUserInfo",function(){return{connected_to_facebook:!1,connected_to_google:!1,email:r.state.email,first_name:(0,E.Z)(r.state.email,r.props.country),has_password:!1,large_image_url:"",medium_image_url:"",small_image_url:"",xlarge_image_url:""}}),tt(e9(r),"navigateToStep",function(e){r.setState(function(t){return{stepToRender:t.steps[e-1],canEditCurrentTextField:!0}},function(){var t,n,o="/signup/step".concat(e,"/"),i=r.props,a=i.history,s=i.isBusiness,u=i.isLBA,l=i.location,c=i.isGroupBoardSignup,d=r.state,p=(d.passwordValidationError,function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(d,eJ)),f=null===(t=l.state)||void 0===t?void 0:t.attributionLabel,_=(0,N.mB)(l.search).next||(null===(n=l.state)||void 0===n?void 0:n.next);s?o="/business/signup/step".concat(e,"/"):u&&(o="/linked/signup/step".concat(e,"/")),a.push({pathname:o,state:c?e4(e4(e4({},l.state),p),{},{attributionLabel:f,next:_}):e4(e4(e4({},l.state),p),{},{attributionLabel:f})})})}),tt(e9(r),"shouldSkipIntentStep",function(e){var t=r.state,n=t.steps,o=t.businessType;return n.length>e+1&&n[e+1]===tn.INTENT_STEP&&"influencer_public_figure_or_celebrity"===o}),tt(e9(r),"handleSsoContinue",function(){var e=r.props,t=e.authenticateWithSso,n=e.country,o=e.logContextEvent,i=r.state,s=i.email,u=i.exchangeCodeToTokenUrl,l=i.ssoAuthorizationUri;o({view_parameter:4014,view_type:664,event_type:102,element:14367}),t({callbacks:{success:function(e){var t=(0,E.Z)(s||"",n),o=e.ssoEmail,i=e.ssoId,a=e.ssoIdToken;if(o&&i&&a){r.setState({ssoEmail:o,ssoId:i,ssoIdToken:a,ssoName:t,fullName:t});var u=r.getStepFromMatchParams(r.props);r.navigateToStep(u+1)}},error:function(){r.props.showToast(function(e){var t=e.hideToast;return(0,er.jsx)(a.xu,{"data-test-id":"error-sso-create-account-toast",children:(0,er.jsx)(S.ZP,{onHide:t,text:r.props.i18n._('Oops! Something went wrong\u2026 Tap Done to try again.', 'signup.sso.error', 'Error during sso signup'),type:"error"})})})}},exchangeCodeToTokenUrl:u,modalUrl:null!=l?l:""})}),tt(e9(r),"nextSignupStep",e6(regeneratorRuntime.mark(function e(){var t,n,o,i,a,s,u,l,c,d,p,f,_,g,v,y,w,P,A,O,x,j,I,R,C,k,D,L,N,B,U;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(n=r.props).history,i=n.isLimitedLoginUser,a=n.location,s=n.loggedOutUserInfo,u=n.showToast,l=n.validateEmailExists,c=n.isGroupBoardSignup,d=n.isLBA,p=n.isOnSsoExperiment,_=(f=r.state).email,g=f.intent,v=f.steps,y=f.stepToRender,w=r.getStepFromMatchParams(r.props),P=null===(t=a.state)||void 0===t?void 0:t.attributionLabel,"1"!==h.U2(m.It)){e.next=8;break}return r.setState({isLoading:!1}),u(function(e){var t=e.hideToast;return(0,er.jsx)(S.ZP,{duration:3e3,onHide:t,text:r.props.i18n._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'Signup.AgeStep.underageError', 'Underage error during signup'),type:"error"})}),e.abrupt("return");case 8:if(r.shouldSkipIntentStep(w)&&(A=[].concat(e0(v.slice(0,w+1)),e0(v.slice(w+2))),r.setState({steps:A})),y!==tn.EMAIL_STEP){e.next=29;break}if(!p){e.next=26;break}return O=r.props.verifySsoUser,e.next=14,O(_);case 14:if(j=(x=e.sent).isSso,I=x.existingUser,R=x.exchangeCodeToTokenUrl,C=x.authorizationUri,!(j&&!I)){e.next=25;break}return r.props.logContextEvent({element:14367,event_type:102,view_type:10,view_parameter:r.getViewParameterType()}),r.setState({exchangeCodeToTokenUrl:null!=R?R:"",ssoAuthorizationUri:null!=C?C:"",steps:ta,isSsoFlow:!0},function(){return r.navigateToStep(w+1)}),e.abrupt("return");case 25:r.state.isSsoFlow&&r.setState({steps:r.getSteps(),isSsoFlow:!1});case 26:return l(r.state.email).then(function(){var e=e6(regeneratorRuntime.mark(function e(t){var n,u,l,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.resource_response.data){e.next=8;break}if(r.setState({isLoading:!1}),!(!s&&!i&&!c)){e.next=6;break}return o.replace({pathname:a.pathname,state:e4(e4({},a.state),{},{email:_,attributionLabel:P})}),o.push({pathname:"/login",state:{switch_account:null===(n=a.state)||void 0===n?void 0:n.switch_account,secondary_account:null===(u=a.state)||void 0===u?void 0:u.secondary_account,next:null===(l=a.state)||void 0===l?void 0:l.next,userInfo:r.getInferredUserInfo(),attributionLabel:P}}),e.abrupt("return");case 6:return r.setIsExistingUser(!0,function(){return r.navigateToStep(w+1)}),e.abrupt("return");case 8:return e.next=10,(0,b.Z)({url:"/v3/email/validation/",data:{email:r.state.email}});case 10:p=(d=(e.sent.resource_response||{}).data)&&d.is_valid,r.setState({isLoading:!1}),p?(r.setState(function(e){var t=e.email;return{fullName:r.props.isBusiness?"":(0,E.Z)(t,r.props.country)}}),r.navigateToStep(w+1)):r.setState({canEditCurrentTextField:!0,isValid:!1,emailError:{type:"invalid"}});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){r.setState({isLoading:!1}),T.Cx.includes(e.api_error_code)&&null!=e&&e.message&&u(function(t){var r=t.hideToast;return(0,er.jsx)(S.ZP,{duration:3e3,onHide:r,text:e.message,type:"error"})})}),r.setState({isLoading:!0}),e.abrupt("return");case 29:if(y!==tn.ALREADY_HAS_PASSWORD_STEP){e.next=32;break}return r.loginUser(),e.abrupt("return");case 32:if(!(y===tn.INTENT_STEP&&r.isCountryUS())){e.next=60;break}if(k=(0,eE.x)(r.props.i18n),D=!1,e.t0=g===k.NOT_SURE.value,!e.t0){e.next=40;break}return e.next=39,r.isLeadScoringEligible("mweb_not_sure_intent");case 39:e.t0=e.sent;case 40:if(!e.t0){e.next=42;break}D=!0;case 42:if(e.t1=g===k.YES.value,!e.t1){e.next=47;break}return e.next=46,r.isLeadScoringEligible("mweb_yes_intent");case 46:e.t1=e.sent;case 47:if(L=e.t1,!(-1===v.indexOf(tn.SALES_CONTACT_STEP)&&(D||L))){e.next=55;break}return(N=ts).push(tn.SALES_CONTACT_STEP),r.setState({steps:N},function(){r.navigateToStep(w+1)}),e.abrupt("return");case 55:if(!(g!==k.YES.value&&-1!==v.indexOf(tn.SALES_CONTACT_STEP))){e.next=60;break}return(B=ts.slice()).pop(),r.setState({steps:B},function(){r.registerUser()}),e.abrupt("return");case 60:U=v[v.length-1],y===U?d?r.updateLBA():r.registerUser():r.navigateToStep(w+1);case 62:case"end":return e.stop()}},e)}))),tt(e9(r),"handleChangeEmail",function(e){return new Promise(function(t){return r.setState({email:e},t)})}),tt(e9(r),"handleChangePassword",function(e){return new Promise(function(t){return r.setState({password:e},t)})}),tt(e9(r),"handleChangeFullName",function(e){return new Promise(function(t){var n={fullName:e};r.state.isSsoFlow&&(n={fullName:e,ssoName:e}),r.setState(n,t)})}),tt(e9(r),"handleChangeWebsite",function(e){return new Promise(function(t){return r.setState({website:e},t)})}),tt(e9(r),"handleChangeIntent",function(e){return new Promise(function(t){return r.setState({intent:e},t)})}),tt(e9(r),"handleChangePhone",function(e){return new Promise(function(t){return r.setState({phone:e},t)})}),tt(e9(r),"handleChangeSalesName",function(e){return new Promise(function(t){return r.setState({salesName:e},t)})}),tt(e9(r),"handleChangeBusinessType",function(e){return new Promise(function(t){return r.setState({businessType:e},t)})}),tt(e9(r),"handleChangeBirthday",function(e){return new Promise(function(t){return r.setState({birthdayString:e},t)})}),tt(e9(r),"loginUser",function(){var e=r.props,t=e.history,n=e.isAuthenticated,o=e.isLimitedLoginUser,i=e.location,a=e.login,s=e.isGroupBoardSignup,u=r.state,l=u.email,c=u.password,d="";if(s){var p=i&&i.state&&i.state.next;d=p?"".concat(p,"&").concat((0,N.XP)({accept_invite:!0,seamless:!0})):""}a({username_or_email:l,password:c},t,i.state?d||i.state.next:"",void 0,{event_type:7534,view_type:10,view_parameter:3203,aux_data:e4(e4({},n?{login_state:o?A.Z.LIMITED:A.Z.DEFAULT}:{}),{},{signup_login_method:O.Z.EMAIL})}).catch(function(e){r.setState({isLoading:!1,passwordValidationError:e.message,canEditCurrentTextField:!0})}),r.setState({isLoading:!0,passwordValidationError:""})}),tt(e9(r),"registerUser",function(){var e,t,n,o,i=r.state,a=i.birthdayString,s=i.email,c=i.fullName,d=i.password,_=i.steps,b=i.gender,v=i.customGender,y=i.website,w=i.intent,E=i.phone,P=i.salesName,x=i.businessType,j=i.recaptchaV3Token,I=i.isSsoFlow,C=i.ssoEmail,k=i.ssoId,L=i.ssoIdToken,B=i.ssoName,U=r.props,z=U.i18n,Z=U.isAuthenticated,F=U.isLimitedLoginUser,M=U.isBusiness,W=U.register,V=U.showToast,H=U.setNumSignupSteps,G=U.location,q=U.isGroupBoardSignup,Y=U.navigateAfterLoginStatusChange,K=U.pixelBlocked,Q=U.thirdPartyMarketingTrackingEnabled,X=U.saveWebsite,J=U.saveBusinessType,$=U.saveIntent,ee=U.isRedirectToNextParamAfterSignup,et=U.isAppFactoryOAuth,en=U.isOnSsoExperiment,eo=U.userId,ei=a?(0,g.Z)(a):void 0;if(void 0===ei){r.setState({canEditCurrentTextField:!0}),V(function(e){var t=e.hideToast;return(0,er.jsx)(S.ZP,{duration:3e3,onHide:t,text:z._('We need to know your age to provide you this service.', 'userRegistration.missingAgeError', 'Error message shown when age is required and it is missing'),type:"error"})});return}if(M)n=c;else{var ea,es=function(e){if(Array.isArray(e))return e}(ea=c.trim().split(" "))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(ea,2)||e1(ea,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();e=es[0],t=es[1]}H(_.length+1);var eu="unspecified"===b?{custom_gender:v}:{},el=q?e4({gender:b},eu):{};r.setState({isLoading:!0}),(0,D.Rp)({event:"signup_api_call_start",provider:"email"});var ec=e4({type:"email",business_name:n,birthday:ei,email:s,first_name:e,last_name:t,password:d,has_ads_credits:tc.isEligible(),recaptchaV3Token:j},el);en&&I&&(o={type:"sso",first_name:B,business_name:B,sso_email:C,sso_id:k,sso_id_token:L,birthday:ei,email:s}),W(I&&o?o:ec,{signupAttemptContextEvent:{event_type:7537,view_type:10,view_parameter:3203,aux_data:e4(e4({},Z?{login_state:F?A.Z.LIMITED:A.Z.DEFAULT}:{}),{},{signup_login_method:O.Z.EMAIL})}}).then(function(){var e,t;if((0,D.NC)(en&&I?"signup_via_sso_signup_page":"signup_via_email_signup_page"),(0,D.Rp)({event:"signup_api_call_success",provider:en&&I?"sso":"email"}),M&&((0,eX.nP)("mweb_business_create_unauth_register_business",{sampleRate:1}),$(parseInt(w,10),function(){return(0,eX.nP)("mweb_business_create_unauth_save_intent_success",{sampleRate:1})},function(){return(0,eX.nP)("mweb_business_create_unauth_save_intent_fail",{sampleRate:1})},eo),X(y,function(){return(0,eX.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,eX.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},eo),J(x,function(){return(0,eX.nP)("mweb_business_create_unauth_save_business_type_success",{sampleRate:1})},function(){return(0,eX.nP)("mweb_business_create_unauth_save_business_type_fail",{sampleRate:1})},eo),P&&E&&(r.setState({isSubmitting:!0}),r.reportToPropel()),Q&&(p.Z.reportFacebookConversion(f.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/create"}),p.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),p.Z.reportGoogleConversion(f.Z.GOOGLE_ADWORDS_ID,f.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE,void 0,K),p.Z.reportLinkedInConversion(f.Z.LINKEDIN_PARTNER_ID,f.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT))),et&&null!==(e=G.state)&&void 0!==e&&e.next)(0,u.Z)(G.state.next);else if(td.isEligible()){var n=td.getOfferId();Y("/business/offer/".concat(n))}else if(r._shouldShowFirstAdUpsellPage())(0,l.Z)("/business/install_app");else if(q){var o={},i=G&&G.state&&G.state.next;o.pathname=i||"/",o.search=i?"?".concat(i[1],"&").concat((0,N.XP)({accept_invite:!0,seamless:!0})):"",r.props.setGenderStepComplete(),Y(o.pathname)}else ee&&null!==(t=G.state)&&void 0!==t&&t.next?Y((0,N.Jx)(G.state.next)):Y("/")}).catch(function(e){r.setState({isLoading:!1,canEditCurrentTextField:!0});var t=[T.tz,T.dj,T.tL,T.NF];if((0,D.Rp)({event:"signup_api_call_failure",provider:"email"}),t.includes(e.api_error_code)){if(e.api_error_code===T.tz){h.t8(m.It,"1",(0,h.kZ)(m.It)),(0,D.My)("email_register_step_show_underage_confirmation"),r.setState({isUnderageModalOpen:!0});return}if(e.api_error_code===T.dj){r.setState({birthdayErrorMessage:e.message});return}V(function(t){var r=t.hideToast;return(0,er.jsx)(S.ZP,{duration:3e3,onHide:r,text:e.message,type:"error"})})}else V(function(t){var n=t.hideToast;return(0,er.jsx)(S.ZP,{duration:3e3,onHide:n,text:e.api_error_code&&e.message?e.message:r.props.i18n._('Oops! Something went wrong\u2026 Tap Done to try again.', 'Error during signup', 'Error during signup'),type:"error"})});(0,R.rY)(function(e){return r.setState({recaptchaV3Token:e})},function(){},R.ys)})}),tt(e9(r),"reportToPropel",function(){var e=r.state,t=e.email,n=e.fullName,o=e.website,i=e.phone,a=e.salesName,u=e.intent,l=r.props.country,c=a.trim().split(" ").filter(function(e){return!!e}),d=c[0],p=c.length>1?c.slice(1).join(" "):"",f="self_serve_mweb_create";u===(0,eE.x)(r.props.i18n).NOT_SURE.value&&(f+="_not_sure");var _={lead_email:t,lead_first_name:d,lead_last_name:p,lead_website:o,lead_phone:i,country:l,lead_source_detail:f,lead_source_type:"business_create",lead_company:n};(0,eX.nP)("mweb_business_create_unauth_report_to_propel_request",{sampleRate:1}),s.Z.create("PropelFormResource",_).callCreate({showError:!1}).then(function(){return(0,eX.nP)("mweb_business_create_unauth_report_to_propel_success",{sampleRate:1})}).catch(function(){return(0,eX.nP)("mweb_business_create_unauth_report_to_propel_fail",{sampleRate:1})})}),tt(e9(r),"isLeadScoringEligible",(t=e6(regeneratorRuntime.mark(function e(t){var n,o,i,a,s,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(n=r.state).website,i=n.businessType,a=n.intent,s={key:t,email:n.email,business_name:n.fullName,is_create:!0,locale:r.props.locale,account_type:i,advertising_intent:parseInt(a,10),website:o},e.next=5,(0,b.Z)({url:"/v3/business/lead/score/above_threshold/",data:s});case 5:if("success"!==(u=e.sent).resource_response.status){e.next=11;break}return l=u.resource_response.data,e.abrupt("return",!0===l);case 11:return(0,eX.nP)("mweb_business_create_unauth_lead_score_fail",{sampleRate:1}),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),tt(e9(r),"handleSkipStep",function(){var e=r.state,t=e.isValid,n=e.stepToRender;(0,D.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".skip")),r.props.logContextEvent({element:1150,event_type:102,view_type:10,view_parameter:r.getViewParameterType()}),n!==tn.WEBSITE_STEP||t||r.setState({website:""}),r.nextSignupStep()}),tt(e9(r),"handlePasswordReset",function(){var e=r.props,t=e.history,n=e.logContextEvent,o=r.state.email;n({view_type:10,view_parameter:r.getViewParameterType(),element:10881,event_type:102}),n({event_type:51,view_type:10,view_parameter:r.getViewParameterType()}),(0,b.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:o}}).then(function(){t.replace({pathname:"/password/reset/sent/",state:{destinationEmail:o}}),r.setState({isLoading:!1})}),r.setState({isLoading:!0})}),tt(e9(r),"nextSignupStepWithValidation",function(e){e&&e.preventDefault(),r.setState({canEditCurrentTextField:!1},function(){if(r.validate()){var e;switch((0,D.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".completed")),r.getCurrentActionName()){case"email":e="submit_email";break;case"password":e="submit_password";break;case"birthday":e="submit_birthday"}e&&(0,D.Rp)({event:e,provider:"email"}),r.nextSignupStep()}else(0,D.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".error")),r.setState({canEditCurrentTextField:!0})})}),tt(e9(r),"trackStepViewed",function(){(0,D.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".viewed"))}),tt(e9(r),"validate",function(){var e=r.state,t=e.email,n=e.fullName,o=e.password,i=e.stepToRender,a=e.website,s=e.intent,u=e.phone,l=e.salesName,c=e.businessType;switch(i){case tn.EMAIL_STEP:return!(0,F.a3)(t,[r.requiredValidator(),(0,F.GT)({message:r.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]);case tn.PASSWORD_STEP:return!(0,F.a3)(o,[(0,Z.NewPassword)({blackPassStr:r.props.i18n._('Please try using a stronger password', 'Blacklisted password validation error', 'Blacklisted password validation error'),samePasswordStr:r.props.i18n._('Password and username can\'t match', 'Matching password validation error', 'Matching password validation error'),shortPassStr:r.props.i18n._('Oops! Your password needs 6+ characters.', 'Too short password validation error', 'Too short password validation error')})]);case tn.ALREADY_HAS_PASSWORD_STEP:return!(0,F.a3)(o,[r.requiredValidator()]);case tn.NAME_STEP:return!(0,F.a3)(n,[r.requiredValidator()]);case tn.BIRTHDAY_STEP:return r.state.stepToRender===tn.BIRTHDAY_STEP||!(0,F.a3)(n,[r.requiredValidator(),(0,F.Gy)({max:30,maxErrorString:r.props.i18n._('Hmm, that\'s a few characters too long. Try a nickname instead?', 'Name exceeds 30 character maximum error', 'Name exceeds 30 character maximum error')})]);case tn.WEBSITE_STEP:return!(0,F.a3)(a,[(0,F.Jx)({message:r.props.i18n._('Please use a valid URL', 'Invalid website validation error', 'Invalid website validation error')})]);case tn.INTENT_STEP:return!(0,F.a3)(s,[r.requiredValidator(),r.numberValidator()]);case tn.SALES_CONTACT_STEP:return!(0,F.a3)(u,[(0,F.Bh)({message:r.props.i18n._('Please use a valid phone number', 'Invalid phone number validation error', 'Invalid phone number validation error')})])&&!(0,F.a3)(l,[r.requiredValidator()]);case tn.BUSINESS_TYPE_STEP:return!(0,F.a3)(c,[r.requiredValidator()]);default:return!0}}),tt(e9(r),"numberValidator",function(){return(0,F.qA)({message:r.props.i18n._('Not a number.', 'Number field validation error message', 'Number field validation error message')})}),tt(e9(r),"requiredValidator",function(){return(0,F.aH)({message:r.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})}),tt(e9(r),"_shouldShowFirstAdUpsellPage",function(){var e=r.props,t=e.country,n=e.isBusiness,o=e.isLBA;if(n||o){if(tc.isEligible())return tc.claim(),!0;if((0,d.Fl)(t))return!0}return!1}),tt(e9(r),"isStepSkipable",function(){var e=r.state.stepToRender;return -1!==[tn.WEBSITE_STEP,tn.SALES_CONTACT_STEP].indexOf(e)});var t,r,n={},o=e.isBusiness,_=e.isLBA,v=e.location;return _&&(n=e4({isExistingUser:!0,showLoginButtons:!1,stepToRender:tn.NAME_STEP},v.state)),v.state&&(n=v.state.isSignUpFromLoginError?e4({fullName:o||_?"":(0,E.Z)(v.state.email,e.country),steps:o||_?[tn.NAME_STEP]:[tn.BIRTHDAY_STEP],stepToRender:o||_?tn.NAME_STEP:tn.BIRTHDAY_STEP,isSignUpFromLoginError:!1},v.state):v.state.isFromSignupEmailExistError?e4({email:v.state.email,steps:[tn.ALREADY_HAS_PASSWORD_STEP],stepToRender:tn.ALREADY_HAS_PASSWORD_STEP,isSignUpFromLoginError:!1},v.state):e4({},v.state)),r.state=e4({birthdayString:"",birthdayErrorMessage:"",email:"",fullName:"",isExistingUser:!1,isLoading:!1,isUnderageModalOpen:!1,isValid:!1,password:"",showLoginButtons:!1,steps:r.getSteps(),stepToRender:tn.EMAIL_STEP,isSignUpFromLoginError:!1,isSsoFlow:!1,isFromSignupEmailExistError:!1,ssoAuthorizationUri:"",ssoEmail:"",ssoId:"",ssoIdToken:"",ssoName:"",emailError:null,canEditCurrentTextField:!0,isSubmitting:!1,gender:"",customGender:"",website:"",intent:"",phone:"",salesName:"",businessType:"",recaptchaV3Token:"default"},n),r}return r=[{key:"componentDidMount",value:function(){var e=this;this.trackStepViewed(),this.props.isBusiness&&this.isCountryUS()&&(0,eX.nP)("mweb_business_create_unauth_visits_sales_steps",{sampleRate:1});var t=function(){(0,R.rY)(function(t){return e.setState({recaptchaV3Token:t})},function(){},R.ys)};t(),setInterval(t,R.yc)}},{key:"componentDidUpdate",value:function(e,t){var r=this.getStepFromMatchParams(e),n=this.getStepFromMatchParams(this.props);this.state.isExistingUser&&e.location!==this.props.location&&2!==n&&this.setIsExistingUser(!1,void 0),r!==n&&this.handleBack(t.steps[n-1]),t.stepToRender!==this.state.stepToRender&&this.trackStepViewed()}},{key:"isCountryUS",value:function(){return"US"===this.props.country}},{key:"updateLBA",value:function(){var e=this.state,t=e.fullName,r=e.website,n=e.intent,o=e.businessType,i=this.props;(0,i.saveWebsite)(r,function(){return(0,eX.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,eX.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},i.userId),s.Z.create("UserSettingsResource",{advertising_intent:n,business_name:t,account_type:o,surface_tag:k.i.REGISTRATION}).callUpdate().then(function(){return(0,u.Z)("/me")})}},{key:"render",value:function(){var e,t=this,r=this.props,o=r.isBusiness,i=r.history,s=r.i18n,u=r.location,l=r.inSmbSalesCopyChangeExperiment,c=r.isLBA,d=r.isAppFactoryOAuth,p=r.isGroupBoardSignup,f=this.getStepFromMatchParams(this.props);if(Number.isNaN(f)||f<1||f>10)return i.replace("/"),null;var _=this.state,g=_.birthdayString,b=_.birthdayErrorMessage,S=_.canEditCurrentTextField,w=_.isSubmitting,E=_.email,T=_.fullName,A=_.businessType,O=_.website,j=_.intent,I=_.phone,R=_.salesName,C=_.emailError,k=_.isExistingUser,D=_.isLoading,L=_.isUnderageModalOpen,N=_.isValid,B=_.password,U=_.passwordValidationError,z=_.showLoginButtons,Z=_.steps,F=_.stepToRender,M=Z.length,W=q.tr,G=c?tu.length:o?ts.length:M+W;this.props.isOnSsoExperiment&&this.state.isSsoFlow&&(G=ta.length);var K=(0,H.Ff)({i18n:s,location:u}),Q=K.showPLPBanner,X=K.pinForBanner,J=!(o||c||d),$=J&&!tl.includes(F),ee=J&&F===tn.EMAIL_STEP,et=o||c?void 0:"300";et&&tl.includes(F)&&(et="200");var en=o||c?156:10,es=this.getViewParameterType(),eu=!o&&!c,el=!o&&!c&&!p,ec=null===(e=u.state)||void 0===e?void 0:e.attributionLabel;return(0,er.jsxs)(P.default,{hasFixedHeader:!1,hasGutter:!Q,children:[!!es&&(0,er.jsx)(eK.Z,{currentIndex:f-1,numSteps:G,showPLPBanner:Q,viewParameter:es,viewType:en}),(0,er.jsx)(a.xu,{"data-test-id":"signup-page-form",marginEnd:"auto",marginStart:"auto",maxWidth:400,children:(0,er.jsxs)("form",{onSubmit:this.nextSignupStepWithValidation,children:[Q&&X&&(0,er.jsx)(eY.Z,{pin:X}),(0,er.jsxs)(a.xu,{paddingX:Q?4:0,children:[F===tn.EMAIL_STEP&&(0,er.jsx)(eS,{disabled:!S,email:E,emailError:C,getFocusFieldRef:v.Z,handleChangeEmail:this.handleChangeEmail,isReducedHeader:eu,setEmailError:function(e){return t.setState({emailError:e})},setValidState:this.setValidState,showModernizedNuxUI:el,showPLPBanner:Q,viewType:en}),F===tn.PASSWORD_STEP&&(0,er.jsx)(eH,{disabled:!S,getFocusFieldRef:v.Z,handleChangePassword:this.handleChangePassword,isReducedHeader:eu,password:B,setValidState:this.setValidState,showModernizedNuxUI:el,showPLPBanner:Q,viewType:en}),F===tn.ALREADY_HAS_PASSWORD_STEP&&(0,er.jsx)(eo,{disabled:!S,error:U,getFocusFieldRef:v.Z,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,isReducedHeader:eu,password:B,setValidState:this.setValidState,showPLPBanner:Q,viewType:en}),F===tn.SSO_STEP&&(0,er.jsx)(x.Z,{onContinueClick:this.handleSsoContinue}),F===tn.NAME_STEP&&(0,er.jsx)(eD,{disabled:!S,getFocusFieldRef:v.Z,handleChangeName:this.handleChangeFullName,isBusiness:o,name:T,setValidState:this.setValidState,viewType:en}),F===tn.BIRTHDAY_STEP&&(0,er.jsx)(ei.Z,{birthdayErrorMessage:b,disabled:!S,handleChangeBirthday:this.handleChangeBirthday,handleChangeName:this.handleChangeFullName,name:T,setValidState:this.setValidState,viewType:en}),F===tn.BUSINESS_TYPE_STEP&&(0,er.jsx)(ea.Z,{businessType:A,disabled:!S,handleChangeBusinessType:this.handleChangeBusinessType,setValidState:this.setValidState,viewType:en}),F===tn.WEBSITE_STEP&&(0,er.jsx)(eq.Z,{disabled:!S,getFocusFieldRef:v.Z,handleChangeWebsite:this.handleChangeWebsite,setValidState:this.setValidState,viewType:en,website:O}),F===tn.INTENT_STEP&&(0,er.jsx)(eE.b,{disabled:!S,handleChangeIntent:this.handleChangeIntent,intent:j,setValidState:this.setValidState,viewType:en}),F===tn.SALES_CONTACT_STEP&&(0,er.jsx)(eG.Z,{disabled:!S,handleChangeName:this.handleChangeSalesName,handleChangePhone:this.handleChangePhone,inCopyChangeExp:l,name:R,phone:I,setValidState:this.setValidState,viewType:en}),F!==tn.SSO_STEP?(0,er.jsxs)(n.Fragment,{children:[(0,er.jsx)(a.xu,{marginBottom:6}),(0,er.jsx)(ew.Z,{allowSkip:this.isStepSkipable(),attributionLabel:ec,handleSkipStep:this.handleSkipStep,isBusiness:o||c,location:u,loginLink:et,nextButtonText:this.getNextButtonText(),nextDisabled:!N||w,nextPageForLogin:u.state?u.state.next:"",showBusinessSignup:ee,showSocialSignUpButtons:$,showTextDivider:z,showTos:!0,viewParameter:this.getViewParameterType()})]}):null]})]})}),(0,er.jsx)(y.ZP,{accessibilityModalLabel:"",isOpen:L,mobileAccessibilityCloseIconLabel:s._('Close', 'modal.underage.close', 'Label for underage modal close button'),mobileHideCloseIcon:!0,onDismiss:function(){},children:(0,er.jsx)(eQ.Z,{birthday:g,onEditBirthday:function(){h.t8(m.It,"0",(0,h.kZ)(m.It)),t.setState({isUnderageModalOpen:!1})}})}),D&&(F!==Z[Z.length-1]||k?(0,er.jsx)(V.Z,{}):(0,er.jsx)(Y.Z,{isReducedHeader:eu}))]})}}],e7(c.prototype,r),o&&e7(c,o),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.PureComponent);function tf(e){var t,r,n,a,s,u,l,d,p=(0,i.k6)(),f=(0,i.TH)(),h=null===(t=f.state)||void 0===t?void 0:t.attributionLabel,m=(0,i.$B)(),g=(0,w.ZP)(),b=(0,o.useDispatch)(),v=(0,I.F)().checkExperiment,y=(0,L.F9)().showToast,S=(0,i.TH)().pathname,E=(0,z.Z)(),P=E.isLimitedLogin,T=E.id,A=E.third_party_marketing_tracking_enabled,O=v("mweb_smb_sales_handraiser_copy_change_unauth").anyEnabled,x=(0,Q.m)(),R=(0,K.f)(),D=(0,c.Z)(),N=(0,_.Z)(),Z=(0,C.B)(),F=Z.country,W=Z.isAuthenticated,V=Z.locale,H=(0,o.useSelector)(function(e){return e.session}),q=H.loggedOutUserInfo,Y=H.userId,ee=null!==(r=(0,o.useSelector)(function(e){return e.users}))&&void 0!==r?r:{},et=(0,G.xT)(ee[Y]),en=(0,B.ZP)(),eo=f.pathname.startsWith("/business/"),ei=f.pathname.startsWith("/linked/"),ea=(0,M.m)().unauthBoardInvite,es=null!==(n=null!==(a=null===(s=f.state)||void 0===s?void 0:s.isFromGroupBoardsInvite)&&void 0!==a?a:!!ea)&&void 0!==n&&n,eu=null!==(u=(0,U.Z)())&&void 0!==u&&u,el=null!==(l=null===(d=f.state)||void 0===d?void 0:d.isRedirectToNextParamAfterSignup)&&void 0!==l&&l,ec=v("ppm_p_gate").anyEnabled,ed=v("mweb_sso_auth_enabled").anyEnabled,ep=(0,j.Z)(),ef=ep.authenticateWithSso,e_=ep.verifySsoUser;return S.startsWith("/business/")&&P||"desktop"===en?(0,er.jsx)(i.l_,{to:"/"}):(0,er.jsx)(tp,e4(e4({},e),{},{attributionLabel:h,authenticateWithSso:ef,country:F,history:p,i18n:g,inSmbSalesCopyChangeExperiment:O,isAppFactoryOAuth:eu,isAuthenticated:W,isBusiness:eo,isGroupBoardSignup:es,isLBA:ei,isLimitedLoginUser:et,isOnSsoExperiment:ed,isRedirectToNextParamAfterSignup:el,locale:V,location:f,logContextEvent:N,loggedOutUserInfo:q,login:R,match:m,navigateAfterLoginStatusChange:D,pixelBlocked:ec,register:x,saveBusinessType:function(e,t,r,n){return b((0,J._L)({field:"account_type",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:k.i.REGISTRATION,userId:n}))},saveIntent:function(e,t,r,n){return b((0,J._L)({field:"advertising_intent",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:k.i.REGISTRATION,userId:n}))},saveWebsite:function(e,t,r,n){return b((0,J._L)({field:"website_url",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:k.i.REGISTRATION,userId:n}))},setGenderStepComplete:function(){return b((0,$.Q_)("COMPLETED_GENDER_SIGNUP",1))},setNumSignupSteps:function(e){return b((0,X.e0)(e))},showToast:y,thirdPartyMarketingTrackingEnabled:A,userId:null!=T?T:"",validateEmailExists:function(e){return b((0,$.OF)(e))},verifySsoUser:e_}))}},386129:function(e,t,r){"use strict";r.d(t,{Ge:function(){return p},JS:function(){return l},OF:function(){return y},P_:function(){return c},Q_:function(){return h},b8:function(){return m},eR:function(){return v},h2:function(){return f},h6:function(){return _}});var n,o=r(216167),i=r(107366),a=r(666698);function s(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,u,"next",e)}function u(e){s(i,n,o,a,u,"throw",e)}a(void 0)})}}function l(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var c=function(e,t){return{type:"USER_FOLLOW",payload:{id:e,value:t}}},d=function(e,t){return{type:"USER_BLOCK",payload:{id:e,value:t}}},p=function(e){var t,r=e.id,n=e.orbacSubjectId,i=e.blockSource,a=e.blockContext,s=e.logContextEvent;return t=u(regeneratorRuntime.mark(function e(t){var u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(d(r,!0)),e.next=3,o.Z.create("UserBlockResource",{blocked_user_id:r,orbac_subject_id:n,block_source:i,block_context:a}).callCreate().catch(function(){return t(d(r,!1))});case 3:return u=e.sent,s({event_type:54,object_id_str:r}),e.abrupt("return",u);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},f=function(e,t){var r;return r=u(regeneratorRuntime.mark(function r(n){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(d(e,!1)),r.next=3,o.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(function(){return n(d(e,!0))});case 3:return i=r.sent,t({event_type:55,object_id_str:e}),r.abrupt("return",i);case 6:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)}};function _(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var h=function(e,t){return function(){return o.Z.create("UserStateResource",{state:e,value:t}).callCreate()}},m=function(e,t,r){return function(n,o){(0,i.Z)({url:"/v3/users/me/",method:"POST"}).then(function(){r({event_type:48,object_id_str:o().session.userId}),e(),(0,a.Dm)()},t)}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"150x150";return e&&"https://i.pinimg.com/".concat(t,"/").concat(e.substring(0,2),"/").concat(e.substring(2,4),"/").concat(e.substring(4,6),"/").concat(e,".jpg")||""},b=(n=u(regeneratorRuntime.mark(function e(t,r,n){var i,a,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.create("VIPResource",{upload_ids:[t]}).callGet();case 2:(i=e.sent).resource_response.data[t]?(s=(a=i.resource_response.data[t]).status,l=a.signature,"processing"===s||"registered"===s?setTimeout(u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b(t,r,n);case 1:case"end":return e.stop()}},e)})),5e3):"succeeded"===s?r(g(l)):n()):n();case 4:case"end":return e.stop()}},e)})),function(e,t,r){return n.apply(this,arguments)}),v=function(e){return new Promise(function(t,r){if("string"==typeof e){if(e.startsWith("data")){var n;(n=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,r=e.split(";"),n=r[0].split(":")[1],o=atob(r[1].split(",")[1]),i=[],a=0;a<o.length;a+=t){for(var s=o.slice(a,a+t),u=Array(s.length),l=0;l<s.length;l+=1)u[l]=s.charCodeAt(l);var c=new Uint8Array(u);i.push(c)}return new Blob(i,{type:n})}(e),new Promise(function(e,t){var r,i,a;r=function(){},i=function(t){e(t)},a=function(e){t(e)},new FormData().append("img",n),o.Z.create("VIPResource",{type:"pinimage"}).callCreate().then(function(e){if(e.resource_response.data){var t=e.resource_response.data,o=t.upload_id,s=t.upload_url,u=t.upload_parameters,l=new XMLHttpRequest;l.open("POST",s,!0),l.onload=function(){var e;(e=l.status)>=200&&e<400?(r(100),b(o,i,a)):a()},l.upload.onprogress=function(e){r(Math.round(100*e.loaded/e.total))};var c=new FormData;for(var d in u)c.append(d,u[d]);c.append("file",n),l.send(c)}},function(){a()})})).then(function(e){return t(e)})}}else r("Invalid Image")})},y=function(e){return function(){return(0,i.Z)({url:"/v3/register/exists/",data:{email:e}})}}},800030:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(780277),o=r(328038),i=r(140017),a=r(391884),s=r(5859),u=r(19447),l=r(672652),c=r(684404),d=r(819267),p=function(e){var t,r=e.pin,n=r.image,o=r.pinDescription,i=r.dominantColor,a=r.bannerCopy;return(0,d.jsx)(l.Fragment,{children:(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",margin:4,children:[(0,d.jsx)(c.xu,{height:40,margin:4,width:30,children:(0,d.jsx)(c.zd,{height:"100%",rounding:2,width:"100%",children:(0,d.jsx)(c.Ee,{alt:o||"",color:i||"",fit:"cover",naturalHeight:(n||{}).height||1,naturalWidth:(n||{}).width||1,src:null!==(t=(n||{}).url)&&void 0!==t?t:""})})}),(0,d.jsx)(c.xv,{children:a})]})})};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){var n;return(n=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===f(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){var t=e.pin,r=(0,i.ZP)(),l=(0,n.useSelector)(function(e){var t=e.session;return t&&t.unauthSavePinId}),c=(0,u.S6)()(null!=l?l:""),f=(0,s.B)(),_=f.isBot,g=f.isSocialBot,b=(0,o.TH)();if(!t&&!l)return null;var v=b.pathname.startsWith("/signup");if(!(b.pathname.startsWith("/login")||v))return null;if(c){var y,S,w=b.pathname.startsWith("/signup"),E={url:(0,a.Z)({imagesUrls:c.images?Object.keys(c.images).reduce(function(e,t){var r,n;return t&&null!==(r=c.images)&&void 0!==r&&null!==(n=r[t])&&void 0!==n&&n.url?h(h({},e),{},m({},t,c.images[t].url)):e},{}):void 0,embedSrc:null===(y=c.embed)||void 0===y?void 0:y.src,embedType:null===(S=c.embed)||void 0===S?void 0:S.type,excludeOriginals:!_&&!g}),height:1,width:1},P=c.description||"",T=c.dominant_color||"",A=w?r._('Finish signing up to save this idea', 'mweb.unauth.save.flow.signup.banner', 'Sign up banner shown in signup page after user attempting to save the pin'):r._('Finish logging in to save this idea', 'mweb.unauth.save.flow.login.banner', 'Login banner shown in login page after user attempting to save the pin');return(0,d.jsx)(p,{pin:{image:E,pinDescription:P,dominantColor:T,bannerCopy:A}})}return t?(0,d.jsx)(p,{pin:t}):null}},756355:function(e,t,r){"use strict";var n=r(335475);t.Z=n.Z},206290:function(e,t,r){"use strict";var n=r(335475);t.Z=n.Z},228027:function(e,t,r){"use strict";var n=r(335475);t.Z=n.Z},43026:function(e,t,r){"use strict";var n=r(335475);t.Z=n.Z},953844:function(e,t,r){"use strict";var n=r(335475);t.Z=n.Z}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[97270,84404,28038,24797,55169,64283,2909,27672,33,15927,40370,30016,91276,27460,15208,34722,32351,13136,97984,40178],function(){return t(879945),t(553530),t(14638),t(767845),t(262967)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/signup-a3c30828ed7087bc.js.map
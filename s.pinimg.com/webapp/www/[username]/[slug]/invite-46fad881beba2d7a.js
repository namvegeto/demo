(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3189,51699,69109,1429,11262,44701,80981,65292,96122,18738,41659,25193],{746377:function(e,t,r){var n={"./":[554053,9],"./CZ":[338969,9,38969],"./CZ.tsx":[338969,9,38969],"./DA":[999991,9,99991],"./DA.tsx":[999991,9,99991],"./DE":[775930,9,75930],"./DE.tsx":[775930,9,75930],"./ENUK":[683171,9,83171],"./ENUK.tsx":[683171,9,83171],"./ENUS":[531742,9,31742],"./ENUS.tsx":[531742,9,31742],"./ESAR":[497171,9,97171],"./ESAR.tsx":[497171,9,97171],"./ESES":[529528,9,29528],"./ESES.tsx":[529528,9,29528],"./ESMX":[827141,9,27141],"./ESMX.tsx":[827141,9,27141],"./FI":[515911,9,15911],"./FI.tsx":[515911,9,15911],"./FR":[677095,9,77095],"./FR.tsx":[677095,9,77095],"./GR":[312106,9,12106],"./GR.tsx":[312106,9,12106],"./HI":[403893,9,3893],"./HI.tsx":[403893,9,3893],"./HU":[102771,9,2771],"./HU.tsx":[102771,9,2771],"./ID":[207063,9,7063],"./ID.tsx":[207063,9,7063],"./IT":[386099,9,86099],"./IT.tsx":[386099,9,86099],"./JP":[46685,9,46685],"./JP.tsx":[46685,9,46685],"./KR":[740400,9,40400],"./KR.tsx":[740400,9,40400],"./MS":[549425,9,49425],"./MS.tsx":[549425,9,49425],"./NL":[24587,9,24587],"./NL.tsx":[24587,9,24587],"./NO":[450944,9,50944],"./NO.tsx":[450944,9,50944],"./PL":[954012,9,54012],"./PL.tsx":[954012,9,54012],"./PTBR":[635057,9,35057],"./PTBR.tsx":[635057,9,35057],"./PTPT":[94619,9,94619],"./PTPT.tsx":[94619,9,94619],"./RO":[326169,9,26169],"./RO.tsx":[326169,9,26169],"./RU":[816635,9,16635],"./RU.tsx":[816635,9,16635],"./SK":[203980,9,3980],"./SK.tsx":[203980,9,3980],"./SV":[523295,9,23295],"./SV.tsx":[523295,9,23295],"./TH":[458418,9,58418],"./TH.tsx":[458418,9,58418],"./TL":[278849,9,78849],"./TL.tsx":[278849,9,78849],"./TR":[447044,9,47044],"./TR.tsx":[447044,9,47044],"./UA":[681236,9,81236],"./UA.tsx":[681236,9,81236],"./VT":[44734,9,44734],"./VT.tsx":[44734,9,44734],"./ZHCN":[742142,9,42142],"./ZHCN.tsx":[742142,9,42142],"./ZHTW":[904959,9,4959],"./ZHTW.tsx":[904959,9,4959],"./index":[554053,9],"./index.tsx":[554053,9],"./localeToFilename":[970415,9],"./localeToFilename.ts":[970415,9],"./types":[696851,7,96851],"./types.ts":[696851,7,96851]};function o(e){if(!r.o(n,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],o=t[0];return Promise.all(t.slice(2).map(r.e)).then(function(){return r.t(o,16|t[1])})}o.keys=function(){return Object.keys(n)},o.id=746377,e.exports=o},256218:function(e,t,r){"use strict";r.r(t);var n,o,i,a,l={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};l.hash="bc8b32c56a4a58de585c9a05ae69bd9c",t.default=l,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(l.default||l)},414658:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardHeaderOverflowMenuFragment_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null}],storageKey:null}],type:"V3GetBoard",abstractKey:null};n.hash="9e6b12f0e2ca44a60d19ccb4ef3089d9",t.default=n},438143:function(e,t,r){"use strict";r.r(t);var n,o,i=(o=[n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],type:"AdvisoryAction",abstractKey:null});i.hash="6ddea2ecd3dff2e1001c1e4d037cc858",t.default=i},173477:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};n.hash="5879c4710b107f258f42156bf3e47e37",t.default=n},997473:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};n.hash="4970946a36017d9ad0c751fd70cc512c",t.default=n},798824:function(e,t,r){"use strict";r.r(t);var n,o,i,a=(o=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],i=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[n,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});a.hash="53d7eec34666980eda011429185b5b10",t.default=a},106622:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MoreIdeasPreviewStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'}],type:"Pin",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="075f9b94f00fe917dc6a9207c331b8f7",t.default=n},924633:function(e,t,r){"use strict";r.r(t);var n,o,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OneTapSavePinWrapperQuery_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[o],storageKey:'images(spec:"236x")'},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},n],storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="22654b199980bcc0af3d9ddb87cc08e9",t.default=i},321046:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButton_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null}],storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="1604617e956a047199e44922f5d13dd2",t.default=n},329638:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveContentNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{args:null,kind:"FragmentSpread",name:"DefaultNotice_advisoryNotice"},{args:null,kind:"FragmentSpread",name:"LegoNotice_advisoryNotice"}],storageKey:null}],type:"Sensitivity",abstractKey:null};n.hash="d12a0ef89312e2429f28a098a2536c8a",t.default=n},384490:function(e,t,r){"use strict";r.r(t);var n,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},n,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};o.hash="92b841173868ce353dd00b5fce287546",t.default=o},903414:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepAuthDesktopPinRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinRepWithImpressions_pin"}],type:"Pin",abstractKey:null};n.hash="000e24070b5df05da76d803775cb37e6",t.default=n},700554:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};n.hash="51f44b91a29d43c6d06785fcb846b61b",t.default=n},770181:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepAuthDesktopPinRep_pin"}],type:"Pin",abstractKey:null};n.hash="7982b415980bdf92f7b9338cb5f6c539",t.default=n},910982:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};n.hash="630f94c5c1fff86bdd3cb70e987c1fee",t.default=n},42080:function(e,t,r){"use strict";r.r(t);var n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notice",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Sensitivity",abstractKey:null};n.hash="acce8589f2dfbde368aad5ed8657c566",t.default=n},261526:function(e,t,r){"use strict";r.r(t);var n,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCanPerformAction_board",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],type:"Board",abstractKey:null};o.hash="416539a057718ff36ac5d9d06916c2d4",t.default=o},659752:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/[slug]/invite"]=function(){return r(589947).Z}},892254:function(e,t,r){"use strict";r.d(t,{$:function(){return h},r:function(){return b}});var n=r(672652),o=r(342513),i=r(321329),a=r(5859),l=r(494125),s=r(819267);function c(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=(0,o.Z)("PinRep"),p=f.Provider,h=f.useHook;function b(e){var t=e.children,r=(0,a.B)().isAuthenticated,o=u((0,n.useState)(!0),2),d=o[0],f=o[1],h=u((0,n.useState)(!1),2),b=h[0],y=h[1],_=(0,i.Z)(1000069);(0,l.Z)(function(){var e,t;(e=regeneratorRuntime.mark(function e(){var t,n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return f(!1),e.abrupt("return");case 3:return e.next=5,_.fetchAllExperiences();case 5:(a=e.sent)&&a.payload&&(null===(t=a.payload.experiences)||void 0===t?void 0:null===(n=t[1000069])||void 0===n?void 0:n.experience_id)===500417&&null!==(o=a.payload.experiences)&&void 0!==o&&null!==(i=o[1000069])&&void 0!==i&&i.display_data.hide_footer?_.viewExperience(1000069,500417):f(!1),y(!0);case 8:case"end":return e.stop()}},e)}),t=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){c(i,n,o,a,l,"next",e)}function l(e){c(i,n,o,a,l,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)})()});var m=(0,n.useMemo)(function(){return{hasSimplifiedPinGridExpLoaded:b,hidePinRepFooter:d}},[b,d]);return(0,s.jsx)(p,{value:m,children:t})}},334589:function(e,t,r){"use strict";function n(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}r.d(t,{Z:function(){return n}})},406718:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(340523),o=r(554786),i=r(149722),a=r(785059),l=r(199677),s=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function c(e){var t=(0,o.HG)(),r=(0,n.F)().checkExperiment,c=(0,a.Z)(),u=(0,i.Z)(),d=(0,l.lJ)(u,c),f=s[t?"dweb":"mweb"],p=r(f.organic).anyEnabled,h=r(f.monetized).anyEnabled,b=r("uid_sce_lightswitch_advertisers").anyEnabled;return!d&&((e&&(r("sce_lightswitch_organic"),r("sce_lightswitch_monetized")),t)?!!(p||h||b):p||h)}},61932:function(e,t,r){"use strict";r.d(t,{G4:function(){return i},Lu:function(){return n},uS:function(){return o}});var n=58,o=12,i={display:{backgroundColorHex:["#efefef","#292929"],selectedBackgroundColorHex:["#292929"],icon:3,textColorHex:["#111111","#ffffff"],selectedTextColorHex:["#ffffff"]},moduleType:0,id:""}},628428:function(e,t,r){"use strict";r.d(t,{m:function(){return p},n:function(){return f}});var n=r(672652),o=r(342513),i=r(782005),a=r(766323),l=r(819267);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,o.Z)("SearchBookmark"),d=u.Provider,f=u.useHook;function p(e){var t=e.children,r=(0,a.b)(),o=r.scope,c=r.query,u=s((0,n.useState)(void 0),2),f=u[0],p=u[1],h=s((0,n.useState)(null),2),b=h[0],y=h[1],_=s((0,n.useState)(null),2),m=_[0],v=_[1],g=(0,n.useCallback)(function(e){f!==e&&(!f||b!==c||m!==o&&[m,o].some(function(e){return[i.lw.PINS_BUYABLE,i.lw.PINS_MINE].includes(e)}))&&(p(e),b!==c&&y(c),m!==o&&v(o))},[f,b,m,c,o]),x=(0,n.useMemo)(function(){return{bookmark:f,setBookmark:g}},[f,g]);return(0,l.jsx)(d,{value:x,children:t})}},184200:function(e,t,r){"use strict";r.d(t,{b:function(){return f},p:function(){return p}});var n=r(672652),o=r(628428),i=r(161187),a=r(342513),l=r(728622),s=r(819267);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,a.Z)("SearchOneBarProductFiltersContext"),d=u.Provider,f=u.useHook;function p(e){var t,r=e.children,a=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)([]))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=a[0],f=a[1],p=(0,o.n)().bookmark,h=(0,l.Z)(p),b=(0,n.useCallback)(function(e){if(p!==h&&e){var t,r,n,o,a,l,s,c,u=[],d=(null===(t=e.find(function(e){var t,r;return 17===e.module_type&&(null===(t=e.action)||void 0===t?void 0:null===(r=t.filter)||void 0===r?void 0:r.product_filter_type)===1}))||void 0===t?void 0:null===(r=t.action)||void 0===r?void 0:r.filter)||null;if(d){var b=(0,i.Cv)(d,{filterComponentType:0});b&&u.push(b)}var y=(null===(n=e.find(function(e){var t,r;return 17===e.module_type&&(null===(t=e.action)||void 0===t?void 0:null===(r=t.filter)||void 0===r?void 0:r.product_filter_type)===0}))||void 0===n?void 0:null===(o=n.action)||void 0===o?void 0:o.filter)||null;if(y){var _=(0,i.Cv)(y,{filterComponentType:1});_&&u.push(_)}var m=(null===(a=e.find(function(e){var t,r;return 17===e.module_type&&(null===(t=e.action)||void 0===t?void 0:null===(r=t.filter)||void 0===r?void 0:r.product_filter_type)===3}))||void 0===a?void 0:null===(l=a.action)||void 0===l?void 0:l.filter)||null;if(m){var v=(0,i.Cv)(m,{filterComponentType:1});v&&u.push(v)}var g=(null===(s=e.find(function(e){var t,r;return 17===e.module_type&&(null===(t=e.action)||void 0===t?void 0:null===(r=t.filter)||void 0===r?void 0:r.product_filter_type)===6}))||void 0===s?void 0:null===(c=s.action)||void 0===c?void 0:c.filter)||null;if(g){var x=(0,i.Cv)(g,{filterComponentType:1});x&&u.push(x)}f(u)}},[p,h]),y=(0,n.useMemo)(function(){return{productFilters:u,setProductFiltersFromOneBarModules:b}},[u,b]);return(0,s.jsx)(d,{value:y,children:r})}},381:function(e,t,r){"use strict";r.d(t,{wy:function(){return I},N$:function(){return C},M:function(){return O}});var n,o=r(672652),i=r(42279),a=r(838551),l=r(161187);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){var n;return(n=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===s(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e,t,r){return r&&(0,l.nZ)(r,t)?a.v.MODIFIED:(0,l.B1)(t,e)?a.v.CLEARED:a.v.APPLIED};function b(e,t){(0,l.ph)(t);var r,n=e.find(function(e){return e.id===t.id}),o=null==n?void 0:n.rules,i=(null==n?void 0:null===(r=n.filter_options.find(function(e){return e.id===t.selectedOptionId}))||void 0===r?void 0:r.rules)||o;if(!i)return[e,[]];var a=[],s=[];return e.forEach(function(e){i.includes(e.product_filter_type)?a.push(e):s.push(e)}),[a,s]}function y(e,t){switch(t.type){case"RESET_FILTERS":var r=f(t.payload,2),n=r[0],o=r[1];return{models:n,availableFilterModels:n,appliedFilters:o,filters:o,isFetching:!1,pendingDeletedSelections:{},status:h(n,o)};case"CLEAR_FILTERS":var i=(0,l.Af)(e.models),s=e.models;return Object.values(i).forEach(function(e){s=f(b(s,e),1)[0]}),u(u({},e),{},{filters:i,availableFilterModels:s,pendingDeletedSelections:{},status:h(e.models,e.appliedFilters,i)});case"UPDATE_FILTER":var c=t.payload,p=f(b(e.models,c),2),y=p[0],_=p[1],m=u(u({},e.filters),{},d({},c.id,c)),v=u({},e.pendingDeletedSelections);return y.forEach(function(e){var t=v[e.id];t&&(m[e.id]=t,delete v[e.id])}),_.forEach(function(e){var t=m[e.id];t&&(v[e.id]=t,delete m[e.id])}),(0,l.ph)(c,e.models.find(function(e){return e.id===c.id}))&&delete m[c.id],u(u({},e),{},{availableFilterModels:y,filters:m,pendingDeletedSelections:v,status:h(e.models,e.appliedFilters,m)});case"SUBMIT_FILTER":return u(u({},e),{},{pendingDeletedSelections:{},status:a.v.SUBMITTED});case"SUBMIT_FAILED":return u(u({},e),{},{status:a.v.FAILED});case"SUBMIT_COMPLETE":var g=e.filters;return u(u({},e),{},{appliedFilters:g,pendingDeletedSelections:{},status:h(e.models,g)});case"LOADING":return u(u({},e),{},{isFetching:!0});case"LOADING_COMPLETED_OR_FAILED":return u(u({},e),{},{isFetching:!1});default:return e}}var _=r(342513),m=r(995917),v=r(646473),g=r(819267);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var w=(0,_.Z)("UnifiedFiltersContext"),S=w.Provider,O=w.useMaybeHook,A=function(e){var t=e.applyInitFilters,r=e.children,n=e.filterModels,i=e.filters,s=e.isFetching,c=e.refreshFiltersData,u=(null==t?void 0:t(n))||i||{},d=P((0,o.useReducer)(y,{models:n,availableFilterModels:n,appliedFilters:u,filters:u,pendingDeletedSelections:{},isFetching:s,status:(0,l.B1)(u,n)?a.v.CLEARED:a.v.APPLIED}),2),f=d[0],p=d[1],h=P((0,o.useState)(n),2),b=h[0],_=h[1];(0,o.useEffect)(function(){s&&p({type:"LOADING"})},[s]),(0,o.useEffect)(function(){if(!s&&(!f.isFetching||0!==n.length)){if(!(0,l.a$)(b,n)){p({type:"LOADING_COMPLETED_OR_FAILED"});return}p({type:"RESET_FILTERS",payload:[n,(null==t?void 0:t(n))||{}]}),_(n)}},[t,n,b,s,f.isFetching]);var m=(0,o.useMemo)(function(){return{filterState:f,dispatch:p,refreshFiltersData:c}},[f,c]);return(0,g.jsx)(S,{value:m,children:r})},C=function(e){var t=e.bookmark,r=void 0===t?"":t,n=e.children,o=e.generateInitFilterCb,i=(0,m.Z)(r?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:r}}}:null),a=i.data,l=i.refresh,s=i.isLoaded;return(0,g.jsx)(A,{applyInitFilters:o,filterModels:(void 0===a?null:a)||[],isFetching:!s||!r,refreshFiltersData:l,children:n})},E=void 0!==n?n:n=r(384490),I=function(e){var t,r,n,l,s,c,u,d=e.children,f=e.oneBarModulesKey,p=(0,v.Z)(),h=p.data,b=p.isFetching,y=(h||{}).oneBarModules,_=(0,i.useFragment)(E,f),m=(0,o.useMemo)(function(){return{dispatch:function(){},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:b,pendingDeletedSelections:{},status:a.v.CLEARED},refreshFiltersData:function(){}}},[b]),P=null===(s=_?[_]:null==y?void 0:y.map(function(e){var t,r;return e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(function(e){var t,r,n,o;return{isSelected:null!==(t=e.is_selected)&&void 0!==t?t:null,id:null!==(r=e.id)&&void 0!==r?r:null,display:e.display?{displayText:null!==(n=e.display.display_text)&&void 0!==n?n:null}:null,action:e.action?{feedUrl:null!==(o=e.action.feed_url)&&void 0!==o?o:null}:null}}):null}:null,id:null!==(t=e.id)&&void 0!==t?t:null,moduleType:null!==(r=e.module_type)&&void 0!==r?r:null}}))||void 0===s?void 0:s.find(function(e){return 0===e.moduleType}),j=null==P?void 0:null===(c=P.action)||void 0===c?void 0:c.filters;if(!P||!j)return(0,g.jsx)(S,{value:m,children:d});var w=P.id||"";return(0,g.jsx)(A,{filterModels:[{filter_component_type:2,filter_options:j.map(function(e,t){var r,n;return{label:(null==e?void 0:null===(r=e.display)||void 0===r?void 0:r.displayText)||"",id:(null==e?void 0:e.id)||"",string_value:(null==e?void 0:null===(n=e.action)||void 0===n?void 0:n.feedUrl)||"",is_selected:"boolean"==typeof(null==e?void 0:e.isSelected)?e.isSelected:0===t}}),id:w,title:"",product_filter_type:4}],filters:(r={},n=w,l={id:w,selectedOptionId:null===(u=j.find(function(e,t){return(null==e?void 0:e.isSelected)&&0!==t}))||void 0===u?void 0:u.id,type:"single"},(t=function(e,t){if("object"!==x(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==x(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"),(n="symbol"===x(t)?t:String(t))in r)?Object.defineProperty(r,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[n]=l,r),isFetching:b,refreshFiltersData:function(){},children:d})}},838551:function(e,t,r){"use strict";r.d(t,{$:function(){return n},v:function(){return o}});var n=50,o={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},161187:function(e,t,r){"use strict";r.d(t,{Af:function(){return w},Ak:function(){return k},Ax:function(){return C},B1:function(){return j},Cv:function(){return E},Ke:function(){return I},LG:function(){return D},UP:function(){return z},a$:function(){return x},cV:function(){return T},i7:function(){return S},nZ:function(){return g},ph:function(){return P},rc:function(){return A},vJ:function(){return O}});var n=r(838551),o=r(105737),i=r(444781),a=r(782005),l=r(325362),s=r(294551);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||d(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){b(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t,r){var n;return(n=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==y(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===y(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=function(e){return e.map(function(e){var t=e.filter_component_type,r=e.filter_options,n=e.title;return{filter_component_type:t,filter_options:r.map(function(e){return{label:e.label,count:e.count,image_url:e.image_url,is_verified:e.is_verified,numeric_value:e.numeric_value,string_value:e.string_value,unit:e.unit}}),title:n}})},m=function(e,t){if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type)return!(0,o.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type)return!(e.min===t.min&&e.max===t.max);throw Error("Filter type specific return must be specified")},v=function(e){return!e||!Object.keys(e).length},g=function(e,t){if(v(e)&&v(t))return!1;if(v(e)||v(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(var r in e)if(m(e[r],null==t?void 0:t[r]))return!0;return!1},x=function(e,t){return!(0,o.ZP)(_(e),_(t))},P=function(e,t){if("single"===e.type){if(t&&e.selectedOptionId){var r;return!!(null!==(r=t.filter_options.find(function(t){var r=t.id;return e.selectedOptionId===r}))&&void 0!==r&&r.is_selected)}return!e.selectedOptionId}if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return e.min===(null==t?void 0:t.filter_options[0].numeric_value)&&e.max===(null==t?void 0:t.filter_options[2].numeric_value);throw Error("Filter type specific return must be specified")},j=function(e,t){try{for(var r in e){var n=function(r){var n=e[r],o=t.find(function(e){return e.id===n.id});if(!P(n,o))return{v:!1}}(r);if("object"===y(n))return n.v}return!0}catch(e){return!0}},w=function(e){return e.map(function(e){var t;switch(e.filter_component_type){case 2:var r=null===(t=e.filter_options.find(function(e){return e.is_selected}))||void 0===t?void 0:t.id;return r?{selectedOptionId:r,id:e.id,type:"single"}:null;case 1:var n=e.filter_options.filter(function(e){return e.is_selected}).map(function(e){return e.id});return n.length>0?{selectedOptionIds:new Set(n),id:e.id,type:"multi"}:null;default:return null}}).reduce(function(e,t){return t?h(h({},e),{},b({},t.id,t)):e},{})},S=function(e){var t,r=e.scope,n=e.priceMin,o=e.priceMax,i=e.domains,l=e.brands,s=e.colors,d=e.unifiedFilterModels,f={},p=u(d);try{for(p.s();!(t=p.n()).done;)!function(){var e=t.value,u=e.filter_options,d=e.id,p=e.product_filter_type;if(1===p&&("number"==typeof n||"number"==typeof o)){var h,b,y=c(u,4),_=y[0],m=y[1],v=y[2],g=y[3],x=null!==(h=null!=n?n:null==v?void 0:v.numeric_value)&&void 0!==h?h:null==_?void 0:_.numeric_value,P=null!==(b=null!=o?o:null==g?void 0:g.numeric_value)&&void 0!==b?b:null==m?void 0:m.numeric_value;f[d]={min:x,max:P,id:d,type:"range",lastChangedLocation:1}}if(0===p&&i&&i.length>0){var j=i.map(function(e){var t=u.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);j.length>0&&(f[d]={id:d,lastChangedLocation:1,selectedOptionIds:new Set(j),type:"multi"})}if(3===p&&l&&l.length>0){var w=l.map(function(e){var t=u.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);w.length>0&&(f[d]={id:d,lastChangedLocation:1,selectedOptionIds:new Set(w),type:"multi"})}if(6===p&&s&&s.length>0){var S=s.map(function(e){var t=u.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);S.length>0&&(f[d]={id:d,lastChangedLocation:1,selectedOptionIds:new Set(S),type:"multi"})}if(4===p&&r){var O=(0,a.gi)(r),A=u.find(function(e){return e.search_type===O});A&&!A.is_selected&&(f[d]={id:d,lastChangedLocation:1,selectedOptionId:A.id,type:"single"})}}()}catch(e){p.e(e)}finally{p.f()}return f},O=function(e){var t,r,n,o,i=e.brandsParam,a=e.colorsParam,l=e.domainsParam,s=e.priceMaxParam,c=e.priceMinParam,d=e.unifiedFilterModels,f=[],p=Number(c),h=Number(s),b=Number.isNaN(p)?void 0:p,y=Number.isNaN(h)?void 0:h,_=null!==(t=null==l?void 0:l.split(",").filter(Boolean))&&void 0!==t?t:[],m=null!==(r=null==i?void 0:i.split(",").filter(Boolean))&&void 0!==r?r:[],v=null!==(n=null==a?void 0:a.split(",").filter(Boolean))&&void 0!==n?n:[],g=u(d);try{for(g.s();!(o=g.n()).done;)!function(){var e=o.value,t=e.filter_options,r=e.id,n=e.product_filter_type;if(1===n&&"number"==typeof b&&"number"==typeof y){var i={filter_id:r,filter_options:t.slice(0,2).map(function(e,t){return{filter_option_id:e.id,numeric_value:0===t?b:y,unit:e.unit||"USD"}}),location:0,product_filter_type:n};f.push(i)}if(0===n&&_&&_.length>0){var a=_.map(function(e){var r=t.find(function(t){return t.string_value===e});return r?r.id:null}).filter(Boolean);if(a.length>0){var l={filter_id:r,filter_options:a.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:n};f.push(l)}}if(3===n&&m&&m.length>0){var s=m.map(function(e){var r=t.find(function(t){return t.string_value===e});return r?r.id:null}).filter(Boolean);if(s.length>0){var c={filter_id:r,filter_options:s.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:n};f.push(c)}}if(6===n&&v&&v.length>0){var u=v.map(function(e){var r=t.find(function(t){var r;return(null===(r=t.string_value)||void 0===r?void 0:r.toLowerCase())===e.toLowerCase()});return r?r.id:null}).filter(Boolean);if(u.length>0){var d={filter_id:r,filter_options:u.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:n};f.push(d)}}}()}catch(e){g.e(e)}finally{g.f()}return 0===f.length?null:{filters:f}},A=function(e){var t=e.filterMap,r=e.isInWebHundredPercentProductLoadExp,n=e.models,o=null,i=null,l=!1,s=null,c=null,u=null,d=null;for(var f in t)!function(e){var f=t[e],p=n.find(function(e){return e.id===f.id});if(p){if("range"===f.type&&1===p.product_filter_type)u=f.min,c=f.max;else if("multi"===f.type&&0===p.product_filter_type)s=p.filter_options.filter(function(e){return f.selectedOptionIds.has(e.id)}).map(function(e){return e.string_value}).filter(Boolean);else if("multi"===f.type&&3===p.product_filter_type)o=p.filter_options.filter(function(e){return f.selectedOptionIds.has(e.id)}).map(function(e){return e.string_value}).filter(Boolean);else if("multi"===f.type&&6===p.product_filter_type)i=p.filter_options.filter(function(e){return f.selectedOptionIds.has(e.id)}).map(function(e){return e.string_value}).filter(Boolean);else if("single"===f.type&&4===p.product_filter_type){var h=p.filter_options.find(function(e){return f.selectedOptionId===e.id}),b=h&&void 0!==h.search_type?(0,a.zh)(h.search_type):a.lw.PINS;d=b,r&&(d=b===a.lw.PINS_BUYABLE?a.lw.PINS:b,l=b===a.lw.PINS_BUYABLE)}}}(f);var p=n.find(function(e){return 4===e.product_filter_type}),h=null==p?void 0:p.filter_options.find(function(e){return e.is_selected});return null===d&&"number"==typeof(null==h?void 0:h.search_type)&&(d=(0,a.zh)(h.search_type)),{brands:o,colors:i,commerce_only:l,domains:s,max:c,min:u,scope:d}},C=function(e,t){var r=[];return(Object.keys(e).forEach(function(n){var o=e[n],i=t.find(function(e){return e.id===o.id});if(i&&4!==i.product_filter_type){var a=[];if("range"===o.type){var l=c(i.filter_options,2),s=l[0],u=l[1];a=[{filter_option_id:s.id,numeric_value:o.min,unit:s.unit},{filter_option_id:u.id,numeric_value:o.max,unit:u.unit}]}if("single"===o.type){var d=i.filter_options.find(function(e){return e.id===o.selectedOptionId});if(!d)return;a=[{filter_option_id:d.id,string_value:d.string_value}]}"multi"===o.type&&(a=i.filter_options.filter(function(e){return o.selectedOptionIds.has(e.id)}).map(function(e){return{filter_option_id:e.id,string_value:e.string_value}})),r.push({filter_id:n,filter_options:a,location:o.lastChangedLocation,product_filter_type:i.product_filter_type})}}),r&&0!==r.length)?{filters:[].concat(r)}:null};function E(e,t){var r=e.id,n=e.filter_options,o=e.label,i=e.product_filter_type;return n?{filter_component_type:t.filterComponentType,filter_options:n,id:r||"",product_filter_type:null!=i?i:1,title:"",label:o||""}:null}function I(e,t){var r=e.id,n=e.filterOptions,o=e.label,a=e.productFilterType;return n?{filter_component_type:t.filterComponentType,filter_options:(0,i.Z)(s.Z,!0)(n),id:r||"",product_filter_type:null!=a?a:1,title:"",label:o||""}:null}function T(e){var t=e.id,r=e.filter_options,n=e.label,o=e.product_filter_type;return{action:{},disabled:!1,display:{},isSelected:!1,id:t,filterOptions:(0,i.Z)(l.Z,!0)(r),label:n,productFilterType:o}}function D(e,t,r){var o=c(r,4),i=o[0],a=o[1],l=o[2],s=o[3],u=(null!=s?s:i).numeric_value,d=void 0===u?0:u,f=(null!=l?l:a).numeric_value,p=void 0===f?d+n.$:f,h=i.unit,b=e.filters[t]||{min:d,max:p,id:t,type:"range"};return{defaultMax:p,defaultMin:d,unit:void 0===h?"USD":h,range:b}}function k(e){return"multi"!==e.type?e:h(h({},e),{},{selectedOptionIds:new Set})}function z(e,t){var r=[];return Object.keys(t).forEach(function(n){var o=e.find(function(e){return(null==e?void 0:e.id)===n}),i=t[n];if(o){var a,l=null===(a=o.aux_data)||void 0===a?void 0:a.module_id;l&&r.push(l);var s=("multi"===i.type?Array.from(i.selectedOptionIds):"single"===i.type?[i.selectedOptionId]:[]).map(function(e){var t,r=o.filter_options.find(function(t){return t.id===e});return(null==r?void 0:null===(t=r.aux_data)||void 0===t?void 0:t.module_id)||""}).filter(Boolean);r.push.apply(r,function(e){if(Array.isArray(e))return f(e)}(s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||d(s)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}}),r}},822311:function(e,t,r){"use strict";r.d(t,{Z:function(){return F}});var n=r(672652),o=r(684404),i=r(29156),a=r(401429),l=r(930837),s=r(444781),c=r(608516),u=r(325362),d=r(244413),f=r(118923),p=r(832853),h=r(819267);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function _(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){y(i,n,o,a,l,"next",e)}function l(e){y(i,n,o,a,l,"throw",e)}a(void 0)})}}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g=(0,n.lazy)(function(){return r.e(74826).then(r.bind(r,457805))}),x=(0,p.Z)(function(){return r.e(74826).then(r.bind(r,457805))},{ssr:!1}),P=(0,n.lazy)(function(){return r.e(65468).then(r.bind(r,765468))}),j=(0,p.Z)(function(){return r.e(65468).then(r.bind(r,765468))},{ssr:!1}),w=(0,n.lazy)(function(){return Promise.all([r.e(81132),r.e(40169)]).then(r.bind(r,629087))}),S=(0,p.Z)(function(){return Promise.all([r.e(81132),r.e(40169)]).then(r.bind(r,629087))},{ssr:!1}),O=(0,n.lazy)(function(){return Promise.all([r.e(53081),r.e(36403)]).then(r.bind(r,453081))}),A=(0,p.Z)(function(){return Promise.all([r.e(53081),r.e(36403)]).then(r.bind(r,453081))},{ssr:!1}),C=(0,n.lazy)(function(){return r.e(52190).then(r.bind(r,752190))}),E=(0,p.Z)(function(){return r.e(52190).then(r.bind(r,752190))},{ssr:!1}),I=(0,n.lazy)(function(){return Promise.all([r.e(97270),r.e(5315),r.e(7936)]).then(r.bind(r,394966))}),T=(0,p.Z)(function(){return Promise.all([r.e(97270),r.e(5315),r.e(7936)]).then(r.bind(r,394966))},{ssr:!1}),D=(0,n.lazy)(function(){return r.e(77804).then(r.bind(r,77804))}),k=(0,p.Z)(function(){return r.e(77804).then(r.bind(r,77804))},{ssr:!1}),z=(0,n.lazy)(function(){return r.e(11408).then(r.bind(r,311408))}),R=(0,p.Z)(function(){return r.e(11408).then(r.bind(r,311408))},{ssr:!1}),B=(0,n.lazy)(function(){return r.e(64996).then(r.bind(r,264996))}),M=(0,p.Z)(function(){return r.e(64996).then(r.bind(r,264996))},{ssr:!1}),L=(0,n.lazy)(function(){return r.e(12e3).then(r.bind(r,612e3))}),N=(0,p.Z)(function(){return r.e(12e3).then(r.bind(r,612e3))},{ssr:!1}),Z=[505420,506249,505933,506173,506124,506436];function F(e){var t=e.placementId,r=(0,f.b)();return(0,h.jsx)(n.Fragment,{children:(0,h.jsx)(a.Z,{eligibleIds:[501312,500331,502271,504032,504569,504721,505039,505093,505420,506249,505933,506173,506124,506436],placementId:t,children:function(e){var n=e.complete,a=e.dismiss,f=e.experience,p=f.experience_id,b=f.display_data,y=r?function(e){switch(e){case 504721:return R;case 504569:return k;case 504032:return M;case 502271:return j;case 505039:return S;case 505093:return N;default:return x}}(p):function(e){switch(e){case 504721:return z;case 504569:return D;case 504032:return B;case 502271:return P;case 505039:return w;case 505093:return L;default:return g}}(p),m=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(p);return(0,h.jsxs)(o.xu,{children:[!Z.includes(p)&&(0,h.jsx)(l.ZP,{accessibilityModalLabel:"",onDismiss:a,size:m,children:r?(0,h.jsx)(y,v(v({},(0,s.Z)(u.Z)(b)),{},{experienceId:p,handleComplete:n,handleDismiss:a,placementId:t})):(0,h.jsx)(c.Z,{children:(0,h.jsx)(y,v(v({},(0,s.Z)(u.Z)(b)),{},{experienceId:p,handleComplete:n,handleDismiss:a,placementId:t}))})}),506124===p&&(r?(0,h.jsx)(A,v({handleComplete:n,handleDismiss:a,isDesktop:!0,isGooglePrimary:!0},(0,s.Z)(u.Z)(b))):(0,h.jsx)(c.Z,{children:(0,h.jsx)(O,v({handleComplete:n,handleDismiss:a,isDesktop:!0,isGooglePrimary:!0},(0,s.Z)(u.Z)(b)))})),506173===p||506436===p&&(r?(0,h.jsx)(A,v({handleComplete:n,handleDismiss:a,isDesktop:!0,isGooglePrimary:!1},(0,s.Z)(u.Z)(b))):(0,h.jsx)(c.Z,{children:(0,h.jsx)(O,v({handleComplete:n,handleDismiss:a,isDesktop:!0,isGooglePrimary:!1},(0,s.Z)(u.Z)(b)))})),505420===p&&(r?(0,h.jsx)(T,{experienceId:505420,onSubmitSurvey:_(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,i.Z)((0,d.Z)({site:"www",path:"/business/marketing-plan"}));case 1:case"end":return e.stop()}},e)})),placementId:t,viewType:251}):(0,h.jsx)(c.Z,{children:(0,h.jsx)(I,{experienceId:505420,onSubmitSurvey:_(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,i.Z)((0,d.Z)({site:"www",path:"/business/marketing-plan"}));case 1:case"end":return e.stop()}},e)})),placementId:t,viewType:251})})),506249===p&&(r?(0,h.jsx)(T,{experienceId:506249,onSubmitSurvey:_(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,i.Z)((0,d.Z)({site:"www",path:"/business/marketing-plan"}));case 1:case"end":return e.stop()}},e)})),placementId:t,viewType:251}):(0,h.jsx)(c.Z,{children:(0,h.jsx)(I,{experienceId:506249,onSubmitSurvey:_(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,i.Z)((0,d.Z)({site:"www",path:"/business/marketing-plan"}));case 1:case"end":return e.stop()}},e)})),placementId:t,viewType:251})})),505933===p&&(r?(0,h.jsx)(E,{handleComplete:function(){n(),(0,i.Z)((0,d.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:a,onAdsReportingSurface:!1}):(0,h.jsx)(c.Z,{children:(0,h.jsx)(C,{handleComplete:function(){n(),(0,i.Z)((0,d.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:a,onAdsReportingSurface:!1})}))]})}})})}},636259:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(995917);function o(){var e=(0,n.Z)({name:"ApiResource",options:{url:"/v3/users/me/boards/soft_deleted/",data:{fields:["board.image_cover_url","board.id","board.name","board.pin_count","board.section_count","board.url"]}}});return{recentlyDeletedBoards:e.data,isLoaded:e.isLoaded,refreshRecentlyDeletedBoards:e.refresh}}},611311:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(684404),o=r(140017),i=r(819267);function a(e){var t=e.children,r=e.onClick,a=e.isSelected,l=(0,o.ZP)(),s=a?l._('Drag and drop selected item', 'BulkEditPinWrapper.tapArea.selectedAccessibilityLabel', 'Label for selected item that can be dragged and dropped.'):l._('Drag and drop deselected item', 'BulkEditPinWrapper.tapArea.deselectedAccessibilityLabel', 'Label for deselected item that can be dragged and dropped.');return(0,i.jsxs)(n.xu,{position:"relative",children:[(0,i.jsx)(n.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,i.jsx)(n.iP,{accessibilityLabel:s,fullHeight:!0,fullWidth:!0,onTap:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),r()},rounding:2})}),(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:t})]})}},200154:function(e,t,r){"use strict";r.d(t,{H$:function(){return P},MY:function(){return x},ZP:function(){return j}});var n=r(672652),o=r(684404),i=r(140017),a=r(339001),l=r(819267);function s(e){var t=e.shouldBlock,r=e.updateShouldBlock,n=e.user,s=(0,i.ZP)(),c=n.fullName,u=n.username,d=c?"".concat(c," (").concat(u,")"):u;return(0,l.jsxs)(o.xu,{paddingY:3,children:[(0,l.jsx)(o.xv,{size:"100",children:(0,a.nk)(s._('Block {{ name }}', 'reportModal.detailPage.userBlockSwitch.heading', 'Block a user heading, name:Display name of user to be blocked'),{name:d})}),(0,l.jsxs)(o.xu,{direction:"row",display:"flex",paddingY:2,children:[(0,l.jsx)(o.xu,{marginEnd:2,children:(0,l.jsx)(o.XZ,{checked:t,id:"blockUser",onChange:r})}),(0,l.jsx)(o.xu,{children:(0,l.jsx)(o.xv,{size:"300",children:(0,a.nk)(s._('If you block {{ nameLink }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'reportModal.detailPage.userBlockSwitch.blockingExplanation', 'Explanation of blocking a user, nameLink:Display name of user to be blocked with a link to their profile'),{nameLink:(0,l.jsx)(o.xv,{inline:!0,size:"300",weight:"bold",children:(0,l.jsx)(o.rU,{display:"inlineBlock",href:"/".concat(u),onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:d},"blockUserLink")})})})})]})]})}var c={listStyleType:"disc",marginLeft:"18px",fontSize:"16px"};function u(e){var t=e.objectToReport,r=e.selectedReason,n=e.shouldBlockUser,i=e.renderVideoReasonDetailPage,a=e.updateShouldBlockUser,u=r.detail_page_removal_examples,d=r.detail_page_removal_example_header,f=r.detail_page_non_removal_examples,p=r.detail_page_non_removal_example_header,h=r.detail_page_additional_text;return(0,l.jsxs)(o.xu,{paddingX:8,children:[(0,l.jsxs)(o.xu,{paddingY:3,children:[(0,l.jsx)(o.xv,{size:"100",children:d}),u.length>0&&(0,l.jsx)(o.xu,{paddingY:2,children:(0,l.jsx)("ul",{children:u.map(function(e,t){return(0,l.jsx)("li",{style:c,children:(0,l.jsx)(o.xv,{size:"300",children:e})},"removals-".concat(t))})})})]}),f.length>0&&(0,l.jsxs)(o.xu,{paddingY:3,children:[(0,l.jsx)(o.xv,{size:"100",children:p}),(0,l.jsx)(o.xu,{paddingY:2,children:(0,l.jsx)("ul",{children:f.map(function(e,t){return(0,l.jsx)("li",{style:c,children:(0,l.jsx)(o.xv,{size:"300",children:e})},"removals-".concat(t))})})})]}),h&&(0,l.jsx)(o.xu,{paddingY:3,children:(0,l.jsx)(o.xv,{size:"300",children:h})}),i&&i(),"conversation"===t.type&&a&&t.userToBlock&&(0,l.jsx)(s,{shouldBlock:!!n,updateShouldBlock:a,user:{username:t.userToBlock.username,fullName:t.userToBlock.fullName}})]})}var d=r(214877);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e){var t=e.isSelectionStep,r=e.hasTimestampErrors,n=e.selectedReason,a=e.handleSubmitReport,s=e.onDismiss,c=e.step,u=e.shouldBlockUser,f=e.objectToReport,p=e.setStep,b=(0,i.ZP)(),y=(0,d.v)().logContextEvent,_=function(e){var t=e.component,r=e.element,n=e.event;f&&y({event_type:n,component:t,element:r,object_id_str:f.id,view_parameter:f.viewParameter||void 0,view_type:f.viewType||void 0})},m=function(e){f.type===P.PIN&&_({event:59,element:e.element_type}),window.open(e.open_web_url,"_blank"),s()},v=function(e){return function(){e!==x&&_(h({event:101,component:13179},n?{element:n.element_type}:{})),p(e)}},g=t&&!(null!=n&&n.key)||!t&&r,j=!(!1===c&&null!=n&&n.secondary_reasons&&n.secondary_reasons.length>0),w=t?b._('Next', 'ReportModal.nextButton', 'Button to progress to next screen in report flow'):b._('Report', 'ReportModal.submitButton', 'Button text to submit a report'),S=t?v(!1):function(){n&&a(h(h({reasonKey:n.key},{selectedReason:n}),{shouldBlockUser:u}))};null!=n&&n.open_web_url&&(S=function(){return m(n)});var O=t?b._('Cancel', 'ReportModal.cancelButton', 'Cancel button'):b._('Back', 'ReportModal.backButton', 'Back button'),A=t?s:v(!0);return(0,l.jsxs)(o.xu,{direction:"row",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,l.jsx)(o.xu,{paddingX:1,children:(0,l.jsx)(o.xu,{"data-test-id":"report-pin-back-button",children:(0,l.jsx)(o.zx,{onClick:A,size:"lg",text:O})})}),j&&(0,l.jsx)(o.xu,{paddingX:1,children:(0,l.jsx)(o.xu,{"data-test-id":"report-pin-submit-button",children:(0,l.jsx)(o.zx,{color:"red",disabled:null!=g&&g,onClick:S,size:"lg",text:w})})})]})}var y=r(577530);function _(e){var t=e.handleSelectedReason,r=e.reason,n=e.reportingReasons,a=(0,i.ZP)();return(0,l.jsx)(o.xu,{paddingX:4,paddingY:2,children:(0,l.jsx)(o.FX,{id:"select-reporting-reason",legend:a._('Select reporting reason', 'select_reporting_reason.legend', 'Description of Reporting reason'),legendDisplay:"hidden",children:n.map(function(e){return(0,l.jsx)(o.xu,{direction:"row",display:"flex",paddingX:4,children:(0,l.jsx)(o.xu,{"data-test-id":"report-pin-reason-".concat(e.key),children:(0,l.jsx)(o.FX.RadioButton,{checked:e.key===r,helperText:e.secondary_text||"",id:e.key,label:e.primary_text||"",name:"reportPinOptions",onChange:function(){return t(e)},value:e.key})})},"Option-".concat(e.key))})})})}var m=r(930837);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var x=!0,P={BOARD:"board",PIN:"pin",USER:"user",CONVERSATION:"conversation"};function j(e){var t=e.onDismiss,r=e.handleSubmitReport,a=e.hasTimestampErrors,s=e.objectToReport,c=e.renderVideoReasonDetailPage,d=e.reportingReasons,f=(0,i.ZP)(),p=v((0,n.useState)(null),2),h=p[0],g=p[1],j=v((0,n.useState)(!1),2),w=j[0],S=j[1],O=v((0,n.useState)(x),2),A=O[0],C=O[1],E=function(e){g(e)},I=function(){if(A!==x&&null!=h&&h.detail_page_header_text)return h.detail_page_header_text;switch(s.type){case P.PIN:return f._('Report Pin', 'pinReporting.heading', 'Modal heading for report pin flow');case P.USER:return f._('Report account', 'accountReporting.heading', 'Modal heading for report account flow');case P.CONVERSATION:return f._('Report conversation', 'conversationReporting.heading', 'Modal heading for report conversation flow');case P.BOARD:return f._('Report board', 'boardReporting.heading', 'Modal heading for board report flow');default:return""}};return d?(0,l.jsx)(m.ZP,{accessibilityModalLabel:I(),footer:d&&(0,l.jsx)(b,{handleSubmitReport:r,hasTimestampErrors:a,isSelectionStep:A===x,objectToReport:s,onDismiss:t,selectedReason:h,setStep:C,shouldBlockUser:w,step:A}),heading:I(),onDismiss:t,children:(0,l.jsxs)(o.xu,{children:[A===x&&(0,l.jsx)(_,{handleSelectedReason:E,reason:null==h?void 0:h.key,reportingReasons:d}),A!==x&&null!=h&&h.secondary_reasons&&h.secondary_reasons.length>0?(0,l.jsx)(y.Z,{onChange:E,secondaryReasons:h.secondary_reasons}):A!==x&&h&&(0,l.jsx)(u,{objectToReport:s,renderVideoReasonDetailPage:c,selectedReason:h,shouldBlockUser:w,updateShouldBlockUser:function(){s.userToBlock&&S(!w)}})]})}):(0,l.jsx)(o.$j,{accessibilityLabel:f._('Loading pin report modal', 'pinReporting.spinner', 'Accessibility label for spinner shown while reasons are loading'),show:!0})}},577530:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(684404),o=r(140017),i=r(819267);function a(e){var t=e.onChange,r=e.secondaryReasons,a=(0,o.ZP)();return(0,i.jsx)(n.xu,{children:r.map(function(e){return(0,i.jsx)(n.iP,{onTap:function(){return e.open_web_url?window.open(e.open_web_url,"_blank"):t(e)},children:(0,i.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,i.jsx)(n.xu,{paddingX:8,children:(0,i.jsx)(n.xv,{children:e.primary_text})}),(0,i.jsx)(n.xu,{paddingX:8,children:e.open_web_url?(0,i.jsx)(n.JO,{accessibilityLabel:a._('Visit for more information', 'pinReporting.secondaryReason.outsideLink.icon', 'Visit outside link for more information'),color:"default",icon:"arrow-up-right"}):(0,i.jsx)(n.JO,{accessibilityLabel:a._('Select this reason', 'pinReporting.secondaryReason.modalPageLink.icon', 'Choose this reason'),color:"default",icon:"arrow-forward"})})]})},e.key)})})}},481177:function(e,t){"use strict";t.Z={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},901855:function(e,t,r){"use strict";r.d(t,{Hv:function(){return b},aX:function(){return m},nK:function(){return v}});var n=r(672652),o=r(328038),i=r(342513),a=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p=(0,i.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),h=p.Provider,b=p.useHook,y=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function _(e,t){var r,n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(r=e.current)||void 0===r?void 0:r.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&y(e.forward[0].location)===y(n.location))return f(f({},e),{},{forward:e.forward.slice(1),current:f(f({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});return f(f({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(s(e.forward)):e.forward,current:f(f({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return f(f({},e),{},{forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return f(f({},e),{},{current:n});default:return e}}function m(){var e=b(),t=e.current,r=e.previous;return(0,n.useMemo)(function(){return t?r.concat(t):r},[t,r])}function v(e){var t,r=e.children,i=(0,o.k6)(),l=(0,o.TH)(),s=(0,o.$B)(),u={forward:[],current:{action:i.action,location:l,match:s},previous:[]},d=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(_,u))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||c(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],p=d[1];return(0,n.useEffect)(function(){p({type:i.action,location:l,match:s})},[l]),(0,a.jsx)(h,{value:f,children:r})}},406893:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}}),r(823364);var n=r(819267),o=["css","unsafeCSS"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=c(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var u=function(){var e,t;function r(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}return e=[{key:"toString",value:function(){return this._private_safe_value}}],t=[{key:"factory",value:function(e){return e instanceof r?e:new r(String(e))}}],e&&s(r.prototype,e),t&&s(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function d(e){var t=e.css,r=e.unsafeCSS,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,o),l=String(t||"")||r||"";return l?(0,n.jsx)("style",a(a({},i),{},{dangerouslySetInnerHTML:{__html:String(u.factory(l))}})):null}},420240:function(e,t,r){"use strict";var n,o,i=r(107366);function a(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}var l=(n=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)({url:"/v3/board/".concat(t,"/report_reasons/")});case 2:return r=e.sent,e.abrupt("return",r.resource_response.data);case 4:case"end":return e.stop()}},e)}),o=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function l(e){a(i,r,o,l,s,"next",e)}function s(e){a(i,r,o,l,s,"throw",e)}l(void 0)})},function(e){return o.apply(this,arguments)});t.Z=l},329456:function(e,t,r){"use strict";var n,o,i=r(107366);function a(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}var l=(n=regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)({url:"/v3/board/".concat(t,"/flag/"),method:"POST",data:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),o=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function l(e){a(i,r,o,l,s,"next",e)}function s(e){a(i,r,o,l,s,"throw",e)}l(void 0)})},function(e,t){return o.apply(this,arguments)});t.Z=l},302607:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(454514),o=r(140017),i=r(13848),a=r(819267);function l(){var e=(0,o.ZP)(),t=(0,i.F9)().showToast;return{showErrorToast:function(){t(function(t){var r=t.hideToast;return(0,a.jsx)(n.ZP,{onHide:r,text:e._('Something went wrong.', 'fetchReportingReasons.Toast.Unsuccessful', 'Toast after fetching reporting reasons is unsuccessful')})})},showSuccessToast:function(){t(function(t){var r=t.hideToast;return(0,a.jsx)(n.ZP,{onHide:r,text:e._('Thanks! Your feedback helps us improve Pinterest.', 'userReporting.handleSubmitReport.toast', 'toast after reporting a user successfully')})})}}}},934378:function(e,t,r){"use strict";r.d(t,{$N:function(){return h},Cu:function(){return y},GY:function(){return c},MZ:function(){return a},NR:function(){return d},Vn:function(){return u},bC:function(){return b},fm:function(){return n},kM:function(){return i},q6:function(){return o},qp:function(){return s},uV:function(){return f},ug:function(){return p},xL:function(){return l}});var n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},o={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},i={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},a={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud"},l={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},c={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},u={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},d={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},f="604800",p="86400",h={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},b="click",y="view"},693323:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};function o(e){var t=e.window,r=e.duration,o=e.run,i=n(),a=0,l=null,s=function e(){var s=n()-i,c=s-a;if(r===1/0)o(0,s,c);else{var u=s/r;if(u>=1){o(1,s,c);return}o(u,s,c)}a=s,l=t.requestAnimationFrame(e)};return{start:function(){l=t.requestAnimationFrame(s)},cancel:function(){l&&(t.cancelAnimationFrame(l),l=null)}}}},860208:function(e,t,r){"use strict";function n(e){return[0,24,21,26].includes(e)}function o(e){var t=e.articleType,r=e.id,n=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===t?"/today/shop/".concat(n,"/").concat(r,"/"):"/discover/article/".concat(n,"/").concat(r,"/")}r.d(t,{x:function(){return o},y:function(){return n}})},551539:function(e,t,r){"use strict";function n(e,t){return e.isAuth&&t===e.id}r.d(t,{Z:function(){return n}})},67030:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(481177);function o(e){return e===n.Z.BoardPrivacy.SECRET}},367106:function(e,t,r){"use strict";function n(e,t){return!!(t.isAuth&&e)}r.d(t,{Z:function(){return n}})},580716:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(551539),o=r(367106);function i(e,t,r){return(0,n.Z)(r,t)||(0,o.Z)(e,r)}},849118:function(e,t,r){"use strict";r.d(t,{P:function(){return s},Z:function(){return u}});var n,o=r(672652);r(42279);var i=r(551539),a=r(367106),l=r(207012),s=function(e){var t,r,n=e.action,o=e.viewer,l=e.board;return!!l&&((0,i.Z)(o,null===(t=l.owner)||void 0===t?void 0:t.entityId)||(0,a.Z)(l.collaboratedByMe,o)&&!!(null!==(r=l.collaboratorPermissions)&&void 0!==r&&r.includes(n)))},c=void 0!==n?n:n=r(261526);function u(e){var t,r,n=e.boardKey,i=(0,l.Z)(c,n),a=null!==(t=null==i?void 0:null===(r=i.owner)||void 0===r?void 0:r.entityId)&&void 0!==t?t:"",u=(0,o.useMemo)(function(){return null==i?void 0:i.collaboratorPermissions},[null==i?void 0:i.entityId]);return{canPerformAction:(0,o.useCallback)(function(e){return s({action:e.action,viewer:e.viewer,board:{collaboratedByMe:null==i?void 0:i.collaboratedByMe,collaboratorPermissions:u,owner:a?{entityId:a}:null}})},[null==i?void 0:i.collaboratedByMe,u,a])}}},207229:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(672652),o=r(71328);function i(e){var t=(0,o.Z)(e,200);return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}function a(){return window.innerWidth}function l(){return window.innerHeight}function s(){return null}function c(){var e=(0,n.useSyncExternalStore)(i,l,s),t=(0,n.useSyncExternalStore)(i,a,s);return null!==e&&null!==t?{height:e,width:t}:null}},259866:function(e,t,r){"use strict";function n(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function e(t,r){if(null==t||"object"!==i(t)&&"function"!=typeof t)return t;var a,l=r.find(function(e){return e.value===t});if(l)return l.result;var s=Object.prototype.toString.call(t);switch(s){case"[object Array]":a=Array(t.length);break;case"[object Set]":a=new Set;break;case"[object Object]":case"[object Arguments]":a={};break;case"[object Map]":a=new Map;break;default:return t}var c=[].concat(function(e){if(Array.isArray(e))return o(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||n(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{value:t,result:a}]);switch(s){case"[object Array]":t.forEach(function(t,r){a[r]=e(t,c)});break;case"[object Set]":t.forEach(function(t){a.add(e(t,c))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(function(t){var r=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||n(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1];a[o]=e(i,c)});break;case"[object Map]":t.forEach(function(t,r){a.set(r,e(t,c))})}return a}(e,[])}r.d(t,{Z:function(){return a}})},717203:function(e,t,r){"use strict";r.d(t,{Z:function(){return u},w:function(){return d}});var n=r(339001),o=function(e){return e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)')},i=function(e){return e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)')},a=function(e){return e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)')},l=function(e){return e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)')},s=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)')},c=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)')};function u(e,t){var r={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,n.nk)(o(t),r);case 2:return(0,n.nk)(i(t),r);case 3:return(0,n.nk)(a(t),r);case 4:return(0,n.nk)(l(t),r);case 5:return(0,n.nk)(s(t),r);case 6:return(0,n.nk)(c(t),r);default:return(0,n.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'),r)}}function d(e,t){var r={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,n.nk)(o(t),r);case 2:return(0,n.nk)(i(t),r);case 3:return(0,n.nk)(a(t),r);case 4:return(0,n.nk)(l(t),r);case 5:return(0,n.nk)(s(t),r);case 6:return(0,n.nk)(c(t),r);case 7:return(0,n.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'),r);default:return(0,n.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)'),r)}}},549629:function(e,t,r){"use strict";r.d(t,{Q:function(){return d},Z:function(){return f}});var n=r(672652),o=r(587703),i=r(525364),a=r(996523),l=r(5859);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){var r=(0,i.sV)().setViewContextData,s=(0,l.B)().requestIdentifier,c=(0,o.Z)(),d=(0,i.SU)().viewData;(0,n.useEffect)(function(){if(e){var t;r({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c(u(u({},e),{},{event_type:13,request_identifier:s}))}},[t])}function f(e){var t=e.children;return d(e.log),t||null}},214877:function(e,t,r){"use strict";r.d(t,{B:function(){return c},v:function(){return s}});var n=r(525364),o=r(342513),i=r(819267),a=(0,o.Z)("ContextLogger"),l=a.Provider,s=a.useHook;function c(e){var t=e.children,r=e.value,o=(0,n.sV)().setViewContextData;return r.injectSetViewContextDataFromHook=o,(0,i.jsx)(l,{value:r,children:t})}},587703:function(e,t,r){"use strict";var n=r(214877);t.Z=function(){return(0,n.v)().logContextEvent}},525364:function(e,t,r){"use strict";r.d(t,{BE:function(){return h},Ih:function(){return b},SU:function(){return y},sV:function(){return p}});var n,o=r(672652),i=r(342513),a=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,i.Z)("View"),f=d.Provider,p=d.useHook;function h(){return n}function b(e){var t,r=e.children,i=e.initialState,l=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(void 0===i?{}:i))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=l[0],d=l[1],p=(0,o.useCallback)(function(){n={},(0,o.startTransition)(function(){d({})})},[]),h=(0,o.useCallback)(function(e){n=c(c({},n),e),(0,o.startTransition)(function(){d(function(t){return c(c({},t),e)})})},[]),b=(0,o.useMemo)(function(){return{viewContextData:s,clearViewContextData:p,setViewContextData:h}},[s,h,p]);return(0,a.jsx)(o.Fragment,{children:(0,a.jsx)(f,{value:b,children:r})})}function y(){return p().viewContextData}},342513:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(672652);function o(e,t){var r="consumer"===t?"".concat(e,"Consumer"):"use".concat(e);return"\n  ".concat(r," must be used within a ").concat(e,"Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.\n  ")}function i(e,t){var r,i,a=(0,n.createContext)(t),l=((i=(i=e.slice(1)).endsWith("Context")?i:"".concat(i,"Context"),r)?{hocDisplayName:"with".concat(e[0].toUpperCase()).concat(i,"(").concat(r,")")}:{propsDisplayName:"".concat(e[0].toLowerCase()).concat(i),messageDisplayName:"".concat(e[0].toUpperCase()).concat(i)}).messageDisplayName;a.displayName=l;var s=a.Provider,c=function(e){var t=e.children,r=(0,n.useContext)(a);if(void 0===r)throw Error(o(l,"consumer"));return t(r)},u=function(){return(0,n.useContext)(a)};return s.displayName="".concat(l,"Provider"),c.displayName="".concat(l,"Consumer"),{Provider:s,Consumer:c,MaybeConsumer:function(e){return(0,e.children)((0,n.useContext)(a))},useMaybeHook:u,useHook:function(){var e=u();if(void 0===e)throw Error(o(l,"hook"));return e}}}},11109:function(e,t){"use strict";t.Z=function(e){return Math.floor(new Date(e).getTime()/1e3)}},105737:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!a(e[n],t[n],r+1))return!1;return!0}function i(e,t,r){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!(n in t)||!a(e[n],t[n],r+1))return!1;return!0}function a(e,t,r){if(r>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!==n(e)&&"object"!==n(t))return e!=e&&t!=t;var a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(t))return!1;switch(a){case"[object Array]":return o(e,t,r);case"[object Set]":return o(Array.from(e).sort(),Array.from(t).sort(),r);case"[object Object]":case"[object Arguments]":return i(e,t,r);case"[object Map]":return i(Object.fromEntries(e),Object.fromEntries(t),r);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function l(e,t){return a(e,t,0)}r.d(t,{ZP:function(){return l},qP:function(){return o}})},541841:function(e,t,r){"use strict";var n=r(672652),o=r(843362);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(p,e);var t,r,d,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=c(p);if(t){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return u(s(e=f.call.apply(f,[this].concat(r))),"observer",null),u(s(e),"handleVisibilityChanged",function(t,r){e.props.onVisibilityChange(t,r)}),e}return r=[{key:"componentDidMount",value:function(){var e=o.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}},{key:"render",value:function(){return n.Children.only(this.props.children)}}],a(p.prototype,r),d&&a(p,d),Object.defineProperty(p,"prototype",{writable:!1}),p}(n.Component);t.Z=f},847160:function(e,t,r){"use strict";r.d(t,{Bx:function(){return o},N4:function(){return a},is:function(){return l},lt:function(){return n},oM:function(){return i}});var n=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},o=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},i=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},a=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},l=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')}},515278:function(e,t,r){"use strict";var n=r(847160),o=r(140017),i=r(166770);t.Z=function(){var e=(0,i.H)(),t=e.loginForMore,r=e.viewer,a=e.limitedLoginModalSubheader,l=(0,o.ZP)();return"AUTH"===r.type?null:function(e){null==t||t.setVisible(!0),null==a||a.setText((null==e?void 0:e.loginModalHeader)||(0,n.lt)(l))}}},776569:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(672652),o=r(684404),i=r(693323),a=r(55202),l=r(983983),s=r(819267);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(l,e);var t,r,n,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=p(l);if(t){var n=p(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(f(e=a.call.apply(a,[this].concat(r))),"state",{visible:!1}),h(f(e),"setRef",function(t){e.element||(e.element=t,null==t||t.addEventListener("dragover",e.handleDragOver),null==t||t.addEventListener("dragleave",e.handleDragLeave))}),h(f(e),"handleDragOver",function(){var t=e.props.placement;if(!e.scrollAnimationManager){var r="top"===t?-1:1;e.scrollAnimationManager=(0,i.Z)({window:window,duration:1/0,run:function(e,t,n){window.scrollTo(0,window.scrollY+(t<500?.8:1.2000000000000002)*r*n)}}),e.scrollAnimationManager.start()}}),h(f(e),"handleDragLeave",function(){e.scrollAnimationManager&&e.scrollAnimationManager.cancel()}),h(f(e),"element",null),h(f(e),"visibleTimeout",null),e}return r=[{key:"componentDidMount",value:function(){var e=this;this.visibleTimeout=window.setTimeout(function(){return e.setState({visible:!0})},500)}},{key:"componentWillUnmount",value:function(){var e=this.element;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),this.scrollAnimationManager&&this.scrollAnimationManager.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.props,t=e.height,r=e.placement,n=this.state.visible;return(0,s.jsx)(o.xu,{bottom:"bottom"===r,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:n?"visible":"hidden"}},height:t,left:!0,position:"fixed",right:!0,top:"top"===r,children:(0,s.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}],u(l.prototype,r),n&&u(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function _(e){var t=e.noStickyHeader?0:l.hu;return(0,s.jsx)(a.Z,{children:(0,s.jsx)(o.mh,{children:(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(y,{height:120+t,placement:"top"}),(0,s.jsx)(y,{height:120,placement:"bottom"})]})})})}},718545:function(e,t,r){"use strict";r.d(t,{y:function(){return d}});var n=r(672652),o=r(223795),i=r(262040),a=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n.key),n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=u(i);if(t){var n=u(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.connectDragSource,o=t.connectDropTarget,i=t.isDragging,l=t.isDraggingInternal,s=t.isDropTargetOnly,c=o((0,a.jsx)("div",{ref:function(t){return e.targetEl=t},style:{opacity:i||l?0:1},children:r}));return s?c:n(c)}}],s(i.prototype,r),n&&s(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);t.Z=(0,i.compose)((0,o.GR)(function(e){return e.type},{hover:function(e,t,r){var n=e.index;(0,e.onDragHover)(n,function(e,t){var r=t.targetEl;if(!(r&&r instanceof HTMLElement))return null;var n=e.getClientOffset(),o=n.x,i=n.y,a=r.getBoundingClientRect();return{positionRelativeToCenter:{x:o-(a.left+a.right)/2,y:i-(a.top+a.bottom)/2},boundingBox:{width:a.width,height:a.height}}}(t,r))}},function(e){return{connectDropTarget:e.dropTarget()}}),(0,o.Ej)(function(e){return e.type},{beginDrag:function(e){var t=e.index;return(0,e.onDragBegin)(t),{index:t}},endDrag:function(e,t){return(0,e.onDragEnd)(t.didDrop())}},function(e,t){return{connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()}}))(f)},853703:function(e,t,r){"use strict";function n(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function o(e){var t=e.hoverRelativePosition,r=t.positionRelativeToCenter.x,n=t.boundingBox.width;return Math.abs(r)<(e.centerEnabled?.5*n:0)/2?"center":r<0?"left":"right"}function i(e){var t=e.hoverLocation,r=t.itemIndex,n=t.regionWithinItem,o=e.sourceIndex;if("center"===n||r===o)return r;var i="left"===n;return r<o===i?r:i?r-1:r+1}r.d(t,{Lz:function(){return n},TI:function(){return o},X3:function(){return i}})},187958:function(e,t,r){"use strict";var n=r(223795),o=r(182967);t.Z=(0,n.Z5)(o.ZP)},507584:function(e,t,r){"use strict";var n=r(223795),o=r(262040),i=r(187958);t.Z=function(e){return function(t){return(0,o.compose)(i.Z,(0,n.GR)(e,{},function(e,t){return{connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()}}))(t)}}},103322:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(672652),o=r(701785),i=r(953565);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,e);var t,r,n,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=u(p);if(t){var n=u(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(c(e=f.call.apply(f,[this].concat(r))),"state",{error:null,info:null}),d(c(e),"resetError",function(){e.setState({error:null,info:null})}),e}return r=[{key:"componentDidCatch",value:function(e,t){try{var r,n=this.props.name,a=this.props.type||"secondary";(0,o.T)({extraData:null!==(r=e.extraData)&&void 0!==r?r:{},errorBoundary:n,errorBoundaryType:a,message:e.message,name:e.name,stack:e.stack}),(0,i.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,i.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,r=t.error,n=t.info;return r&&n?e?e({error:r,info:n,resetError:this.resetError}):null:this.props.children}}],l(p.prototype,r),n&&l(p,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(n.Component)},510989:function(e,t,r){"use strict";var n=r(103322);t.Z=n.Z},401429:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(672652),o=r(780277),i=r(587703),a=r(25919),l=r(216167),s=function(e,t,r,n){return function(o,i){return function(s){if(o&&o.id){var c=l.Z.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then(function(){s((0,a.fO)()),r&&n&&r({event_type:n,object_id_str:o.id.toString()})});break;case"completed":c.callUpdate().then(function(){i||s((0,a.fO)()),r&&n&&r({event_type:n,object_id_str:o.id.toString()})});break;case"viewed":c.callUpdate().then(function(){r&&n&&r({event_type:n,object_id_str:o.id.toString()})})}}}}},c=s("UserExperienceResource","dismissed"),u=r(819267);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return(t=x(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,r,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=v(a);if(t){var n=v(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(m(e=i.call.apply(i,[this].concat(r))),"state",{hasCompleted:[],hasDismissed:[]}),g(m(e),"view",function(){var t=e.props,r=t.experience,n=t.isBackendExperience,o=t.targeting,i=t.viewExperience,a=t.viewExperienceObject;r&&"viewed"!==r.status&&(n?(r.status="viewed",a(r)):o?i(r.placement_id,r.experience_id,o):i(r.placement_id,r.experience_id))}),g(m(e),"complete",function(t){var r=e.props,n=r.completeExperience,o=r.completeExperienceObject,i=r.experience,a=r.isBackendExperience,l=r.preventRemoval,s=r.targeting,c=t||1;if(i&&!e.state.hasCompleted.includes(i.experience_id)){var u=i||{},d=u.placement_id,f=u.experience_id,p=l||2===c;(1===c||p)&&d&&f&&(a?o(i,p):s?n(d,f,p,s):n(d,f,p),e.setState(function(e){return{hasCompleted:[].concat(h(e.hasCompleted),[f])}}))}}),g(m(e),"dismiss",function(){var t=e.props,r=t.dismissExperience,n=t.dismissExperienceObject,o=t.experience,i=t.isBackendExperience,a=t.preventRemoval,l=t.targeting,s=o||{},c=s.placement_id,u=s.experience_id;o&&!e.state.hasDismissed.includes(u)&&(i?n(o):l?r(c,u,!!a,l):r(c,u,!!a),e.setState(function(e){return{hasDismissed:[].concat(h(e.hasDismissed),[u])}}))}),g(m(e),"isEligibleExperience",function(){var t=e.props.experience;if(!t)return!1;var r=e.props,n=r.eligibleIds,o=r.eligibleTypes,i=r.predicate,a=r.transitionType,l=t.experience_id,s=t.type;return n&&n.length?n.includes(l):o&&o.length?o.includes(s):i?i(t):!a||a===s}),e}return r=[{key:"componentDidMount",value:function(){!this.props.disableAutoView&&this.props.experience&&this.isEligibleExperience()&&this.view()}},{key:"componentDidUpdate",value:function(e){if(!this.props.disableAutoView){var t=e.experience,r=this.props.experience;r&&this.isEligibleExperience()&&(t&&t.experience_id===r.experience_id||this.view())}}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.experience,o=e.disableAutoView;return r&&this.isEligibleExperience()?"function"==typeof t?t(p({experience:r,complete:this.complete,dismiss:this.dismiss},o?{view:this.view}:Object.freeze({}))):n.Children.only(t):null}}],y(a.prototype,r),o&&y(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function j(e){var t=(0,o.useSelector)(function(t){var r=t.experiences;return e.experience||(e.placementId?r[e.placementId]:void 0)}),r=(0,o.useDispatch)(),n=(0,a.be)(),l=(0,a.Am)(),d=(0,a.Ig)(),f=(0,i.Z)();return(0,u.jsx)(P,p(p({},e),{},{completeExperience:function(e,t,o,i){return r(n(e,t,o,!1,{},i))},completeExperienceObject:function(e,t){return r(s("UserExperienceCompletedResource","completed",f,6567)(e,t))},dismissExperience:function(e,t,n,o){return r(l(e,t,n,void 0,o))},dismissExperienceObject:function(e){return r(c(e))},experience:t,viewExperience:function(e,t,n){return r(d(e,t,!1,!1,void 0,n))},viewExperienceObject:function(e){return r(s("UserExperienceViewedResource","viewed",f,4503)(e))}}))}g(P,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},179370:function(e,t,r){"use strict";r.d(t,{F:function(){return m},M:function(){return _}});var n=r(672652),o=r(780277),i=r(262040),a=r(342513),l=r(25919),s=r(957753),c=r(819267);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){var n;return(n=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===u(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var b=(0,a.Z)("ExperienceContext"),y=b.Provider,_=b.useHook;function m(e){var t,r=e.children,a=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(function(e,t){if("MOUNT_PLACEMENT"===t.type)return f(f({},e),{},{mountedPlacements:f(f({},e.mountedPlacements),{},p({},t.payload,!0))});if("UNMOUNT_PLACEMENT"===t.type){var r=f({},e);return delete r.mountedPlacements[t.payload],delete r.registerdAfterActionPlacements[t.payload],r}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?f(f({},e),{},{registerdAfterActionPlacements:f(f({},e.registerdAfterActionPlacements),{},p({},t.payload,!0))}):e},{mountedPlacements:{},registerdAfterActionPlacements:{}}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=a[0],d=a[1],b=u.mountedPlacements,_=u.registerdAfterActionPlacements,m=(0,o.useDispatch)(),v=(0,o.useSelector)(function(e){return e.experiences}),g=(0,l.be)(),x=(0,l.Am)(),P=(0,l.Ig)(),j=(0,n.useMemo)(function(){var e=(0,i.bindActionCreators)({completeExperience:g,dismissExperience:x,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:P},m);return f(f({},e),{},{mountPlacement:function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.mountPlacement.apply(e,[t].concat(n)),d({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:function(e){d({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:function(e){d({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}})},[g,x,m,d,P]),w=(0,n.useMemo)(function(){return f({experiences:v,mountedPlacements:b,registerdAfterActionPlacements:_},j)},[v,b,_,j]);return(0,c.jsx)(y,{value:w,children:r})}},619370:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(672652),o=r(684404),i=r(401429),a=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(p,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=d(p);if(t){var n=d(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(u(e=i.call.apply(i,[this].concat(r))),"onScroll",function(){var t=e.props.dismiss;e.dismissed||e.timer||(e.timer=setTimeout(function(){t(),e.dismissed=!0,e.timer=void 0},3e3))}),f(u(e),"dismissed",!1),e}return r=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.anchor,r=e.text,n=e.thumbnails,i=e.idealDirection,l=n.slice(-3);return(0,a.jsx)(o.J2,{anchor:t,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(o.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(o.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(o.xv,{color:"default",weight:"bold",children:r})}),(0,a.jsx)(o.xu,{display:"flex",marginEnd:-2,paddingX:2,children:l.map(function(e){return(0,a.jsx)(o.xu,{height:60,paddingX:1,width:50,children:(0,a.jsx)(o.zd,{height:60,rounding:2,children:(0,a.jsx)(o.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)})})]})})}}],s(p.prototype,r),n&&s(p,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(n.PureComponent),b=r(76561),y=["scroll_to_dismiss","scroll_to_dismiss_delay_in_seconds"];function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(c,e);var t,r,l,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=x(c);if(t){var n=x(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return P(g(e=s.call.apply(s,[this].concat(r))),"dismissRef",(0,n.createRef)()),P(g(e),"state",{paused:!1}),P(g(e),"dismissCb",function(){var t,r;null===(t=(r=e.dismissRef).current)||void 0===t||t.call(r)}),P(g(e),"handlePulsarClick",function(t,r){t?e.setState({paused:!0}):r()}),e}return r=[{key:"componentWillUnmount",value:function(){var e=this.props.anchor;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}},{key:"setDefaultPulsarTooltip",value:function(e){var t=function(e){return null!=e};e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}},{key:"getText",value:function(e,t,r){return(t&&e.text.replace("{boardName}",t),r)?r(e):e.text}},{key:"render",value:function(){var e=this,t=this.props,r=t.anchor,l=t.customWrapper,s=t.experienceIds,c=t.boardTextOverride,u=t.flyoutSize,d=t.fontSize,f=t.hasFullWidthButton,p=void 0===f||f,_=t.idealDirection,m=t.useMasonryFlyout,v=t.noClickToDismiss,g=t.onClickComplete,x=t.onClickDismiss,P=t.placementId,j=t.positionRelativeToAnchor,w=t.shouldSeeReturnToHomeFeedTooltipEdu,S=void 0!==w&&w,O=t.shouldTimeoutDismiss,A=t.showCaret,C=t.textAlign,E=t.textOverflow,I=t.textOverrideFn,T=t.textWeight,D=t.customizedComplete,k=t.pulsarZIndex,z=t.advertiserId,R=t.dismissButtonLocation,B=t.dismissButtonColor,M=t.dismissButtonMarginTop,L=l||function(e){var t=e.children;return m?(0,a.jsx)(o.mh,{children:t}):t};return(0,a.jsx)(i.Z,{eligibleIds:s,eligibleTypes:[8],placementId:P,targeting:z?{advertiserId:parseInt(z,10)}:null,children:function(t){var i=t.complete,l=t.dismiss,s=t.experience,f=s.display_data,P=f.scroll_to_dismiss,w=f.scroll_to_dismiss_delay_in_seconds,z=void 0===w?0:w,N=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(f,y),Z=P&&r,F=function(){U(),e.timer||(e.timer=setTimeout(l,1e3*z))},U=function(){Z&&(window.removeEventListener("scroll",F),window.removeEventListener("touchmove",F))},H=function(){U(),i()};if(Z&&(window.addEventListener("scroll",F),window.addEventListener("touchmove",F)),e.setDefaultPulsarTooltip(N),!N.has_pulsar&&!N.has_tooltip)return H(),null;O&&N.disappearTime&&N.disappearTime>0&&(e.timer=setTimeout(function(){return F(),null},N.disappearTime));var G=501041===s.experience_id||505086===s.experience_id;return N.has_tooltip&&!N.has_pulsar&&(e.dismissRef.current=F,null==r||r.addEventListener("click",e.dismissCb)),(0,a.jsxs)(n.Fragment,{children:[N.has_pulsar&&(0,a.jsx)(b.Z,{anchor:r,leftOverride:G?342:void 0,onTouch:function(){return e.handlePulsarClick(N.has_tooltip,H)},paused:e.state.paused,topOverride:G?-5:void 0,zIndex:k&&k.index()}),N.has_tooltip&&(!N.has_pulsar||e.state.paused)&&(N.thumbnail_urls?(0,a.jsx)(h,{anchor:r,dismiss:F,idealDirection:_||"down",text:N.text,thumbnails:N.thumbnail_urls}):(0,a.jsx)(L,{children:(0,a.jsx)(o.J2,{_deprecatedShowCaret:A,anchor:r,color:"deprecatedBlue",idealDirection:_||"down",onDismiss:v?function(){}:F,positionRelativeToAnchor:!m&&j,shouldFocus:!1,size:u,children:(0,a.jsxs)(o.xu,{column:12,paddingX:S?5:3,paddingY:3,children:[(0,a.jsxs)(o.xv,{align:"right"===C?"end":C,color:"inverse",overflow:E,size:d,weight:T||"bold",children:[e.getText(N,c,I),N.secondary_cta_link&&(0,a.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(o.xv,{color:"inverse",size:d,weight:"bold",children:(0,a.jsx)(o.rU,{display:"inlineBlock",href:N.secondary_cta_link.url,target:"blank",underline:"hover",children:N.secondary_cta_link.text})})})]}),N.sub_text&&(0,a.jsx)(o.xu,{paddingY:2,children:(0,a.jsx)(o.xv,{color:"inverse",size:d,children:N.sub_text})}),(N.dismiss_button_text||N.complete_button_text)&&(0,a.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:R||"start",marginTop:M||2,children:[N.dismiss_button_text&&(0,a.jsx)(o.xu,{column:6,marginEnd:1,children:(0,a.jsx)(o.zx,{color:B||"blue",fullWidth:p,onClick:function(){x&&x(),F()},size:"md",text:N.dismiss_button_text})}),N.complete_button_text&&(0,a.jsx)(o.xu,{column:N.dismiss_button_text?6:12,children:D?(0,a.jsx)(o.iP,{fullHeight:!0,onTap:function(){H(),g&&g()},rounding:2,children:(0,a.jsx)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,a.jsx)(o.xv,{color:"shopping",weight:"bold",children:N.complete_button_text})})}):(0,a.jsxs)(o.kC,{justifyContent:"center",children:[N.complete_button_cta_url&&(0,a.jsx)(o.ZP,{color:"white",fullWidth:p,href:N.complete_button_cta_url,onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),H(),g&&g()},size:"md",target:N.complete_button_cta_url?"blank":null,text:N.complete_button_text}),!N.complete_button_cta_url&&(0,a.jsx)(o.zx,{color:"white",fullWidth:p,onClick:function(){H(),g&&g()},size:"md",text:N.complete_button_text})]})})]})]})})}))]})}})}}],m(c.prototype,r),l&&m(c,l),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);P(w,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},71024:function(e,t,r){"use strict";var n=r(401429),o=r(547130),i=r(819267);t.Z=function(e){var t=e.anchors,r=e.idealDirection,a=e.onCompleteByAnchor,l=e.placementId,s=e.positionRelativeToAnchor,c=e.touchToDismiss,u=e.useMasonryFlyout;return(0,i.jsx)(n.Z,{placementId:l,predicate:function(e){var r=e.display_data;if((null==r?void 0:r.component_type)===2){var n=r.anchors_by_platform;if(null!=n&&n.web){var o=n.web,i=o.anchor;return o.placement===l&&i in t}}return!1},children:function(e){var n=e.complete,l=e.dismiss,d=e.experience;return(0,i.jsx)(o.Z,{anchors:t,complete:n,dismiss:l,displayData:d.display_data,idealDirection:r,onCompleteByAnchor:a,platform:"web",positionRelativeToAnchor:s,touchToDismiss:c,useMasonryFlyout:u})}})}},25919:function(e,t,r){"use strict";r.d(t,{Am:function(){return x},Ig:function(){return v},N:function(){return S},Sd:function(){return P},YX:function(){return w},be:function(){return g},fO:function(){return y},kd:function(){return j},pz:function(){return _}});var n,o=r(672652),i=r(216167),a=r(587703),l=r(703404),s=r(957753),c=r(107366),u=r(953565);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,u.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:r})},y=function(e,t){return function(r){var n=t?{extra_context:e,targeting:t}:{extra_context:e};return i.Z.create("UserExperiencePlatformResource",n).callGet().then(function(e){return e.resource_response?r((0,s.OD)(e.resource_response.data)):void 0})}},_=function(e,t,r,o){return function(a,c){if(t)return Promise.resolve();if(o&&(n=o),1===e.length){var u=e[0],d=c().experiences[u];if(JSON.stringify((null==d?void 0:d.extraContext)||null)===JSON.stringify(r)||(0,l.E3)(d)&&!(r&&Object.keys(r).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:r||null,targeting:o}).callGet().then(function(e){return e.resource_response?a((0,s.cL)(e.resource_response.data)):void 0})}},m=function(e,t,r,o){return function(a,l,c){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0;return function(p,h){var b,_=h(),m=_.experiences,v=_.experiencesMulti,g=null,x=!0;if(u||(g=(x=m[a]&&m[a].experience_id===l)?m[a]:Array.isArray(v[a])&&(null===(b=v[a])||void 0===b?void 0:b.find(function(e){return e.experience_id===l}))),g&&g.experience_id===l||u&&a&&l){var P=i.Z.create(e,{placed_experience_id:"".concat(a,"%3A").concat(l),extra_context:null!=d?d:{},targeting:f}),j=x?s.Yb:s.xW;switch(t){case"dismissed":return P.callDelete().then(function(){p(j(a,l,t)),p(y(void 0,n)),r&&o&&r({event_type:o,object_id_str:l.toString()})});case"completed":return P.callUpdate().then(function(){!c&&(p(j(a,l,t)),p(y(void 0,n)),r&&o&&r({event_type:o,object_id_str:l.toString()}))});case"viewed":return p(j(a,l,t)),P.callUpdate().then(function(){1000162===a&&p(y()),r&&o&&r({event_type:o,object_id_str:l.toString()})});case"completedWithoutHomefeed":return P.callUpdate().then(function(){c||p(j(a,l,t)),r&&o&&r({event_type:o,object_id_str:l.toString()})})}}return Promise.resolve()}}},v=function(){var e=(0,a.Z)();return(0,o.useCallback)(m("UserExperienceViewedResource","viewed",e,4503),[e])},g=function(){var e=(0,a.Z)();return(0,o.useCallback)(m("UserExperienceCompletedResource","completed",e,6567),[e])},x=function(){var e=(0,a.Z)();return(0,o.useCallback)(m("UserExperienceResource","dismissed",e,6568),[e])},P=function(){var e=(0,a.Z)();return(0,o.useCallback)(m("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},j=function(e,t){return function(r,n){var o=n().experiences[e];o&&o.triggerable_placed_exps&&o.triggerable_placed_exps.length&&o.triggerable_placed_exps.forEach(function(r){var n,i=(function(e){if(Array.isArray(e))return e}(n=r.split(":"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(n,2)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],a=t;o.metadata&&o.metadata[i]&&(a=p(p({},t),o.metadata[i])),(0,c.Z)({url:"/v3/experiences/".concat(r.replace(":","%3A"),"/trigger/"),method:"PUT",data:a?{extra_context:JSON.stringify(a,null,1)}:{}}).then(function(){b("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})}},w=function(e){return function(t,r){return t(j(e)),r().experiences[e]}},S=function(e,t,r){return function(o){r&&(n=r),o(j(e,t)),t&&Object.keys(t).length>0&&o(_([e],!1,t,r))}}},703404:function(e,t,r){"use strict";r.d(t,{A0:function(){return c},E3:function(){return l},MQ:function(){return s},fL:function(){return u}});var n=r(684404),o=r(862249),i=r(819267);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e){return!!e&&0!==e.type}var s=function(e,t,r){var n=e[r];return t[r]&&l(n)?n:null};function c(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}var u=function(e){var t,r,l=((function(e){if(Array.isArray(e))return a(e)})(r=(null===(t=new DOMParser().parseFromString(e,"text/html").body)||void 0===t?void 0:t.childNodes)||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){if("A"!==e.nodeName)return(0,i.jsx)(n.xv,{inline:!0,children:e.textContent});var t=e.href||"",r=(0,o.Z)({url:t});return(0,i.jsx)(n.rU,{display:"inline",externalLinkIcon:r?"default":"none",href:t,rel:r?"nofollow":"none",target:"blank",children:e.textContent})});return(0,i.jsx)(n.xv,{inline:!0,children:l})}},26616:function(e,t,r){"use strict";r.d(t,{$S:function(){return n},V$:function(){return o},_4:function(){return a},iY:function(){return l},mR:function(){return i}});var n="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",l="UPDATE_EXPERIENCE"},957753:function(e,t,r){"use strict";r.d(t,{NW:function(){return a},OD:function(){return s},Yb:function(){return l},cL:function(){return c},xW:function(){return i}});var n=r(216167),o=r(26616),i=function(e,t,r){return{type:o.V$,payload:{placementId:e,experienceId:t,status:r}}},a=function(e){return function(t){return n.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(function(e){var r;return e.resource_response?t((r=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:r}})):void 0})}},l=function(e,t,r){return{type:o.iY,payload:{placementId:e,experienceId:t,status:r}}},s=function(e){return{type:o._4,payload:{experiences:e}}},c=function(e){return{type:o.mR,payload:{experiences:e}}}},76561:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(684404),o=r(672652),i=r(819267);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e){var t=e.anchor,r=e.children,l=e.zIndex,s=e.leftOverride,c=e.topOverride,u=(0,o.useRef)(null),d=a((0,o.useState)(0),2),f=d[0],p=d[1],h=a((0,o.useState)(0),2),b=h[0],y=h[1],_=t.getBoundingClientRect(),m=_.height,v=_.width;return(0,o.useEffect)(function(){var e=u.current;if(t&&e){var r=e.getBoundingClientRect(),n=r.height,o={horizontalOffset:-(r.width/2-v/2),verticalOffset:-(n/2-m/2)},i=o.horizontalOffset,a=o.verticalOffset;p(i),y(a)}}),(0,i.jsx)(n.xu,{ref:u,dangerouslySetInlineStyle:{__style:{left:s||f,top:c||b}},"data-test-id":"center-box",position:"absolute",zIndex:l?new n.Ry(l):void 0,children:r})}var c=function(e){var t=e.anchor,r=e.leftOverride,o=e.onTouch,a=e.onMouseEnter,l=e.paused,c=e.size,u=e.topOverride,d=e.zIndex;return t?(0,i.jsx)(s,{anchor:t,leftOverride:r,topOverride:u,zIndex:d,children:(0,i.jsx)(n.iP,{fullWidth:!1,onMouseEnter:a,onTap:function(e){return o(e.event)},rounding:"circle",children:(0,i.jsx)(n.o3,{paused:l,size:c})})}):null}},547130:function(e,t,r){"use strict";var n=r(672652),o=r(684404),i=r(76561),a=r(819267),l=new o.Ry(669),s={1:"up",2:"right",3:"down",4:"left"};t.Z=function(e){var t,r=e.anchors,c=e.complete,u=e.dismiss,d=e.displayData,f=e.idealDirection,p=e.onCompleteByAnchor,h=e.platform,b=e.positionRelativeToAnchor,y=void 0===b||b,_=e.touchToDismiss,m=void 0===_||_,v=e.useMasonryFlyout,g=void 0!==v&&v,x=d||{},P=x.anchors_by_platform,j=x.button_text,w=x.button_uri,S=x.display_type,O=x.flyout_direction,A=x.scroll_to_dismiss,C=x.scroll_to_dismiss_delay_in_seconds,E=void 0===C?0:C,I=x.text,T=null===(t=(void 0===P?{}:P)[h])||void 0===t?void 0:t.anchor,D=(void 0===r?{}:r)[T],k=(0,n.useCallback)(function(){A&&(window.removeEventListener("scroll",k),window.removeEventListener("touchmove",k)),m&&D&&D.removeEventListener("click",k),setTimeout(function(){return u()},1e3*E)},[D]);if((0,n.useEffect)(function(){D&&(A&&(window.addEventListener("scroll",k),window.addEventListener("touchmove",k)),m&&D.addEventListener("click",k))},[D]),!D)return null;var z=function(e){var t=e.children;if(g)return(0,a.jsx)(o.mh,{zIndex:l,children:t});if(2!==S)return(0,a.jsx)(o.xu,{zIndex:l,children:t});var r={};if(y)r.top=D.offsetTop,r.left=D.offsetLeft,r.width=D.offsetWidth,r.height=D.offsetHeight;else{var n=D.getBoundingClientRect();r.top=n.top+window.pageYOffset,r.left=n.left+window.pageXOffset,r.width=n.width,r.height=n.height}return(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:r},left:!0,position:"absolute",top:!0,zIndex:l,children:t})},R=s[O],B=w&&(w.startsWith("https://")||w.startsWith("http://")),M=((void 0===p?{}:p)||{})[T],L=function(){A&&(window.removeEventListener("scroll",k),window.removeEventListener("touchmove",k)),m&&D.removeEventListener("click",k),c()};return(0,a.jsxs)(n.Fragment,{children:[2===S&&(0,a.jsx)(z,{children:(0,a.jsx)(i.Z,{anchor:D,onTouch:function(){L(),M?M():D instanceof HTMLElement&&D.click()},zIndex:670})}),1===S&&(0,a.jsx)(z,{children:(0,a.jsx)(o.J2,{_deprecatedShowCaret:!0,anchor:D,color:"deprecatedBlue",idealDirection:R||f||"down",onDismiss:k,positionRelativeToAnchor:!g&&y,shouldFocus:!1,size:"md",children:(0,a.jsxs)(o.xu,{padding:4,width:"220px",children:[(0,a.jsx)(o.xv,{align:"center",color:"inverse",weight:"bold",children:I}),j?(0,a.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,a.jsx)(o.xu,{column:8,children:w?(0,a.jsx)(o.ZP,{color:"white",fullWidth:!0,href:w,onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),L()},size:"md",target:B?"blank":null,text:j}):(0,a.jsx)(o.zx,{color:"white",fullWidth:!0,onClick:L,size:"md",text:j})})}):null]})})})]})}},190971:function(e,t,r){"use strict";r.d(t,{c:function(){return b}});var n=r(672652),o=r(328038),i=r(179370),a=r(96157),l=r(624797),s=r(554786);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f=function(e,t){var r;return((0,a.XU)(e)&&null!==(r=e.state)&&void 0!==r&&r.from&&(e=e.state.from),(0,a.HV)(e))?t?1000503:1000558:(0,a.En)(e)?t?1000506:1000559:(0,a.L6)(e)?t?1000141:1000494:void 0},p=function(e,t){if(t&&(0,a.L6)(e))return 1000564},h=function(e,t){if(t){if((0,a.HV)(e))return 1000541;if((0,a.En)(e))return 1000542;if((0,a.L6)(e))return 1000140}else if((0,a.HV)(e))return 1000544;else if((0,a.En)(e))return 1000543;else if((0,a.L6)(e))return 1000540},b=function(){var e=(0,i.M)(),t=e.mountPlacement,r=e.registerdAfterActionPlacements,c=(0,s.HG)(),u=(0,o.TH)();return(0,n.useCallback)(function(e,n,o){var i;switch(e){case"Save":i=f(u,c);break;case"Download":(0,a.L6)(u)&&(i=c?1000499:1000500);break;case"Clickthrough":i=h(u,c);break;case"NoAction":i=p(u,c)}null!=i&&((0,a.En)(u)&&(n=d(d({},n),{},{search_query:(0,l.mB)(u.search)})),null!=i&&(r[i]||(0,a.XU)(u))&&t(i,n,o))},[r,t,u,c])}},200201:function(e,t,r){"use strict";r.d(t,{_:function(){return s},a:function(){return c}});var n=r(672652),o=r(780277),i=r(105737),a=r(25919),l=r(5859),s=function(e){var t=e.extraContext,r=e.id,s=e.shouldUsePlacedExperience,c=void 0===s||s,u=(0,n.useRef)(),d=(0,o.useDispatch)(),f=(0,l.B)().isBot,p=(0,o.useSelector)(function(e){return e.experiences[r]});return(0,n.useEffect)(function(){d((0,a.kd)(r))},[d,p,r]),(0,n.useEffect)(function(){c||(0,i.ZP)(u.current,t)||(d((0,a.pz)([r],f,t)),u.current=t)},[d,t,f,r,c]),p},c=function(e){return s(e),(0,o.useSelector)(function(t){return t.experiencesMulti[e.id]})}},321329:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(672652),o=r(179370),i=r(703404),a=r(5859);function l(e){var t=(0,o.M)(),r=t.mountedPlacements,l=t.completeExperience,s=t.dismissExperience,c=t.experiences,u=t.fetchAllExperiences,d=t.fetchAllExperiencesMulti,f=t.fetchExperienceForPlacements,p=t.triggerExperimentsForPlacement,h=t.viewExperience,b=(0,a.B)().isBot,y=e&&!b?(0,i.MQ)(c,r,e):null;return(0,n.useMemo)(function(){return{completeExperience:l,dismissExperience:s,experienceForPlacement:y,fetchAllExperiences:u,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:f,triggerExperimentsForPlacement:p,viewExperience:h}},[l,s,y,u,d,f,p,h])}},970521:function(e,t,r){"use strict";var n=r(672652),o=r(780277),i=r(105737),a=r(25919),l=r(179370),s=r(703404),c=r(5859),u=r(819267);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var g={dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return function(f){var v=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=arguments.length>4?arguments[4]:void 0,v=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(g,n);var o,l,c,v=(o=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=_(g);if(o){var r=_(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function g(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,g),m(y(t=v.call(this,e)),"state",{extraContext:void 0}),m(y(t),"setExtraContextState",function(e){(0,i.ZP)(t.state.extraContext,e)||t.setState({extraContext:e})}),t}return l=[{key:"componentDidMount",value:function(){this.dispatchPlacementMount()}},{key:"componentDidUpdate",value:function(r,n){var o=this.props,l=o.dispatch,s=o.experience,c=o.requestContext,u=n.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(u=t(r,n.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!(0,i.ZP)(u,d)&&l((0,a.pz)([e],c.isBot,d)),s&&(!r.experience||s.id!==r.experience.id)&&l((0,a.kd)(e,d))}},{key:"componentWillUnmount",value:function(){this.props.unmountPlacement(e)}},{key:"dispatchPlacementMount",value:function(){var n="function"==typeof t?t(this.props,this.state.extraContext||{}):p({},t),o=r&&null!=n&&n.advertiser_id?{advertiserId:n.advertiser_id}:void 0;this.props.mountPlacement(e,n,o)}},{key:"render",value:function(){var e=this.props,t=e.experience,n=e.experiencesMulti,o=m({},r?"advertiserExperience":"experience",(0,s.E3)(t)?t:null);return(0,u.jsx)(f,p(p(p({},this.props),{},{setPlacementExtraContext:this.setExtraContextState},o),{},{experiencesMulti:n}))}}],h(g.prototype,l),c&&h(g,c),Object.defineProperty(g,"prototype",{writable:!1}),g}(n.Component);function g(e){var t=(0,c.B)(),r=(0,o.useDispatch)(),n=(0,l.M)(),i=n.mountPlacement,a=n.unmountPlacement;return(0,u.jsx)(v,p(p({},e),{},{dispatch:r,mountPlacement:i,requestContext:t,unmountPlacement:a}))}return g.displayName="withPlacement(".concat(f.displayName||f.name||"Component",")"),g}(e,t,(r=p(p({},g),r)).dispatchMountActionDuringSSR,r.isAdvertiserPlacement,f),x=function(t){var r=(0,o.useSelector)(function(t){return t.experiences[e]}),n=(0,o.useSelector)(function(t){return t.experiencesMulti?t.experiencesMulti[e]:void 0});return(0,u.jsx)(v,p(p({},t),{},{experience:r,experiencesMulti:n}))};return x.displayName=v.displayName,x}}},41005:function(e,t,r){"use strict";var n=r(819267);t.Z=function(e){var t=e.size,r=void 0===t?56:t;return(0,n.jsxs)("svg",{display:"block",fill:"none",height:r,viewBox:"0 0 56 56",width:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,n.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},958399:function(e,t,r){"use strict";var n=r(819267);t.Z=function(e){var t=e.size,r=void 0===t?56:t;return(0,n.jsxs)("svg",{display:"block",fill:"none",height:r,viewBox:"0 0 56 56",width:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("rect",{fill:"#fff",height:"56",rx:"28",width:"56"}),(0,n.jsx)("rect",{height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4",width:"55",x:".5",y:".5"}),(0,n.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649_messenger)"}),(0,n.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(18.16 43.826) scale(34.8672)",gradientUnits:"userSpaceOnUse",id:"paint0_radial_3730_649_messenger",r:"1",children:[(0,n.jsx)("stop",{stopColor:"#09F"}),(0,n.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,n.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},329395:function(e,t,r){"use strict";var n=r(819267);t.Z=function(e){var t=e.size,r=void 0===t?56:t;return(0,n.jsxs)("svg",{display:"block",fill:"none",height:r,viewBox:"0 0 56 56",width:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("rect",{fill:"#25D366",height:"56",rx:"28",width:"56"}),(0,n.jsx)("path",{clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff",fillRule:"evenodd"})]})}},847069:function(e,t,r){"use strict";var n=r(696534),o=r(819267);t.Z=function(e){var t=e.size,r=void 0===t?56:t,i=(0,n.vs)();return(0,o.jsxs)("svg",{display:"block",fill:"none",height:r,viewBox:"0 0 56 56",width:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("rect",{fill:i?"white":"#111111",height:"56",rx:"28",width:"56"}),(0,o.jsx)("path",{d:"M30.3055 25.8561L40.505 14H38.088L29.2318 24.2945L22.1584 14H14L24.6964 29.5671L14 42H16.4171L25.7695 31.1287L33.2396 42H41.3979L30.3049 25.8561H30.3055ZM26.995 29.7042L25.9112 28.1541L17.288 15.8196H21.0005L27.9595 25.7739L29.0433 27.324L38.0892 40.2632H34.3767L26.995 29.7048V29.7042Z",fill:i?"#111111":"white"})]})}},807023:function(e,t,r){"use strict";r.d(t,{Q:function(){return a}});var n=r(42279),o=r(91402),i=r(333739);function a(e,t,r){var a=r.useLegacyAdapter;if(null==t)return{data:null,childDataKey__DEPRECATED:null};var l=(0,o.j)(t);if("deprecated"===l.type){var s=l.data;return null==s?{data:null,childDataKey__DEPRECATED:l}:{data:(0,i.V4)(e,a)(s),childDataKey__DEPRECATED:l}}var c=(0,n.useFragment)(e,l.data);return{data:c,childDataKey__DEPRECATED:{type:"graphqlRef",data:c}}}},388769:function(e,t,r){"use strict";var n=r(72461),o=r(5859),i=r(819267);t.Z=function(e){var t=e.currency,r=e.maximumFractionDigits,a=e.minimumFractionDigits,l=e.shortform,s=e.shortformMaximumFractionDigits,c=e.formatStyle,u=e.uplimit,d=e.value,f=(0,n.Z)();return(0,i.jsx)(o.LC,{children:function(e){return f(e.locale||"en-US",d,{currency:t,maximum_fraction_digits:r,minimum_fraction_digits:a,shortform:l,shortform_maximum_fraction_digits:s,style:c,uplimit:u})}})}},140017:function(e,t,r){"use strict";r.d(t,{oz:function(){return i},q6:function(){return o}});var n=(0,r(342513).Z)("i18n"),o=n.Provider,i=n.Consumer,a=n.useHook;t.ZP=a},184390:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(672652),o=r(843362),i=r(263032),a=r(214877),l=r(30378),s=r(369708),c=r(819267);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var v={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(s,e);var t,r,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=y(s);if(t){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function s(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),_(b(t=a.call(this,e)),"trackImpression",function(){try{var e=t.props.isPromoted;t.node=(0,o.findDOMNode)(b(t)),t.node instanceof HTMLElement&&(!e||t.node.getElementsByTagName("img").length>0)&&t.impressionsFramework.start(t.node).onExitViewport(t.logImpression).setDebugId(t.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),_(b(t),"logImpression",function(e){var r,n,o,a,l,s,c,u=t.props,d=u.carouselData,p=u.closeupImpressionType,h=u.closeupNavigationType,b=u.componentType,y=u.contextLogData,m=u.elementType,g=u.impressionAuxFields,x=u.impressionType,P=u.loggingId,j=u.objectIdStr,w=u.slotIndex,S=u.storyPinProductEventData,O=u.trackCarousel,A=u.viewData,C=u.viewParameter,E=u.viewType,I=u.logContextEvent,T=u.logMrcVideoAdEventOnPlay,D=v[x],k=D.idType,z=e.forcedExit&&"removed"===e.forcedExit?0:void 0,R=f(f((_(M={endTime:e.endTime},k,P),_(M,"slotIndex",w),_(M,"time",e.startTime),_(M,"renderDuration",e.endTime-e.startTime),_(M,"type",p),M),g),{},{forcedExit:z}),B={};if("Pin"===x&&(R=f(f({},R),{},{pinCellWidth:t.node.offsetWidth,pinCellHeight:t.node.offsetHeight,windowWidth:null===(L=window)||void 0===L?void 0:L.innerWidth,windowHeight:null===(N=window)||void 0===N?void 0:N.innerHeight}),null!=g&&g.chromeAraViewExp&&null!==(Z=t.props.pinData)&&void 0!==Z&&Z.isPromoted)){var M,L,N,Z,F,U,H,G,V,W,q,K=t.props.pinData.attributionSourceId;(0,i.YS)(x,null!==(F=t.props.pinData.isPromoted)&&void 0!==F?F:null,null!=K?K:null,null!==(U=t.props.pinData.link)&&void 0!==U?U:null,null!==(H=t.props.pinData.campaignId)&&void 0!==H?H:null,null!==(G=g.araAuxData)&&void 0!==G?G:null,null!==(V=t.props.pinData.advertiserId)&&void 0!==V?V:null,null!==(W=t.props.pinData.domain)&&void 0!==W?W:null,null!==(q=t.props.pinData.adDestinationUrl)&&void 0!==q?q:null,null==g?void 0:g.araHardcodedReportingUrlExp),B={is_arapi:!0,attribution_source_id:K||""}}if(!O){var Y={event_type:D.eventType,component:b,element:m,event_data:f(_({},D.impressionType,"Story"===x?R:[R]),S?{storyPinProductEventData:S}:{}),object_id_str:j,view_type:E,view_data:A||{},view_parameter:C,aux_data:f(f(f({},y),B),{},{closeup_navigation_type:h})};I(Y),T(Y)}d&&O&&I({event_type:7352,component:b,event_data:{pinCarouselSlotImpressions:[f(f({},R),"canonical"===d.type?{carouselDataId:Number(null!==(r=d.carouselId)&&void 0!==r?r:0),slotIndex:d.index,carouselSlotId:d.carouselSlots[null!==(n=d.index)&&void 0!==n?n:0]&&Number(d.carouselSlots[null!==(o=d.index)&&void 0!==o?o:0].slotId)}:{carouselDataId:Number(null!==(a=d.id)&&void 0!==a?a:0),carouselSlotId:(null===(l=d.carousel_slots)||void 0===l?void 0:l[null!==(s=d.index)&&void 0!==s?s:0])&&Number(d.carousel_slots[null!==(c=d.index)&&void 0!==c?c:0].id),slotIndex:d.index})]},object_id_str:j,view_type:E,view_data:A||{},view_parameter:C,aux_data:f(f({},y),B)})}),t.impressionsFramework=e.impressionsFramework||l.Z,t}return p(s.prototype,[{key:"componentDidMount",value:function(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}},{key:"componentDidUpdate",value:function(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}},{key:"componentWillUnmount",value:function(){var e=this.props.isPromoted;this.node instanceof HTMLElement&&(!e||this.node.getElementsByTagName("img").length>0)&&this.impressionsFramework.stop(this.node)}},{key:"render",value:function(){return n.Children.only(this.props.children)}}]),r&&p(s,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.Component);function x(e){var t=(0,a.v)().logContextEvent,r=(0,s.rG)().logMrcVideoAdEventOnPlay;return(0,c.jsx)(g,f(f({},e),{},{logContextEvent:t,logMrcVideoAdEventOnPlay:r}))}},579814:function(e,t,r){"use strict";var n=r(107366),o=r(624797);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=(0,o.mB)(window.location.search),r=t.invite_code;if(!r){e(t);return}var i=encodeURIComponent(encodeURIComponent(r));(0,n.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:i}})}},681508:function(e,t,r){"use strict";r.d(t,{Q4:function(){return d},Rq:function(){return i},Vf:function(){return a},ab:function(){return c},jd:function(){return l},nw:function(){return u},oy:function(){return s}});var n=r(658583),o=r(622541),i=function(e){return"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436},a=28,l=function(e){return window.innerHeight>=748&&i(e)},s=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},c=function(){n.t8(o.oj,String(!0),(0,n.kZ)(o.oj))},u=function(){return!!n.U2(o.oj)},d=function(){s()&&!u()&&(c(),"undefined"!=typeof window&&window.location.reload(!0))}},67288:function(e,t,r){"use strict";r.d(t,{P:function(){return i},Z:function(){return o}});var n=r(780277);function o(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function i(){var e=(0,n.useSelector)(function(e){return e.experiences});return!!e&&o(e)}},201417:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"object"===n(e)&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}r.d(t,{Z:function(){return o}})},179425:function(e,t,r){"use strict";r.r(t);var n=r(684404),o=r(213377),i=r(681508),a=r(403862),l=r(5859),s=r(819267);t.default=function(e){var t=e.children,r=e.dataLayoutShiftBoundaryId,c=e.hasFixedHeader,u=e.hasGutter,d=void 0===u||u,f=e.height,p=e.showKeychainError,h=e.useViewport,b=(0,l.B)(),y=(0,i.jd)(b.userAgent.platform)?i.Vf:0;return(0,s.jsx)(n.xu,{"data-layout-shift-boundary-id":r||"PageContainer",height:void 0!==h&&h?"calc(100vh - ".concat(y,"px)"):f,paddingX:d?o.D6:void 0,paddingY:void 0!==c&&c||void 0!==p&&p?void 0:3,children:(0,s.jsx)(a.C,{value:!!d,children:t})})}},403862:function(e,t,r){"use strict";r.d(t,{C:function(){return i},V:function(){return a}});var n=r(672652),o=(0,n.createContext)(!1),i=o.Provider,a=function(){return(0,n.useContext)(o)}},794658:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(953565);function o(e,t){return new Promise(function(r,o){if(document.querySelector('script[src="'.concat(e,'"]'))){var i=0;if("FACEBOOK"===t){if(window.FB)r();else var a=setInterval(function(){window.FB||20===i?(clearInterval(a),r()):(i+=1,(0,n.nP)("mweb.loadScript.facebook.tries_".concat(i),{sampleRate:.01}))},100)}else if("GSI"===t){if(window.google)r();else var l=setInterval(function(){window.google||20===i?(clearInterval(l),r()):(i+=1,(0,n.nP)("mweb.loadScript.gsi.tries_".concat(i),{sampleRate:.01}))},100)}else r()}else{var s=document.createElement("script");s.src=e,s.async=!0,s.addEventListener("load",function(){return r()}),s.addEventListener("error",o),document.getElementsByTagName("head")[0].appendChild(s)}})}},43665:function(e,t,r){"use strict";function n(e){var t=!1;return{promise:new Promise(function(r,n){e.then(function(e){return t?n({isCanceled:!0}):r(e)},function(e){return t?n({isCanceled:!0}):n(e)})}),cancel:function(){t=!0}}}r.d(t,{Z:function(){return n}})},891162:function(e,t,r){"use strict";r.d(t,{Q6:function(){return u},qe:function(){return s},yU:function(){return c}});var n=r(520893),o=function(e,t){return e.length===t.length&&e.every(function(e,r){return e===t[r]})},i=function(e){return e};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return function(n){var o=[];return function(){for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];var s=o.find(function(e){return t(e.args,r(a))});if(s)return s.result;var c=n.apply(void 0,a);return o.push({args:r(a),result:c}),e&&o.length>e&&o.shift(),c}}}var l=a();t.ZP=l;var s=a(1),c=a(void 0,o,function(e){return[JSON.stringify(e)]}),u=a(0,function(e,t){return e.length===t.length&&e.every(function(e,r){return(0,n.Z)(e,t[r])})})},444781:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(201417);function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(t,r){return e(r)};return function(e){return(function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(o){if(!(0,n.Z)(o))return r&&Array.isArray(o)?o.map(e(t,r)):o;var i={};return Object.keys(o).forEach(function(a){var l=t(o[a],a);(0,n.Z)(o[a])||r&&Array.isArray(o[a])?i[l]=e(t,r)(o[a]):i[l]=o[a]}),i}})(r,t)(e)}}},996523:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=a(t,r);return void 0!==l?l:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce(function(t,n,o){return t[o]=e(t[o],r[o],a),t},function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===o(t)&&r&&"object"===o(r)?Object.keys(r).reduce(function(t,n){return t[n]=e(t[n],r[n],a),t},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t)):r}}})},558273:function(e,t,r){"use strict";r.d(t,{NK:function(){return y},P6:function(){return a},ZE:function(){return h},Zt:function(){return b},_J:function(){return c},_S:function(){return _},cL:function(){return f},jL:function(){return s},oN:function(){return i},rM:function(){return p},sV:function(){return u},sY:function(){return d}});var n=r(115557);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=5e3,a=5e3/n.gJ,l=["Uploaded by user"],s=function(e,t){return!!t&&!e},c=function(e){return!!e&&5!==e},u=function(e){return["email","messages","deep_linking"].includes(e)},d=function(e){return!!e&&"gif"===e},f=function(e){var t=e.embedSrc,r=e.embedSubtype,n=e.embedType;return!!t&&!d(n)&&"pinstory"!==r},p=function(e){var t=e.link,r=e.mobileLink,n=e.trackedLink;return!r&&!n&&!t},h=function(e){return/pin.it/gim.test(e||"")},b=function(e){var t=e.link,r=e.mobileLink,n=e.origImageUrl,o=e.trackedLink;return r||o||t||n||""},y=function(e,t){return{deeplinkUri:{android:"pin/".concat(e,"/repin"),iOS:"repin/".concat(e)},mwebUri:{pathname:"/pin/".concat(e,"/repin/"),state:{trackingParams:t.state?t.state.trackingParams:""}}}};function _(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}}(l);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e===n)return!1}}catch(e){r.e(e)}finally{r.f()}return!0}},776427:function(e,t,r){"use strict";r.d(t,{GH:function(){return c},JF:function(){return m},Jb:function(){return h},MI:function(){return y},_V:function(){return u},sl:function(){return f},we:function(){return p}});var n=r(11109),o=r(107366),i=r(794658),a=r(990822),l=r(217058);function s(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}var c="274266067164",u=function(){return["public_profile","email","user_friends"]},d=["picture.type(large)","id","first_name","last_name","email","gender"],f=function(e){e&&(0,l.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,l.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:c,status:!0,xfbml:!0,version:"v2.7"})):e?(0,l.dy)({event:"global_object_not_found",provider:"facebook"}):(0,l.My)("pcons.non_autologin.fb.global_object_not_found")},p=function(e,t){return t&&(0,l.dy)({event:"load_script_start",provider:"facebook"}),(0,i.Z)((0,a.Z)(e),"FACEBOOK").then(function(){return f(t)})},h=function(){return new Promise(function(e){"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})},b=function(e){var t=e.userID,r=e.accessToken,o=e.data,i=o.birthday,a=o.email,l=o.first_name,s=o.gender,c=o.last_name,u=o.picture;return{type:"facebook",facebook_id:t,facebook_token:r,birthday:i?(0,n.Z)(i):void 0,email:a,first_name:l,gender:s,image_url:u&&!u.data.is_silhouette?u.data.url:void 0,last_name:c}};function y(e){return _.apply(this,arguments)}function _(){var e;return e=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:t,pii_safe_birthday:!0,fields:d}});case 2:return r=e.sent.resource_response.data||{},(0,l.My)(r?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),e.abrupt("return",{access_token:t,birthday:r.birthday,email:r.email,first_name:r.first_name,gender:r.gender,id:r.id,last_name:r.last_name,picture:r.picture});case 6:case"end":return e.stop()}},e)}),(_=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,l,"next",e)}function l(e){s(i,n,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}var m=function(){return new Promise(function(e){window.FB.login(e,{scope:u().join(",")})}).then(function(e){var t;return new Promise(function(r,n){if("connected"!==e.status){n({status:e.status||"unknown"});return}var o=e.authResponse,i=o.userID,a=o.accessToken;y(a).then(function(e){r({creds:{facebook_id:i,facebook_token:a,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:b({userID:i,accessToken:a,data:e})})},n)})})}},990822:function(e,t){"use strict";var r=function(e){var t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}};t.Z=function(e){return"//connect.facebook.net/".concat(r(e),"/sdk.js")}},340523:function(e,t,r){"use strict";r.d(t,{F:function(){return i},a:function(){return o}});var n=(0,r(342513).Z)("ExperimentContext"),o=n.Provider,i=n.useHook},466385:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r){var o=function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o.splice(t,1)[0];return o.splice(r,0,i),o}r.d(t,{Z:function(){return o}})},5859:function(e,t,r){"use strict";r.d(t,{B:function(){return b},LC:function(){return p},P2:function(){return f},fH:function(){return h},gf:function(){return y}});var n=r(672652),o=r(642190),i=r(520893),a=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,n.createContext)();function f(e){var t,r=e.children,l=e.initialValue,s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(l))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=s[0],p=s[1],h=(0,n.useMemo)(function(){return{requestContext:f,updateRequestContext:function(e){var t=c(c({},f),e);(0,i.Z)(f,e)||p(t),(0,o.J)(t)}}},[f]);return(0,a.jsx)(d.Provider,{value:h,children:r})}var p=function(e){var t=e.children,r=(0,n.useContext)(d);if(!r)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(r.requestContext)},h=function(e){var t=e.children,r=(0,n.useContext)(d);if(!r)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(r.requestContext)};function b(){var e=(0,n.useContext)(d);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function y(){var e=(0,n.useContext)(d);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},642190:function(e,t,r){"use strict";var n;function o(e){n=e}function i(){return n}r.d(t,{J:function(){return o},l:function(){return i}})},638747:function(e,t,r){"use strict";r.d(t,{UZ:function(){return m},Z8:function(){return v},my:function(){return g},vL:function(){return x}});var n=r(672652);r(780277);var o=r(216167),i=r(342513),a=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){var n;return(n=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===l(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t,r){var n,o,i=[].concat(function(e){if(Array.isArray(e))return f(e)}(n=null!==(o=t[e][r.payload.name])&&void 0!==o?o:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||d(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r.payload.handler]),a=c({},t);return a[e]=c(c({},t[e]),{},u({},r.payload.name,i)),a}function h(e,t,r){if(!t[e][r.payload.name])return t;var n=t[e][r.payload.name].filter(function(e){return e!==r.payload.handler}),o=c({},t);return o[e]=c(c({},t[e]),{},u({},r.payload.name,n)),o}var b=(0,i.Z)("ResourceContext"),y=b.Provider,_=b.useHook;function m(e){var t,r=e.children,i=e.resourceCreator,l=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(function(e,t){switch(t.type){case"addListener":return p("listeners",e,t);case"addMoreListener":return p("moreListeners",e,t);case"removeListener":return h("listeners",e,t);case"removeMoreListener":return h("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||d(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=l[0],c=s.listeners,u=s.moreListeners,f=l[1];o.Z.fetchCompleteCallback=function(e){var t=e.resource,r=e.options,n=e.response,o=e.normalizedResponse,i=e.refresh,a=e.resourceSchema;c[t]&&c[t].forEach(function(e){return e({isRefresh:i,normalizedResponse:o,options:r,schema:a,resource:t,response:n})})},o.Z.fetchMoreCompleteCallback=function(e){var t=e.resource,r=e.options,n=e.response,o=e.normalizedResponse,i=e.refresh,a=e.resourceSchema;u[t]&&u[t].forEach(function(e){return e({isRefresh:i,normalizedResponse:o,options:r,schema:a,resource:t,response:n})})};var b=(0,n.useMemo)(function(){return{listenerDispatch:f,resourceCreator:i}},[i]);return(0,a.jsx)(y,{value:b,children:r})}function v(e,t){var r=_().listenerDispatch;(0,n.useEffect)(function(){return r({type:"addListener",payload:{name:e,handler:t}}),function(){r({type:"removeListener",payload:{name:e,handler:t}})}})}function g(e,t){var r=_().listenerDispatch;(0,n.useEffect)(function(){return r({type:"addMoreListener",payload:{name:e,handler:t}}),function(){r({type:"removeMoreListener",payload:{name:e,handler:t}})}})}function x(){return _().resourceCreator}},154779:function(e,t,r){"use strict";function n(e,t){var r;if(e.error){var n=e.error,o=n.httpStatus,i=n.api_error_code,a=n.redirectUrl;(404===o||401===o&&7===i)&&(r={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===o&&a&&(r={pathname:a})}return r}r.d(t,{Z:function(){return n}})},995917:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(672652),o=r(780277),i=r(328038),a=r(288240),l=r(5859),s=r(227258),c=r(839967),u=r(638747),d=(0,r(342513).Z)("SuspensefulResource"),f=(d.Provider,d.useMaybeHook);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h={},b=function(e){var t=e.httpStatus;return!t||t>=500};function y(e){var t,r,d=null!=e?e:{name:"DisabledResource",options:null},y=d.enabledRouteRefresh,_=d.__unstableEnableSuspenseSupport,m=d.headers,v=d.name,g=d.noCache,x=d.options,P=d.schema;d.__unstableDisableSSR;var j=(t=f())?function(e){return t.addToBeSent(e)}:function(){},w=(0,u.vL)(),S=!e,O=(0,o.useDispatch)(),A=(0,a.Z)(x),C=(0,n.useRef)(null),E=(0,n.useRef)(),I=(0,i.k6)(),T=I&&"POP"!==I.action,D=function(e){return(e[v]||h)[A]||h},k=(0,o.useSelector)(function(e){return D(e.resources).nextBookmark}),z=(0,o.useSelector)(function(e){return D(e.resources).data}),R=(0,o.useSelector)(function(e){return D(e.resources).auxData}),B=(0,o.useSelector)(function(e){return D(e.resources).error}),M=(0,o.useSelector)(function(e){return!!D(e.resources).fetching}),L=!!B||void 0!==z,N=L&&!M&&k===c.q,Z=!!(L&&y&&T&&!S),F=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)(Z))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(r,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),U=F[0],H=F[1],G=(0,n.useCallback)(function(e){C.current=O((0,s.U)(v,{options:x,schema:P,bookmark:e,headers:m},w,j))},[O,v,A,P,m]),V=function(){C.current=O((0,s.b)(v,{options:x,schema:P,headers:m},w))},W=(0,l.B)().isBot,q=function(){if(!S&&E.current!==A){var e=void 0===E.current;E.current=A,!L&&!M||e&&B&&b(B)?G():(!W&&g||Z)&&V()}};(0,n.useEffect)(function(){_||q()}),_&&q();var K=(0,n.useCallback)(function(){S||(V(),H(!0))},[S,s.b,v,A,m,H]),Y=(0,n.useCallback)(function(){!k||N||M||S||G(k)},[S,G,k,N,M]);if(C.current){if(L&&!M)C.current=null;else if(_)throw C.current}var X=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:Y,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:K}),$={auxData:R,data:z,error:B,fetchMore:Y,isAtEnd:N,isFetching:M,isLoaded:L,isRefreshing:U,nextBookmark:k,refresh:K};return(0,o.shallowEqual)($,X.current)||(U&&(X.current.data||!Z)&&!(0,o.shallowEqual)($.data,X.current.data)&&($.isRefreshing=!1,H(!1)),X.current=$),X.current}},7829:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(995917),o=r(149722),i=r(328038),a=r(5859),l=r(554786),s=r(624797);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["getOptions","checkExperiments","disableFetch"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){var t,r,f,p,h,b,y,_,m,v,g,x,P,j,w,S,O,A,C,E,I,T,D,k=e.getOptions,z=e.checkExperiments,R=e.disableFetch,B=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,u),M=(p=(r={checkExperiments:z,disableFetch:R,viewer:{country:(t=(0,o.Z)()).country||void 0,id:t.id||void 0,isAuth:t.isAuth,isEmployee:!!t.isEmployee,isPartner:!!t.isPartner,username:t.username||void 0}}).checkExperiments,h=r.disableFetch,b=r.viewer,y=(0,i.TH)(),_=(0,i.$B)(),g=(v={advertiser:(m=(0,a.B)()).advertiser,deviceType:(0,l.Mq)(m),location:y,match:_,viewer:b,inviteCode:null!==(f=m.inviteCode)&&void 0!==f?f:""}).advertiser,x=v.deviceType,j=(P=v.location).pathname,w=P.search,S=v.inviteCode,A=(O=v.match).params,C=O.path,E=v.viewer,I={advertiser:g,deviceType:x,routeData:{inviteCode:S,matchPath:C,params:A,parsedSearch:(0,s.mB)(w),pathname:j,search:w},user:{country:E.country||void 0,id:E.id||void 0,isAuth:E.isAuth,isEmployee:!!E.isEmployee,isPartner:!!E.isPartner,username:E.username||void 0}},D=!!(T=!!h&&h(I))||!p||p(m.experimentsClient),{args:I,fetchDisabled:T||!D}),L=M.args,N=M.fetchDisabled,Z=k?k(L):void 0;return(0,n.Z)(N?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({options:Z},B))}},14583:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(672652),o=r(819267);function i(e){var t=e.children,r=e.fallback;return(0,o.jsx)(n.Suspense,{fallback:r||null,children:t})}},608516:function(e,t,r){"use strict";var n=r(14583);t.Z=n.Z},782005:function(e,t,r){"use strict";r.d(t,{Hd:function(){return c},_R:function(){return l},gi:function(){return i},lw:function(){return n},oD:function(){return o},wF:function(){return s},zh:function(){return a}});var n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins",MY_CONTENT:"my_content"},o=function(e){var t=Object.values(n).find(function(t){return t===e});return null!=t?t:void 0},i=function(e){switch(e){case n.PINS:return 0;case n.PINS_MINE:return null;case n.PINS_BUYABLE:return 1;case n.PINS_VIDEO:return 2;case n.BOARDS:return 3;case n.USERS:return 4;default:return null}},a=function(e){switch(e){case 0:return n.PINS;case 1:return n.PINS_BUYABLE;case 2:return n.PINS_VIDEO;case 3:return n.BOARDS;case 4:return n.USERS;default:return null}},l=function(e){switch(e){case n.PINS_MINE:case n.MY_CONTENT:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;case n.PINS:default:return 43}},s=function(e){switch(e){case n.PINS:return 60;case n.PINS_MINE:case n.MY_CONTENT:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},c=function(e,t){if(t)switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}switch(e){case n.USERS:return 1000432;case n.PINS_BUYABLE:return 1000433;case n.PINS:default:return 1000269}}},660980:function(e,t,r){"use strict";function n(e){return[e.category,e.domains,e.maxPrice,e.minPrice].map(function(e){return null!=e?e:""}).join("-")}r.d(t,{Z:function(){return n}})},314018:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(860208),o=r(337478);function i(e){var t=e.bubbleId,r=e.pinId,i=e.query,a=e.referringSource,l=e.storyCategory,s=e.storyId,c=e.title,u=[0,24,21,26].includes(l),d=(0,o.Z)({q:i,rs:a||void 0,b_id:t,source_id:s,top_pin_id:r}),f=u&&c?(0,n.x)({title:c,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return u?f:"/search/pins/".concat(d?"?"+d:"")}},203381:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(624797);function o(e,t){var r=(0,n.mB)(e);return r.utm_pai&&r.utm_source&&r.pid&&"pins"===t?r.pid:""}},447479:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});var n={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",VIDEO:"video"}},414630:function(e,t,r){"use strict";r.d(t,{Ht:function(){return i},Tb:function(){return o}});var n=r(447479);function o(e){var t=e.appliedFilters,r=e.appliedProductFilters,n=e.autoCorrectionDisabled,o=e.filters,i=e.query,a=e.scope,l=e.selectedPinImgSig,s=e.user,c=e.rs,u=[a,o,r,s,l,i,null!=t&&t.filters?t.filters.map(function(e){return null==e?void 0:e.filter_id}).join("-"):"",c].map(function(e){return null!=e?e:""}).join(":");return n?"auto-correction-disabled:"+u:u}function i(e){var t,r,o,i,a,l,s,c,u,d,f,p,h,b,y,_,m,v,g;return{name:"BaseSearchResource",options:(r=(t={appliedFilters:e.appliedFilters,appliedProductFilters:e.appliedProductFilters,autoCorrectionDisabled:!!e.autoCorrectionDisabled,bubbleId:e.bubbleId,domains:e.domains,filters:e.filters,firstPageSize:e.firstPageSize,guidedSearchQuery:e.guidedSearchQuery,pageSize:e.pageSize,priceMax:e.priceMax,priceMin:e.priceMin,query:e.query,rs:e.rs,scope:e.scope,selectedPinImgSig:e.selectedPinImgSig,topPinId:e.topPinId,user:e.user}).appliedFilters,o=t.appliedProductFilters,i=t.autoCorrectionDisabled,a=t.bubbleId,l=t.domains,s=t.filters,c=t.firstPageSize,u=t.pageSize,d=t.priceMax,f=t.priceMin,p=t.query,b=void 0===(h=t.rs)?n.i.DIRECT_NAVIGATION:h,y=t.scope,{applied_filters:void 0===r?null:r,appliedProductFilters:void 0===o?null:o,article:void 0===a?null:a,auto_correction_disabled:void 0!==i&&i,corpus:(m=void 0===(_=t.selectedPinImgSig)?null:_)?"personalize":null,customized_rerank_type:m?"manas_graph_sage_only_wand_rewrite":null,domains:void 0===l?null:l,filters:void 0===s?null:s,first_page_size:void 0===c?null:c,page_size:void 0===u?null:u,price_max:void 0===d?null:d,price_min:void 0===f?null:f,query_pin_sigs:m,query:void 0===p?null:p,redux_normalize_feed:!0,rs:b,scope:void 0===y?"pins":y,source_id:void 0===(v=t.sourceId)?null:v,top_pin_id:void 0===(g=t.topPinId)?null:g,user:t.user})}}},520893:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(Object.is(e,t))return!0;if("object"!==n(e)||null===e||"object"!==n(t)||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);return r.length===o.length&&r.every(function(r){return e[r]===t[r]})}r.d(t,{Z:function(){return o}})},498803:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){var o;return(o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(o)?o:String(o))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{LO:function(){return d},Pu:function(){return f},cc:function(){return c},dB:function(){return u},yF:function(){return p}});var i,a,l,s,c=(o(i={},10,13098),o(i,11,13099),o(i,6,13100),o(i,5,13101),o(i,14,13102),o(i,12,13103),o(i,15,13104),o(i,8,13105),o(i,4,13106),o(i,1,13107),o(i,3,13107),o(i,18,13108),o(i,19,13109),o(i,20,13110),o(i,21,13111),o(i,22,13112),o(i,23,13113),o(i,26,13114),o(i,27,13115),o(i,29,13116),o(i,9,13286),i),u=(o(a={},10,13415),o(a,11,13416),o(a,6,13417),o(a,5,13418),o(a,14,13419),o(a,12,13420),o(a,15,13421),o(a,8,13422),o(a,4,13423),o(a,1,13424),o(a,3,13424),o(a,18,13425),o(a,19,13426),o(a,20,13427),o(a,21,13428),o(a,22,13429),o(a,23,13430),o(a,26,13431),o(a,27,13432),o(a,29,13433),o(a,9,13434),a),d=(o(l={},10,13436),o(l,11,13437),o(l,6,13438),o(l,5,13439),o(l,14,13440),o(l,12,13441),o(l,15,13442),o(l,8,13443),o(l,4,13444),o(l,1,13445),o(l,3,13445),o(l,18,13446),o(l,19,13447),o(l,20,13448),o(l,21,13449),o(l,22,13450),o(l,23,13451),o(l,26,13452),o(l,27,13453),o(l,29,13454),o(l,9,13455),l),f=(o(s={},10,13457),o(s,11,13458),o(s,6,13459),o(s,5,13460),o(s,14,13461),o(s,12,13462),o(s,15,13463),o(s,8,13464),o(s,4,13465),o(s,1,13466),o(s,3,13466),o(s,18,13467),o(s,19,13468),o(s,20,13469),o(s,21,13470),o(s,22,13471),o(s,23,13472),o(s,26,13473),o(s,27,13474),o(s,29,13475),o(s,9,13476),s),p={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8,follow_invite:3}},984571:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(958881),o=/\{\s*(\w+)\s*\}/g;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){var n;return(n=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=e.args,r=e.format,i=(t||[]).reduce(function(e,t,r){return l(l({},e),{},s({},r,t.text))},{});return(0,n.Z)(o,r,i)}},575742:function(e,t,r){"use strict";r.d(t,{J:function(){return n},Z:function(){return o}});var n=-1;function o(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},175789:function(e,t){"use strict";t.Z=function(e,t){return e.length>t?e.substr(0,t-3).trim()+"…":e}},564855:function(e,t,r){"use strict";r.d(t,{ZP:function(){return o},mP:function(){return n}});var n="…";function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=r)return e;if(" "!==e[r-1]&&" "===e[r]||i)t=e.substring(0,r);else{var a=e.lastIndexOf(" ",r);t=e.substring(0,a)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+o}},325362:function(e,t,r){"use strict";function n(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}r.d(t,{Z:function(){return n}})},294551:function(e,t,r){"use strict";function n(e){return e.replace(/([A-Z])/g,function(e,t){return"_"+t.toLowerCase()})}r.d(t,{Z:function(){return n}})},627408:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(672652),o=r(541841),i=r(901855),a=r(5859),l=r(520893),s=r(503325),c=(0,r(342513).Z)("timeSpentContext"),u=c.Provider,d=c.useMaybeHook,f=r(822987),p=r(19447),h=r(819267);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){P(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(c,e);var t,r,i,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=x(c);if(t){var n=x(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function c(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c),P(g(t=a.call(this,e)),"componentWillUnmount",function(){t.unregisterComponent()}),P(g(t),"getContext",function(){var e=t.props,r=e.clientTrackingParams,n=e.component,o=e.element,i=e.objectId,a=e.timeSpentContext,l=e.view,s=e.viewParameter;return{view:l||(null==a?void 0:a.view),viewParameter:s||(null==a?void 0:a.viewParameter),component:n||(null==a?void 0:a.component),element:o,objectId:i||(null==a?void 0:a.objectId),clientTrackingParams:r||(null==a?void 0:a.clientTrackingParams),getParentUuid:function(){return t.getUuid()},getGrandparentUuid:function(){return t.getParentId()}}}),P(g(t),"getLoggerContext",function(){var e=_({},t.getContext());return delete e.getParentUuid,e}),P(g(t),"getParentId",function(){var e=t.props,r=e.timeSpentContext,n=e.shouldUseGrandparentId;if(void 0!==n&&n&&r&&r.getGrandparentUuid){var o=r.getGrandparentUuid();if(o)return o}return r&&r.getParentUuid?r.getParentUuid():void 0}),P(g(t),"getUuid",function(){return t.state.timedPair?t.state.timedPair.uuid:void 0}),P(g(t),"getTimedPair",function(){return t.state.timedPair}),P(g(t),"setTimedPair",function(e,r){t.setState({timedPair:e},function(){r&&r()})}),P(g(t),"isRegistered",!1),P(g(t),"registerComponent",function(){t.props.timeSpentManager.registerComponent(g(t)),t.isRegistered=!0}),P(g(t),"unregisterComponent",function(){t.isRegistered&&(t.props.timeSpentManager.unregisterComponent(g(t)),t.isRegistered=!1)}),P(g(t),"handleVisibilityChange",function(e){var r=e[0].intersectionRatio,n=e[0].intersectionRect,o=n.bottom,i=n.left,a=n.right,l=n.top;r>0?t.registerComponent():0===r&&(0===o&&0===i&&0===a&&0===l?t.unregisterComponent():t.registerComponent())}),t.state={timedPair:new s.Z(t.getLoggerContext())},t}return r=[{key:"componentDidUpdate",value:function(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,l.Z)(e.auxData,this.props.auxData)&&(0,l.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}},{key:"render",value:function(){var e=this.props.children;return(0,h.jsx)(u,{value:this.getContext(),children:(0,h.jsx)(o.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:n.Children.only(e)})})}}],m(c.prototype,r),i&&m(c,i),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function S(e){var t,r=(0,i.Hv)(),o=d(),l=(0,f.w)(),s=(0,p.H0)(),c=(0,a.B)().requestIdentifier,u=_({app_instance_id:(void 0===c?"":c).slice(0,8)},null!==(t=e.auxData)&&void 0!==t?t:{});return(0,n.useEffect)(function(){null==l||l.setHistoryStackContext(r)},[r,l]),(0,n.useEffect)(function(){null==l||l.setPins(null!=s?s:{})},[s,l]),l?(0,h.jsx)(w,_(_({},e),{},{auxData:u,timeSpentContext:o,timeSpentManager:l,children:e.children})):e.children}S.displayName="TimeSpent";var O=S},524558:function(e,t,r){"use strict";var n=r(672652),o=r(684404),i=r(819267);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(y,e);var t,l,h,b=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(y);if(t){var n=f(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function y(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y),p(d(t=b.call(this,e)),"state",{manualTruncate:!1}),t.ref=(0,n.createRef)(),t}return l=[{key:"componentDidMount",value:function(){var e=this.props,t=e.maxHeightPx,n=e.shaveOptions,o=void 0===n?{}:n,i=this.ref&&this.ref.current;if(i){var a=void 0===i.textContent?"innerText":"textContent",l=i[a];if(("boolean"!=typeof o.spaces||o.spaces?l.split(" "):l).length<2){this.setState({manualTruncate:!0});return}r.e(14118).then(r.bind(r,357781)).then(function(e){(0,e.default)(i,t,o)})}}},{key:"render",value:function(){var e=this.props,t=e.maxWidthPx,r=e.maxHeightPx,n=e.inline,a=this.state.manualTruncate,l={maxWidth:t,maxHeight:r},c=void 0!==n&&n?s({display:"inline"},l):s({},l);return a?(0,i.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:c},"data-test-id":"truncater",overflow:"hidden",children:this.props.children}):(0,i.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:c},"data-test-id":"truncater",children:this.props.children})}}],c(y.prototype,l),h&&c(y,h),Object.defineProperty(y,"prototype",{writable:!1}),y}(n.Component);t.Z=b},629650:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(672652),o=r(684404),i=r(274262),a=r(819267);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return null!=e}function c(e){var t=e.additionalPadding,r=e.color,c=void 0===r?"darkGray":r,u=e.inline,d=e.items,f=t?(0,a.jsx)("span",{style:{padding:"0 ".concat(4*t,"px")},children:(0,a.jsx)(i.Z,{color:c})}):(0,a.jsx)(i.Z,{color:c}),p=d.filter(s).reduce(function(e,t,r){return[].concat(function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[0!==r?f:null,t])},[]).filter(s).map(function(e,t){return(0,a.jsx)(n.Fragment,{children:e},t)});return 0===p.length?null:u?(0,a.jsx)(o.xu,{children:p}):(0,a.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:p})}},410389:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n,o,i=r(624797);function a(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e){var t=e.boardId,r=e.username,l=e.slug;return t?(0,i.tV)(n||(n=a(["/v3/boards/","/"])),t):r&&l?(0,i.tV)(o||(o=a(["/v3/boards/","/","/"])),r,l):null}},862249:function(e,t,r){"use strict";var n=r(968946);t.Z=function(e){var t=e.url;return!!(t&&t.match(/^https{0,1}:\/\//)&&!(0,n.Z)(t))}},498301:function(e,t,r){"use strict";function n(e,t){if(!t)return e;var r=new RegExp(/http(s?):/);if(!r.test(e)){var n=r.exec(t);n&&n.length&&(e=n[0]+e)}return e}r.d(t,{Z:function(){return n}})},334688:function(e,t,r){"use strict";var n=r(672652);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=null,a=!1,l=0,s=function(){i&&clearTimeout(i),a=!0,i=setTimeout(function(){a=!1},100)},c=function(){0===l&&window.addEventListener("scroll",s),l+=1},u=function(){(l-=1)||window.removeEventListener("scroll",s)};t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],i=t[1],l=(0,n.useRef)(null);(0,n.useEffect)(function(){return c(),function(){l.current&&clearTimeout(l.current),u()}},[]);var s=function e(t){l.current&&clearTimeout(l.current),l.current=t&&a?setTimeout(function(){return e(!0)},100):setTimeout(function(){i(t)},32)};return{isHovering:r,hoverHandlers:(0,n.useRef)({onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}).current}}},554786:function(e,t,r){"use strict";r.d(t,{HG:function(){return d},Kf:function(){return a},Mq:function(){return o},Wb:function(){return u},dA:function(){return l},ds:function(){return s},ml:function(){return c}});var n=r(5859);function o(e){var t=e.userAgent,r=t.isMobile;return t.isTablet?"tablet":r?"phone":"desktop"}var i=function(){return o((0,n.B)())},a=function(e){return"phone"===e},l=function(e){return"tablet"===e},s=function(e){return"desktop"===e},c=function(){return a(i())},u=function(){return l(i())},d=function(){return s(i())};t.ZP=i},494125:function(e,t,r){"use strict";var n=r(672652);t.Z=function(e){(0,n.useEffect)(e,[])}},477458:function(e,t,r){"use strict";r.d(t,{q:function(){return l}});var n=r(672652);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=function(){var e=o((0,n.useState)(!1),2),t=e[0],r=e[1],i=o((0,n.useState)(!1),2),a=i[0],l=i[1],s=o((0,n.useState)(!1),2),c=s[0],u=s[1];return{active:t,focused:a,hovered:c,onBlur:function(){l(!1),r(!1)},onFocus:function(){return l(!0)},onMouseDown:function(){return r(!0)},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){u(!1),r(!1)},onMouseUp:function(){return r(!1)}}};function l(e){return(0,e.children)(a())}t.Z=a},194602:function(e,t,r){"use strict";var n=r(672652),o=function(){return function(){}},i=function(){return!1},a=function(){return!0};t.Z=function(){return(0,n.useSyncExternalStore)(o,i,a)}},760101:function(e,t,r){"use strict";r.d(t,{G:function(){return s},Z:function(){return c}});var n=r(672652),o=r(328038),i=r(819267);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=(0,n.createContext)(!0);function s(e){var t,r=e.children,s=(0,o.TH)(),c=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1],f=(0,n.useRef)(s);return(0,n.useEffect)(function(){f.current!==s&&(f.current=s,d(!1))},[s]),(0,i.jsx)(l.Provider,{value:u,children:r})}function c(){return(0,n.useContext)(l)}},830889:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(780277),o=[1000069,1000075],i={};function a(){var e;return e=(0,n.useSelector)(function(e){return e.experiences}),o.forEach(function(t){e[t]&&(void 0===i[t]||i[t].id!==e[t].id)&&(i[t]=e[t])}),i}},728622:function(e,t,r){"use strict";var n=r(672652);t.Z=function(e){var t=(0,n.useRef)(null);return(0,n.useEffect)(function(){t.current=e},[e]),t.current}},825765:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(672652),o=r(43665);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(){var e=(0,n.useRef)([]),t=(0,n.useRef)({});return(0,n.useEffect)(function(){return function(){[].concat(i(Object.keys(t.current).map(function(e){return t.current[e]})),i(e.current)).forEach(function(e){return e()})}},[]),function(r,n){if(n){var a=t.current[n];a&&(a(),delete t.current[n])}var l=(0,o.Z)(r),s=l.cancel,c=l.promise;return n?t.current[n]=s:e.current=[].concat(i(e.current),[s]),c}}},149722:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var n=(0,r(342513).Z)("viewer"),o=n.Provider,i=n.useHook;t.Z=i},115557:function(e,t,r){"use strict";r.d(t,{$f:function(){return i},Cy:function(){return c},DR:function(){return o},EB:function(){return f},Fm:function(){return s},Y7:function(){return d},bR:function(){return l},gJ:function(){return a},lG:function(){return u}});var n=r(512419),o=1,i=2,a=1e3,l=1e3,s=1e3,c=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function d(e){return e+"-"+(0,n.Z)()}function f(){return(0,n.Z)()}},446653:function(e,t,r){"use strict";r.d(t,{r:function(){return C},K:function(){return A}});var n=r(672652),o=r(342513),i=r(340523),a=r(995917),l=r(149722),s=r(998577),c=r(573810),u=r(325362);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function e(t){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&("object"!==p(t[n])||null===t[n]||Array.isArray(t[n])?r[(0,u.Z)(n)]=t[n]:r[(0,u.Z)(n)]=e(t[n]));return r},b=function(e,t){var r=[];for(var n in e)n!==t&&r.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:n},h(e[n])));var o,i=r.sort(function(e,t){var r=e.user.businessName,n=t.user.businessName;return r.localeCompare(n)}),a=new Map,l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(i);try{for(l.s();!(o=l.n()).done;){var s=o.value;a.set(s.id,s)}}catch(e){l.e(e)}finally{l.f()}return a};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==y(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},x=function(e,t){switch(t.type){case"LOAD_PROFILES":return v(v({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return v(v({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return v(v({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return v(v({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return v(v({},e),{},{disableProfileChanger:t.payload});default:return e}},P=function(e){var t=e.dispatch,r=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,l=o.headerVisible;return{changeProfile:(0,n.useCallback)(function(e){r&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[r,t]),toggleORBACVisibility:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})},[r,t,i]),toggleDisableProfileChanger:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})},[r,t,a]),toggleHeaderVisibility:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!l})},[r,t,l])}},j=function(e){var t,r=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(x,g))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1],a=P({dispatch:i,isEnabled:e,state:o}),l=o.activeProfile,s=o.orbacVisibility;return(0,n.useEffect)(function(){var e=(0,c.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,n.useEffect)(function(){var e=(0,c.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,n.useEffect)(function(){(0,c.Nh)("orbacVisibility",s)},[s]),(0,n.useEffect)(function(){(0,c.Nh)("orbacActiveProfile",l)},[l]),{state:o,actions:a,receiveProfiles:(0,n.useCallback)(function(e,t){i({type:"LOAD_PROFILES",payload:b(e,t)})},[i])}},w=r(819267),S=(0,o.Z)("RoleBasedAccessControlContext"),O=S.Provider,A=S.useMaybeHook,C=function(e){var t,r=e.children,o=(0,i.F)().checkExperiment,c=(0,l.Z)(),u=!!(c.isAuth&&c.isPartner&&o("web_m10n_business_access_orbac_www").anyEnabled),d=j(u),f=d.state,p=d.actions,h=d.receiveProfiles,b=f.activeProfile,y=f.headerVisible,_=f.profiles,m=void 0===_?[]:_,v=m?Array.from(m.values()):[],g=(0,s.Z)(v),x=!!c.isAuth&&v.length>0&&g,P=c.isAuth?c.id:"",S=c.isAuth?c.username:"",A=p.changeProfile,C=p.toggleORBACVisibility,E=p.toggleDisableProfileChanger,I=p.toggleHeaderVisibility;(0,n.useEffect)(function(){if(u){if("string"==typeof g){A(g);return}b||A(P)}},[g,P,u,A,b]),(0,n.useEffect)(function(){u&&(x&&!y&&I(!0),!x&&y&&I(!1))},[I,x,u,y,m]);var T=(0,a.Z)(u?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,D=null==T?void 0:T.profiles;c&&c.isAuth&&f.activeProfile===c.id?t={id:c.id,permissions:["OWNER"],user:{username:S,businessName:c.fullName,imgUrl:c.imageSmallUrl}}:b&&f.profiles&&(t=f.profiles.get(b)),(0,n.useEffect)(function(){D&&h(D,P)},[h,D,P]);var k=f.profiles?Array.from(f.profiles.values()):[];return(0,w.jsx)(O,{value:{profiles:k,headerVisible:f.headerVisible,activeProfile:t,changeProfile:A,toggleORBACVisibility:C,toggleDisableProfileChanger:E,toggleHeaderVisibility:I},children:r})}},785059:function(e,t,r){"use strict";var n=r(340523),o=r(446653),i=r(998577);t.Z=function(){var e=(0,n.F)().checkExperiment,t=(0,o.K)(),r=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,i.Z)((null==t?void 0:t.profiles)||[]),s=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a&&(!s||l)&&r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:Object.freeze({})}},998577:function(e,t,r){"use strict";var n=r(328038),o=r(96157),i=r(340523),a=r(149722),l=r(19447);t.Z=function(e){var t,r,s,c,u=(0,n.TH)(),d=(0,a.Z)(),f=(0,l.S6)(),p=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,h=(0,n.$B)("/:username"),b=null==h?void 0:null===(t=h.params)||void 0===t?void 0:t.username,y=(0,n.$B)("/pin/:id"),_=null!=y&&null!==(r=y.params)&&void 0!==r&&!!r.id&&(null===(s=f(y.params.id))||void 0===s?void 0:null===(c=s.pinner)||void 0===c?void 0:c.id);if((0,o.ej)(u))return!1;if((0,o.RU)(u))return!0;if((0,o.mY)(u))return p;var m=e.concat(d.isAuth?{user:{username:d.username},id:d.id}:{}).find(function(e){var t=e||{},r=t.user,n=t.id,o=(void 0===r?{}:r).username;return(!!o&&!!b||!!_&&!!n)&&(o===b||_===n)});return!!m&&m.id}},35222:function(e,t,r){"use strict";var n=r(149722),o=r(785059),i=r(199677);t.Z=function(){var e=(0,n.Z)(),t=(0,o.Z)();return(0,i.lJ)(e,t)}},199677:function(e,t,r){"use strict";r.d(t,{D3:function(){return c},DX:function(){return l},KY:function(){return u},Ms:function(){return n},N1:function(){return d},_P:function(){return a},lJ:function(){return i},nl:function(){return o},q6:function(){return s}});var n=function(e,t){var r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},o=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},i=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,r){var n;return r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},l=function(e,t,r){return r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},s=function(e,t,r){return!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t)},c=function(e,t,r){return!!(s(e,t,r)||e&&e.isAuth&&t===e.id)},u=function(e,t,r){return c(e,t&&t.owner&&t.owner.id||"",r)};function d(e,t,r){return c(e,t?t.id:"",r)}},239821:function(e,t,r){"use strict";r.d(t,{g:function(){return _},I:function(){return y}});var n=r(672652),o=r(342513),i=r(705895),a=r(259866);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return c(c({},e),{},{showTypeaheadOverlay:t.payload});if("SET_CURRENT_VIDEO"===t.type){var r=t.payload,n=r.pinId,o=r.isPromoted,i=r.currentTime,l=r.allowMultipleOrganicVideos,s=e.videosAutoplaying,d=s.currentlyPlayingOrganicVideoId,f=s.promotedVideosAutoplaying,p=s.organicVideosAutoplaying,h=(0,a.Z)(f),b=(0,a.Z)(p);return o||!d||l?(o?h[n]={pinId:n,currentTime:i,paused:!1}:b[n]={pinId:n,currentTime:i,paused:!1},c(c({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:o?d:n,promotedVideosAutoplaying:h,organicVideosAutoplaying:b}})):e}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return c(c({},e),{},{isAutoplay:t.payload});if("PAUSE_CURRENT_VIDEO"===t.type){var y=t.payload,_=y.pinId,m=y.isPromoted,v=y.currentTime,g=e.videosAutoplaying,x=g.promotedVideosAutoplaying,P=g.organicVideosAutoplaying,j=(0,a.Z)(x),w=(0,a.Z)(P);return m?j[_]=c(c({},j[_]),{},{paused:!0,currentTime:v}):w[_]=c(c({},w[_]),{},{paused:!0,currentTime:v}),c(c({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:j,organicVideosAutoplaying:w}})}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return c(c({},e),{},{appInFocus:t.payload});if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return c(c({},e),{},{viewportSize:t.payload});if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return c(c({},e),{},{footerPlusButtonVisible:t.payload});return e},f=r(819267);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=(0,o.Z)("AppUI"),b=h.Provider,y=h.useHook;function _(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(d,u))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],l=o[1],s=(0,n.useCallback)(function(e){return l({type:"PAUSE_CURRENT_VIDEO",payload:e})},[]),c=(0,n.useCallback)(function(e){return l({type:"SET_APP_FOCUS_STATE",payload:e})},[]),h=(0,n.useCallback)(function(e){return l({type:"SET_CURRENT_VIDEO",payload:e})},[]),y=(0,n.useCallback)(function(e){return l({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})},[]),_=(0,n.useCallback)(function(e){return l({type:"SET_IS_AUTOPLAY",payload:e})},[]),m=(0,n.useCallback)(function(e){return l({type:"SET_VIEWPORT_SIZE",payload:e})},[]),v=(0,n.useCallback)(function(e){return l({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})},[]),g=(0,n.useMemo)(function(){return{pauseAutoplay:s,setCurrentVideo:h,setFooterPlusButtonVisible:y,setIsAutoplay:_,setViewportSize:m,toggleTypeaheadOverlay:v,setAppFocusState:c,appUI:a}},[s,h,y,_,m,v,c,a]);return(0,n.useEffect)(function(){i.Z.onSessionResume(function(){c(!0)}).onSessionPause(function(){c(!1)})},[c]),(0,f.jsx)(b,{value:g,children:r})}},951258:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(672652),o=r(684404),i=r(140017),a=r(506248),l=r(174595),s=r(819267);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e){var t,r=(0,i.ZP)(),f=e.style,p=e.useLegoStyles,h=e.usePersistentOneClickSaveStyles,b=e.wrappingIconStyle,y=e.shouldUseLegoStyles,_=e.carouselSlotCurrentIndex,m=e.component,v=e.onDelete,g=e.onSubmit,x=e.onToggleModal,P=e.pinId,j=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=j[0],S=j[1],O=(0,l.Z)({carouselSlotCurrentIndexProp:_,component:m,pinId:P,setShowEditModal:S}),A=O.onClick,C=O.carouselSlotCurrentIndex,E=(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(o.hU,{accessibilityLabel:r._('Edit', 'edit button on pin', 'edit button on pin'),bgColor:f&&f.bgColor||"white",icon:"edit",iconColor:f&&f.iconColor||"darkGray",onClick:A,size:f&&f.size||"md"}),w&&P&&(0,s.jsx)(a.Z,{carouselSlotCurrentIndex:C,onDelete:v,onHide:function(){S(!1),null==x||x(!1)},onSubmit:g,pinId:P})]});return y?(0,s.jsx)(o.zx,{accessibilityLabel:r._('Pin Saved', 'PinRepEditButton.SavedButtonLabel', 'saved button label on pin'),color:"gray",dataTestId:"saved-button",fullWidth:!0,onClick:v,selected:!0,size:"lg",text:r._('Saved', 'PinRepEditButton.SavedButton', 'saved button on pin')}):void 0!==p&&p||h?(0,s.jsx)("div",{"data-test-id":"use-lego-styles-div",style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},b||{}),children:E}):E}},489216:function(e,t,r){"use strict";var n=r(672652),o=r(998855),i=r.n(o),a=r(684404),l=r(140017),s=r(406893),c=r(175789),u=r(862249),d=r(819267);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(p,e);var t,r,o,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=m(p);if(t){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(_(e=l.call.apply(l,[this].concat(r))),"state",{showBoardName:!1}),e}return r=[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout(function(){e.setState({showBoardName:!0})},950)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e,t,r=this.state.showBoardName,o=this.props,l=o.isDenseView,f=o.isNewlySaved,p=o.name,h=o.shouldUseLegoStyles,b=o.type,y=o.url;if(h&&l)return null;var _="boardless"===b?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):p;if(!f||r||h){var m=h?(0,d.jsx)(a.xv,{color:"inverse",size:"300",weight:"bold",children:_.length<=20?_:(0,c.Z)(_,20)}):(0,d.jsx)(a.X6,{color:"inverse",lineClamp:1,size:"400",children:_}),v=(0,u.Z)({url:y});e=y?(0,d.jsx)(a.rU,{href:y,rel:v?"nofollow":"none",children:m}):m}else e=(0,d.jsx)(a.xv,{color:"inverse",size:"400",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')});return f&&(t=r?"board":"saved"),(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(s.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,d.jsx)("div",{className:!h&&i()("SavedAnimation",t),"data-test-id":"savedInfo",children:e})]})}}],b(p.prototype,r),o&&b(p,o),Object.defineProperty(p,"prototype",{writable:!1}),p}(n.Component);t.Z=function(e){var t=(0,l.ZP)();return(0,d.jsx)(x,h(h({},e),{},{i18n:t}))}},489093:function(e,t,r){"use strict";r.d(t,{a:function(){return v},S:function(){return _}});var n=r(672652),o=r(342513),i=r(107366);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t,r){var n;return(n=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={boardMap:{}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;if("BLOCKING_ACTIONS_UPDATED"===t.type){var r=t.payload,n=r.boardId,o=r.blockingActions,i=null,a=null,l={};return o.forEach(function(e){var t=e.section_id,r=e.progress,n={id:e.id,createdAt:e.created_timestamp,progress:r};t?"-1"===t?i=n:l[t]=n:a=n}),s(s({},e),{},{boardMap:s(s({},e.boardMap),{},c({},n,{wholeBoard:i,unorganized:a,sectionMap:l}))})}return e}var f=r(819267);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}var b=(0,o.Z)("BlockingAction"),y=b.Provider,_=b.useMaybeHook;function m(){var e;return e=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)({url:"/v3/boards/".concat(t,"/"),data:{fields:["board.id","board.blocking_actions"]}});case 2:return r=e.sent,e.abrupt("return",new Promise(function(e,t){var n=r&&r.resource_response&&r.resource_response.data&&r.resource_response.data.blocking_actions;if(!n){t(Error("No blocking actions found in the response"));return}e(n)}));case 4:case"end":return e.stop()}},e)}),(m=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){h(i,n,o,a,l,"next",e)}function l(e){h(i,n,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}function v(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(d,u))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1],l=(0,n.useCallback)(function(e){return(function(e){return m.apply(this,arguments)})(e).then(function(t){return a({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t})},[]),s=(0,n.useMemo)(function(){return{blockingActions:i,fetchBlockingActions:l}},[i,l]);return(0,f.jsx)(y,{value:s,children:r})}},828763:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(13848),o=r(489093),i=r(672652),a=r(684404),l=r(454514),s=r(140017),c=r(554786),u=r(819267);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=_(i);if(t){var n=_(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(y(e=o.call.apply(o,[this].concat(r))),"state",{hiding:!1,visible:!1}),m(y(e),"handleHide",function(){e.setState({hiding:!0}),e.timeout=window.setTimeout(e.props.onHide,l.Vg)}),m(y(e),"handleMouseEnter",function(){window.clearTimeout(e.timeout)}),m(y(e),"handleMouseLeave",function(){e.timeout=window.setTimeout(e.handleHide,e.props.duration||2e3)}),e}return r=[{key:"componentDidMount",value:function(){var e=this;this.firstLine&&(window.setTimeout(function(){e.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}},{key:"firstLine",get:function(){var e=this.props,t=e.actionType,r=e.actionStatus,n=e.location.isSection,o="completed"===r;switch(t){case"create_section":return o?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":if(n)return o?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section');return o?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":if(n)return o?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section');return o?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":if(n)return o?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section');return o?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}},{key:"render",value:function(){var e=this.props,t=e.actionStatus,r=e.deviceType,n=e.location,o=this.state,i=o.visible,s=o.hiding,c=this.firstLine,d=(0,l.UZ)({deviceType:r,hiding:s,visible:i}),f=d.marginTop,p=d.opacity,h=d.position,b=d.pointerEvents,y=d.transform,_=d.transition,m=d.visibility;if(!c)return null;var v="inProgress"===t?"".concat(n.name,"..."):n.name;return(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:y,transition:_,visibility:m,pointerEvents:b}},marginTop:f,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,opacity:p,position:h,children:(0,u.jsx)(a.FN,{text:"".concat(c,": ").concat(v),type:"completed"===t?"default":"progress"})})}}],h(i.prototype,r),n&&h(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(i.Component);function x(e){var t=(0,c.ZP)(),r=(0,s.ZP)();return(0,u.jsx)(g,p(p({},e),{},{deviceType:t,i18n:r}))}var P=["merge","move_pins","create_section"],j=0,w={},S=function(e,t,r,n){return function(o){var i,a,l=o.hideToast;return(0,u.jsx)(x,{actionStatus:e,actionType:t,duration:2e3,location:{name:n?null!==(i=n.title)&&void 0!==i?i:"":null!==(a=r.name)&&void 0!==a?a:"",isSection:!!n},onHide:l})}};function O(){var e,t=(0,n.F9)().showToast,r=(null!==(e=(0,o.S)())&&void 0!==e?e:{fetchBlockingActions:function(e){return new Promise(function(e){return e([])})}}).fetchBlockingActions;return{showBlockingActionToast:function(e){var n,o,i,a,l,s,c=e.actionType,u=e.board,d=e.section;t(S("inProgress",c,u,d)),o=(n={check:function(){return r(u.id).then(function(e){var t,r,n,o,i;return r=(t={blockingActions:e,actionType:c,boardId:u.id,sectionId:d&&d.id}).blockingActions,n=t.actionType,o=t.boardId,i=t.sectionId,!r.find(function(e){return function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}}(e.action_type)===n&&!(P.includes(e.action_type)&&e.is_origin)&&e.board_id===o&&(i?i===e.section_id:!e.section_id||"-1"===e.section_id)&&1!==e.progress})})},checkDelay:2e3,checkInterval:5e3,onComplete:function(){return t(S("completed",c,u,d))}}).check,i=n.checkDelay,a=n.checkInterval,l=n.onComplete,s="timeout".concat(j),j+=1,w[s]=setTimeout(function e(){var t=Date.now();o().then(function(r){var n=Date.now()-t;r?(l(),delete w[s]):w[s]=setTimeout(e,Math.max(1e3,a-n))}).catch(function(){delete w[s]})},i)}}}},107353:function(e,t,r){"use strict";r.r(t),r.d(t,{BoardCollabFlyout:function(){return H},default:function(){return G}});var n=r(672652),o=r(328038),i=r(684404),a=r(140017),l=r(554786),s=r(149722),c=r(480236),u=r(995917),d=r(410389),f=r(937153),p=r(669485),h=r(819267);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e){var t,r,o=e.board,l=e.scrollInfo,s=(0,a.ZP)(),c=(0,u.Z)({name:"ApiResource",options:{url:null===(r=(0,d.Z)({boardId:o.id}))||void 0===r?void 0:r.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});if(!c.isLoaded)return(0,h.jsx)(i.$j,{accessibilityLabel:s._('Loading', 'Loading spinner when rendering users', 'Loading spinner when rendering users'),show:!0});var y=o.owner,_=c.data,m=c.isAtEnd,v=c.isFetching,g=c.fetchMore,x=[y].concat(function(e){if(Array.isArray(e))return b(e)}(t=_||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return(0,h.jsxs)(n.Fragment,{children:[l?(0,h.jsx)(p.Z,{fetchMore:g,isAtEnd:m,isFetching:v,scrollBuffer:3*l.container.clientHeight,scrollHeight:l.container.scrollHeight,scrollTop:l.top}):null,x.map(function(e){var t=e.full_name,r=e.id,n=e.image_medium_url,o=e.username;return(0,h.jsx)(f.Z,{imageUrl:null!=n?n:"",linkURL:"/".concat(o,"/"),name:null!=t?t:"",subtitle:o,title:null!=t?t:""},r)})]})}var _=r(780277),m=r(481177),v=r(930837),g=function(e){var t=e.heading,r=e.description,n=e.disabled,o=e.id,a=e.onChange,l=e.switched;return(0,h.jsxs)(i.xu,{direction:"column",display:"flex",paddingX:6,paddingY:4,width:"100%",children:[(0,h.jsx)(i.xv,{weight:"bold",children:t}),(0,h.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",marginTop:3,children:[(0,h.jsx)(i.xu,{flex:"grow",marginEnd:2,children:(0,h.jsx)(i.xv,{children:r})}),(0,h.jsx)(i.rs,{disabled:void 0!==n&&n,id:o,onChange:a,switched:l})]})]})},x=r(761203);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,r){return(t=I(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==P(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=C(a);if(t){var n=C(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return A(e)}(this,e)});function a(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var e,t,r,n,i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return E(A(n=o.call.apply(o,[this].concat(l))),"state",{invitesEnabled:!!(null===(e=n.props.board)||void 0===e?void 0:e.collaborator_invites_enabled),requestsEnabled:!!(null===(t=n.props.board)||void 0===t?void 0:t.collaborator_requests_enabled),emailEnabled:!!(null===(r=n.props.board)||void 0===r?void 0:r.collab_board_email)}),E(A(n),"handleInvitesToggle",function(){return n.setState(function(e){return{invitesEnabled:!e.invitesEnabled}})}),E(A(n),"handleRequestsToggle",function(){return n.setState(function(e){return{requestsEnabled:!e.requestsEnabled}})}),E(A(n),"handleEmailToggle",function(){return n.setState(function(e){return{emailEnabled:!e.emailEnabled}})}),E(A(n),"handleSubmit",function(){var e=n.props,t=e.onDismiss,r=e.board,o=e.updateBoard,i=n.state,a=i.invitesEnabled,l=i.requestsEnabled,s=i.emailEnabled;o(w(w({},r),{},{collaborator_invites_enabled:a,collaborator_requests_enabled:l,collab_board_email:s})).then(function(){return t()})}),n}return r=[{key:"render",value:function(){var e=this.props,t=e.board,r=e.onDismiss,n=e.isViewerOwner,o=null==t?void 0:t.privacy,a=this.state,l=a.invitesEnabled,s=a.requestsEnabled,c=a.emailEnabled,u=[{heading:this.props.i18n._('Email notifications', 'Sub-heading for email notifications group board setting', 'Sub-heading for email notifications group board setting'),description:this.props.i18n._('Receive emails when Pins are added to this board', 'Description of email notifications setting', 'Description of email notifications setting'),disabled:!1,onChange:this.handleEmailToggle,id:"email",switched:c}],d=[].concat(u,[{heading:this.props.i18n._('Group requests', 'Sub-heading for group requests group board setting', 'Sub-heading for group requests group board setting'),description:this.props.i18n._('People can request to join this board', 'Description of group requests setting', 'Description of group requests setting'),disabled:o===m.Z.BoardPrivacy.SECRET,onChange:this.handleRequestsToggle,id:"requests",switched:s},{heading:this.props.i18n._('Group members', 'Sub-heading for group members group board setting', 'Sub-heading for group members group board setting'),description:this.props.i18n._('Group members can invite others', 'Description of group members setting', 'Description of group members setting'),disabled:!1,onChange:this.handleInvitesToggle,id:"invites",switched:l}]),f=n?d:u;return(0,h.jsx)(v.ZP,{accessibilityModalLabel:this.props.i18n._('Edit group settings', 'Label for editing group settings', 'Label for editing group settings'),footer:(0,h.jsx)(i.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:(0,h.jsx)(i.xu,{paddingX:1,children:(0,h.jsx)(i.zx,{color:"red",onClick:this.handleSubmit,text:this.props.i18n._('Done', 'Button text for being finished with editing group board settings', 'Button text for being finished with editing group board settings')})})}),heading:this.props.i18n._('Group board settings', 'Modal header for editing settings for a group board', 'Modal header for editing settings for a group board'),onDismiss:r,size:"md",children:f.map(function(e){var t=e.description,r=e.disabled,n=e.heading,o=e.id,i=e.onChange,a=e.switched;return(0,h.jsx)(g,{description:t,disabled:r,heading:n,id:o,onChange:i,switched:a},o)})})}}],S(a.prototype,r),n&&S(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function D(e){var t=(0,a.ZP)(),r=(0,_.useDispatch)(),n=(0,x.gC)()(e.boardId);return(0,h.jsx)(T,w(w({},e),{},{board:n,i18n:t,updateBoard:function e(t){return r(e(t))}}))}var k=r(665292);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){F(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U(n.key),n)}}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,r){return(t=U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==z(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z(t)?t:String(t)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(l,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=Z(l);if(t){var n=Z(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return N(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return F(N(e=a.call.apply(a,[this].concat(r))),"state",{contentRef:null,currentModal:null,scrollContainer:null,scrollTop:null}),F(N(e),"handleBoardLeave",function(){var t=e.props,r=t.history,n=t.viewer,o=n.isAuth?"/".concat(n.username):"/";r.replace(o)}),F(N(e),"handleContentRef",function(t){!e.state.contentRef&&t&&(e.setState({contentRef:t}),t.focus())}),F(N(e),"handleScrollContainer",function(t){!e.state.scrollContainer&&t&&e.setState({scrollContainer:t})}),F(N(e),"handleScroll",function(){var t=e.state.scrollContainer;t&&e.setState({scrollTop:t.scrollTop})}),F(N(e),"handleConfirmationModalOpen",function(){return e.setState({currentModal:"confirmation"})}),F(N(e),"handleSettingsModalOpen",function(){return e.setState({currentModal:"settings"})}),F(N(e),"handleCloseModal",function(){return e.setState({currentModal:null})}),F(N(e),"renderCurrentModal",function(){var t=e.props,r=t.board,n=r.id,o=r.owner,i=t.viewer,a=e.state.currentModal,l=i.isAuth&&i.username===o.username;return"settings"===a?(0,h.jsx)(D,{boardId:n,isViewerOwner:l,onDismiss:e.handleCloseModal}):null}),e}return r=[{key:"renderInvite",value:function(e,t,r){if(!e.invited_user)return null;var n={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:r,useGestaltModal:!0,isDim:!1};return(0,h.jsx)(c.Z,B({},n))}},{key:"render",value:function(){var e=this.props,t=e.anchor,r=e.board,o=e.onDismiss,a=this.state,l=a.currentModal,s=a.scrollContainer,c=a.scrollTop,u=s?{container:s,top:c||0}:null,d=(r.access||[]).includes("write");return(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(i.mh,{children:(0,h.jsx)(i.xu,{position:"absolute",top:!0,zIndex:new i.Ry(1),children:(0,h.jsx)(i.J2,{anchor:t,idealDirection:"down",onDismiss:l?function(){}:o,positionRelativeToAnchor:!1,size:this.props.isDesktop?"xl":"lg",children:(0,h.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxHeight:500,minWidth:360,width:"100%",children:[(0,h.jsx)(i.Le,{top:0,children:(0,h.jsxs)(i.xu,{alignItems:"center",display:"flex",height:64,justifyContent:"center",paddingX:4,paddingY:4,position:"relative",children:[(0,h.jsx)("div",{ref:this.handleContentRef,tabIndex:0,children:(0,h.jsx)(i.xv,{size:"300",weight:"bold",children:this.props.i18n._('Group members', 'boardCollabFlyout.header', 'Heading for the group members flyout')})}),d&&(0,h.jsx)(i.xu,{marginEnd:2,marginTop:2,position:"absolute",right:!0,top:!0,children:(0,h.jsx)(i.hU,{accessibilityLabel:this.props.i18n._('Group board settings', 'boardCollabFlyout.settings.button', 'Icon for accessing settings on a group board'),icon:"cog",iconColor:"darkGray",onClick:this.handleSettingsModalOpen,size:"lg"})})]})}),(0,h.jsx)(i.xu,{overflow:"scrollY",children:(0,h.jsx)(i.xu,{ref:this.handleScrollContainer,onScroll:this.handleScroll,children:d?(0,h.jsx)(k.Z,{board:r,onBoardLeave:this.handleBoardLeave,onModalOpen:this.handleConfirmationModalOpen,renderInvite:this.renderInvite,scrollInfo:u}):(0,h.jsx)(y,{board:r,scrollInfo:u})})})]})})})}),this.renderCurrentModal()]})}}],M(l.prototype,r),o&&M(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function G(e){var t=(0,a.ZP)(),r=(0,s.Z)(),n=(0,o.k6)(),i=(0,l.HG)();return(0,h.jsx)(H,B(B({},e),{},{history:n,i18n:t,isDesktop:i,viewer:r}))}},480236:function(e,t,r){"use strict";r.d(t,{Z:function(){return $}});var n=r(672652),o=r(780277),i=r(684404),a=r(454514),l=r(140017),s=r(340523),c=r(13848),u=r(149722),d=r(785059),f=r(199677),p=r(873955),h=r(930837),b=r(339001),y=r(5859),_=r(819267);function m(e){var t=e.boardName,r=e.collaboratorName,n=e.onCancelTransferRequest,o=e.onDismiss,a=(0,l.ZP)(),s=(0,y.B)();return(0,_.jsx)(h.ZP,{accessibilityModalLabel:a._('Board ownership transfer modal', 'boardCollabOwnershipTransferModal.accessibilityModalLabel', 'Accessibility label on board ownership transfer modal'),footer:(0,_.jsxs)(i.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,_.jsx)(i.iP,{fullWidth:!1,onTap:n,children:(0,_.jsx)(i.xv,{weight:"bold",children:a._('Cancel request', 'boardCollabOwnershipTransferModal.cancelRequest', 'Option to cancel board ownership transfer request')})}),(0,_.jsx)(i.zx,{color:"red",onClick:o,size:"lg",text:a._('Got it', 'boardCollabOwnershipTransferModal.confirmationButton', 'Button confirming board ownership transfer action')})]}),heading:(0,_.jsxs)(i.xu,{paddingY:8,position:"relative",children:[(0,_.jsx)(i.X6,{align:"center",size:"500",children:a._('Collaborators', 'boardCollabOwnershipTransferModal.heading', 'Heading for board ownership transfer modal')}),(0,_.jsx)(i.xu,{left:s.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!s.isRTL,top:!0,children:(0,_.jsx)(i.hU,{accessibilityLabel:a._('Close', 'boardCollabOwnershipTransferModal.iconAccessibilityLabel', 'Accessibility label on cancel icon button'),icon:"cancel",iconColor:"darkGray",onClick:o,size:"md"})})]}),onDismiss:o,children:(0,_.jsx)(i.xu,{paddingX:8,children:(0,_.jsx)(i.xv,{align:"center",children:(0,b.nk)(a._('We sent {{ collaboratorName }} your request for them to own {{ boardName }}. When they accept, you can still add Pins\u2014but you won\u2019t be able to manage collaborators, change the name, cover photo, or description of this board.', 'boardCollabOwnershipTransferModal.descriptionText', 'Explanation of transfer request and potential permissions changes'),{collaboratorName:r,boardName:(0,_.jsx)(i.xv,{inline:!0,weight:"bold",children:t})})})})})}var v=r(857171),g=r(823813);function x(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e){var t,r,a,s,c,u,d,f,p,h,b,y=e.boardId,j=e.collaboratorId,w=e.collaboratorName,S=e.isAcceptedCollaborator,O=e.onDelete,A=(0,o.useDispatch)(),C=(0,l.ZP)(),E=(0,n.useRef)(null),I=P((0,n.useState)(!1),2),T=I[0],D=I[1],k=P((0,n.useState)(!1),2),z=k[0],R=k[1],B=(0,v.Z)(),M=B.boardName,L=B.pendingOwnershipTransfer,N=L===j,Z=function(){A((0,g.xx)(y,j)),D(!1)},F=(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return D(!1),e.next=3,A((0,g.Cf)(y,j));case 3:R(!0);case 4:case"end":return e.stop()}},e)}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){x(i,n,o,a,l,"next",e)}function l(e){x(i,n,o,a,l,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)}),U=(s=(a={i18n:C,isAcceptedCollaborator:S,onCancelTransferRequest:Z,onDelete:O,onRequestTransfer:function(){F()},showCancelRequestOption:N,showRequestTransferOption:!L}).i18n,c=a.isAcceptedCollaborator,u=a.onCancelTransferRequest,d=a.onDelete,f=a.onRequestTransfer,p=a.showCancelRequestOption,h=a.showRequestTransferOption,b=[{onSelect:d,option:{value:"Remove from board",label:s._('Remove from board', 'getCollaboratorDropdownItems.removeText', 'Text for option to remove collaborator from board')}}],c&&(p&&b.push({onSelect:u,option:{value:"Cancel request",label:s._('Cancel request', 'getCollaboratorDropdownItems.cancelText', 'Text for option to cancel ownership transfer request')}}),h&&b.push({onSelect:f,option:{value:"Request as board owner",label:s._('Request as board owner', 'getCollaboratorDropdownItems.requestText', 'Text for option to request ownership transfer')}})),b);return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsxs)(i.kC,{justifyContent:"center",children:[(0,_.jsx)(i.hU,{ref:E,accessibilityLabel:C._('Collaborator options', 'boardCollabInviteOverflowButton.accessibilityLabel', 'Accessibility label for overflow icon button'),bgColor:"transparent",icon:"ellipsis",iconColor:"darkGray",onClick:function(){return D(!T)},selected:T,size:"md"}),T&&(0,_.jsx)(i.Lt,{anchor:E.current,disableMobileUI:!0,id:"board-collaborator-dropdown",idealDirection:"down",onDismiss:function(){return D(!1)},zIndex:new i.Ry(1e3),children:(0,_.jsx)(i.Lt.Section,{label:C._('Options', 'boardCollabInviteOverflowButton.dropdownSection', 'Options section in dropdown menu'),children:U.map(function(e){return(0,_.jsx)(i.Lt.Item,{onSelect:e.onSelect,option:e.option},e.option.value)})})})]}),z&&(0,_.jsx)(m,{boardName:M,collaboratorName:w,onCancelTransferRequest:function(){Z(),R(!1)},onDismiss:function(){R(!1)}})]})}var S=r(937153);function O(e){var t,r,n=e.actionsDisabled,o=e.invite,a=e.invitedUser,c=e.isDim,d=e.onApprove,f=e.onDelete,h=(0,l.ZP)(),b=(0,u.Z)(),y=o.access,m=o.board,g=o.status,x=o.invited_by_user,P=(0,v.Z)(),j=P.pendingOwnershipTransfer,O=P.viewerIsOwner,A=b.isAuth&&a.id===b.id,C=b.isAuth&&x.id===b.id,E=a.id===x.id,I="accepted"===g,T=y.includes("approve"),D=y.includes("delete"),k=h._('Approve', '[button] approve another pinner\'s request to join the board as a collaborator', '[button] approve another pinner\'s request to join the board as a collaborator'),z=A?h._('Leave', '[button] for a collaborator to leave a group board', '[button] for a collaborator to leave a group board'):E&&!I?h._('Decline', '[button] decline another pinner\'s request to join board as a collaborator', '[button] decline another pinner\'s request to join board as a collaborator'):h._('Remove', '[button] remove a collaborator from the board]', '[button] remove a collaborator from the board]'),R="/".concat(a.username,"/"),B=(0,s.F)().checkExperiment,M=O&&B("web_board_ownership_transfer").anyEnabled,L=M?(0,_.jsx)(w,{boardId:m.id,collaboratorId:a.id,collaboratorName:a.full_name,isAcceptedCollaborator:I,onDelete:f||function(){}}):(0,_.jsx)(i.zx,{disabled:n,onClick:f,size:"lg",text:z}),N=j===a.id;return(0,_.jsxs)(i.xu,{children:[(0,_.jsx)(S.Z,{accessory:D&&!T&&L,imageUrl:a.image_medium_url||"",isDim:!M&&(void 0!==c?c:!I),linkURL:R,name:a.full_name,subtitle:(r=o.invited_by_user.full_name,t=M&&(void 0!==c?c:!I)?h._('Invitation pending', 'boardCollabInviteCell.pendingInvitationText', 'Subtext for collaborator with pending invitation'):A?h._('That\'s you', 'subtext for current user who requested to join this board', 'subtext for current user who requested to join this board'):C?h._('Invited by you', 'subtext for a pending collaborator who was invited by the current viewer', 'subtext for a pending collaborator who was invited by the current viewer'):E?h._('Requested to join', 'The subtext that identifies a pending collaborator has personally requested to join the board', 'The subtext that identifies a pending collaborator has personally requested to join the board'):(0,p.Z)(h._('Invited by {{ user_full_name }}', 'The subtext that identifies a pending collaborator who was invited to collaborate on the board', 'The subtext that identifies a pending collaborator who was invited to collaborate on the board'),{user_full_name:r}),N&&(t=t.concat(h._(' \xB7 Ownership pending', 'boardCollabInviteCell.pendingOwnershipText', 'Additional subtext for collaborator who has a pending board ownership transfer invitation'))),t),title:a.full_name}),D&&T&&(0,_.jsxs)(i.xu,{display:"flex",justifyContent:"end",marginStart:12,paddingX:3,children:[(0,_.jsx)(i.xu,{flex:"grow",paddingX:1,width:"50%",children:(0,_.jsx)(i.zx,{disabled:n,fullWidth:!0,onClick:f,size:"lg",text:z})}),(0,_.jsx)(i.xu,{flex:"grow",paddingX:1,width:"50%",children:(0,_.jsx)(i.zx,{color:"red",disabled:n,fullWidth:!0,onClick:d,size:"lg",text:k})})]})]})}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(t){z(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==A(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}function B(e){var t=(0,l.ZP)(),r=e.onCancel,n=e.onRemove,o=e.useGestaltModal,a=t._('Are you sure you want to leave this group board and remove it from your profile?', ' - ', ' -- '),s=o?i.u_:h.ZP;return(0,_.jsx)(s,{accessibilityModalLabel:t._('Leave board?', ' - ', ' -- '),footer:(0,_.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,_.jsx)(i.xu,{paddingX:1,children:(0,_.jsx)(i.zx,{onClick:r,text:t._('Cancel', ' - ', ' -- ')})}),(0,_.jsx)(i.xu,{paddingX:1,children:(0,_.jsx)(i.zx,{color:"red",onClick:n,text:t._('Leave', ' - ', ' -- ')})})]}),heading:t._('Leave board?', ' - ', ' -- '),onDismiss:r,size:"sm",children:(0,_.jsx)(i.xu,{padding:5,children:(0,_.jsx)(i.xv,{children:a})})})}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(l,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=k(l);if(t){var n=k(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return D(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return z(D(e=a.call.apply(a,[this].concat(r))),"state",{shouldBlock:!1}),e}return r=[{key:"getBlockDescription",value:function(e,t){return"declineRequest"===e?t?(0,b.nk)(this.props.i18n._('This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.', 'decline another pinner\'s request to join board as a collaborator and block them', 'decline another pinner\'s request to join board as a collaborator and block them'),{invited_user_first_name:t}):this.props.i18n._('This will decline this person from joining this board and block them from subsequent collaboration requests.', 'message that explains consequences of declining a request to join board as a collaborator', 'message that explains consequences of declining a request to join board as a collaborator'):t?(0,b.nk)(this.props.i18n._('This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins.', ' - ', ' -- '),{invited_user_first_name:t}):this.props.i18n._('This will remove this person, people they invited, and all their Pins.', 'message that explains consequences of removing a collaborator', 'message that explains consequences of removing a collaborator')}},{key:"render",value:function(){var e=this,t=this.props,r=t.removeType,o=t.firstName,a=t.fullName,l=t.onCancel,s=t.onRemove,c=t.onRemoveAndBlock,u=t.useGestaltModal,d="declineRequest"===r?(0,b.nk)(this.props.i18n._('Decline {{ invited_user_name }}?', '[button] to decline a pinner\'s request to join a board as a collaborator', '[button] to decline a pinner\'s request to join a board as a collaborator'),{invited_user_name:a}).join(""):(0,b.nk)(this.props.i18n._('Remove {{ invited_user_name }}?', '[button] to remove a pinner as a collaborator from a group board', '[button] to remove a pinner as a collaborator from a group board'),{invited_user_name:a}).join(""),f=this.props.i18n._('This will keep them from saving Pins to this board. You can also:', 'decline another pinner\'s request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.', 'decline another pinner\'s request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.'),p=this.getBlockDescription(r,o),y=this.state.shouldBlock?this.props.i18n._('Block', 'block another pinner after denying their request to collaborate on a board', 'block another pinner after denying their request to collaborate on a board'):this.props.i18n._('Remove', 'decline another pinner\'s request to collaborate on a board', 'decline another pinner\'s request to collaborate on a board'),m=(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(i.xu,{padding:5,children:(0,_.jsx)(i.xv,{children:f})}),(0,_.jsx)(i.iz,{}),(0,_.jsxs)(i.xu,{display:"flex",padding:5,children:[(0,_.jsx)(i.xu,{paddingX:1,children:(0,_.jsx)(i.XZ,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:function(){return e.setState(function(e){return{shouldBlock:!e.shouldBlock}})}})}),(0,_.jsx)(i.xu,{paddingX:1,children:(0,_.jsxs)(i.__,{htmlFor:"banUser",children:[(0,_.jsx)(i.xv,{weight:"bold",children:(0,b.nk)(this.props.i18n._('Block {{ name }}', ' - ', ' -- '),{name:o||""})}),(0,_.jsx)(i.xv,{size:"200",children:p})]})})]})]}),v=u?i.u_:h.ZP;return(0,_.jsx)(v,{accessibilityModalLabel:d,footer:(0,_.jsxs)(i.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,_.jsx)(i.xu,{paddingX:1,children:(0,_.jsx)(i.zx,{onClick:l,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,_.jsx)(i.xu,{paddingX:1,children:(0,_.jsx)(i.zx,{color:"red",onClick:this.state.shouldBlock?c:s,text:y})})]}),heading:d,onDismiss:l,size:"sm",children:m})}}],I(l.prototype,r),o&&I(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function L(e){var t=(0,l.ZP)();return(0,_.jsx)(M,E(E({},e),{},{i18n:t}))}var N=r(983983);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(t){K(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function H(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y(n.key),n)}}function V(e,t){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,r){return(t=Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Z(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(l,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=q(l);if(t){var n=q(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return W(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return K(W(e=o.call.apply(o,[this].concat(r))),"state",{currentModal:null,loading:!1}),K(W(e),"showRemoveSuccessToast",function(){var t=e.props.toastManagerContext,r=e.props.i18n._('Collaborator removed', 'BoardCollabInviteCellContainer.toast', 'Toast for removing a collaborator from a board');t.showOneToast(function(e){var t=e.hideToast;return(0,_.jsx)(a.ZP,{duration:3e3,onHide:t,text:r})})}),K(W(e),"onDelete",function(){var t=e.props.onModalOpen;t&&t(),e.setState({currentModal:"delete"})}),K(W(e),"onApprove",function(){var t=e.props,r=t.approveBoardCollabInvite,n=t.onInviteDidUpdate;e.setState({loading:!0}),r().then(n).finally(function(){e.setState({loading:!1})})}),K(W(e),"deleteBoardInvite",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e.props,n=r.deleteBoardCollabInvite,o=r.onBoardLeave,i=r.onInviteDidUpdate,a=W(e).isViewerInvitedUser;e.setState({currentModal:null,loading:!0}),n(a,t).then(function(){i(),e.showRemoveSuccessToast(),a&&o()}).catch(function(){}).finally(function(){e.setState({loading:!1})})}),K(W(e),"handleDeleteBoardInvite",function(){e.deleteBoardInvite(!1)}),K(W(e),"handleDeleteBoardInviteAndBan",function(){e.deleteBoardInvite(!0)}),K(W(e),"handleHideModal",function(){e.setState({currentModal:null})}),e}return r=[{key:"isViewerInvitedUser",get:function(){var e=this.props,t=e.viewer,r=e.invitedUser;return t.isAuth&&t.id===r.id}},{key:"isRequestToJoin",get:function(){var e=this.props,t=e.invitedUser,r=e.invite.invited_by_user;return t.id===r.id}},{key:"renderCurrentModal",value:function(){var e=this.props,t=e.invitedUser,r=e.useGestaltModal,n=void 0!==r&&r;return"delete"===this.state.currentModal?this.isViewerInvitedUser?(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{zIndex:N.fe+1}},position:"absolute",children:(0,_.jsx)(B,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:n})}):(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{zIndex:N.fe+1}},position:"absolute",children:(0,_.jsx)(L,{firstName:t.first_name,fullName:t.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",useGestaltModal:n})}):null}},{key:"render",value:function(){var e=this.props,t=e.invite,r=e.invitedUser,n=e.isDim,o=this.state.loading;return(0,_.jsxs)(i.xu,{children:[(0,_.jsx)(O,{actionsDisabled:o,invite:t,invitedUser:r,isDim:n&&"accepted"!==t.status,onApprove:this.onApprove,onDelete:this.onDelete}),this.renderCurrentModal()]})}}],G(l.prototype,r),n&&G(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function $(e){var t,r,n=e.invite,i=e.invitedUser.id,a=e.invite.board.id,p=(0,l.ZP)(),h=(0,u.Z)(),b=(0,o.useDispatch)(),y=(0,d.Z)(),m=(0,(0,s.F)().checkExperiment)("web_m10n_business_access_orbac_ga").anyEnabled?(0,f.lJ)(h,y):void 0,v=(0,g.h6)(),x=(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v(a,i);case 1:case"end":return e.stop()}},e)}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){H(i,n,o,a,l,"next",e)}function l(e){H(i,n,o,a,l,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)}),P=(0,g.yC)();return(0,_.jsx)(X,U(U({},e),{},{approveBoardCollabInvite:x,deleteBoardCollabInvite:function(e,t){return b(P(n,e,t))},i18n:p,orbacSubjectId:m,toastManagerContext:(0,c.F9)(),viewer:(0,u.Z)()}))}},665292:function(e,t,r){"use strict";r.d(t,{Z:function(){return A}});var n=r(672652),o=r(684404),i=r(140017),a=r(339001),l=r(340523),s=r(995917),c=r(35222),u=r(480236),d=r(937153),f=r(857171),p=r(669485),h=r(819267);function b(e){var t=e.fetchMore,r=e.invites,n=e.isAtEnd,i=e.isFetching,a=e.onBoardLeave,l=e.refreshData,s=e.renderInvite,c=e.scroll;return(0,h.jsxs)(o.xu,{children:[c&&(0,h.jsx)(p.Z,{fetchMore:t,isAtEnd:n,isFetching:i,scrollBuffer:3*c.container.clientHeight,scrollHeight:c.container.scrollHeight,scrollTop:c.top}),r.map(function(e,t){return e&&e.invited_user&&e.invited_user.id?(0,h.jsx)(o.xu,{children:s(e,a,l)},t):null})]})}var y=r(42173);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){w(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(s,e);var t,r,i,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=j(s);if(t){var n=j(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return P(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(P(e=l.call.apply(l,[this].concat(r))),"handleInvitesDidUpdate",function(){var t=e.props,r=t.invitesPendingApproval,n=t.invites;r.refresh(),n.refresh()}),e}return r=[{key:"shouldComponentUpdate",value:function(e){var t=e.invites.data,r=e.pendingOwnershipTransfer,n=this.props,o=n.invites.data,i=n.pendingOwnershipTransfer;return!o||i!==r||!!t&&o.length!==t.length}},{key:"render",value:function(){var e,t,r=this,i=this.props,l=i.board,s=i.invites,c=i.invitesPendingApproval,f=i.scrollInfo,p=i.onBoardLeave,_=i.onModalOpen,m=i.pendingOwnershipTransfer,v=i.renderInvite,g=l.owner,x=g.full_name,P=g.image_medium_url,j=g.username,w=null===(e=(s.data||[]).find(function(e){var t;return(null===(t=e.invited_user)||void 0===t?void 0:t.id)===m}))||void 0===e?void 0:null===(t=e.invited_user)||void 0===t?void 0:t.full_name,S=m&&w?(0,a.nk)(this.props.i18n._('Requested {{ collaboratorName }} to change to board owner', 'boardInviteSheet.CollaboratorList.boardOwner.ownershipRequestSubtitle', 'Subtext for an owner of board who has sent an ownership transfer request'),{collaboratorName:w}).join(""):this.props.i18n._('Owner of this board', 'boardInviteSheet.CollaboratorList.boardOwner.subtitle', 'The subtext that identifies the owner of a board');return(0,h.jsx)(n.Fragment,{children:s.isLoaded||c.isLoaded?(0,h.jsx)(y.Z,{fetchMore:s.fetchMore,children:function(e){var t=e.onScroll,n=e.setRef;return(0,h.jsxs)(o.xu,{ref:n,onScroll:t,width:"100%",children:[(0,h.jsx)(b,{fetchMore:c.fetchMore,invites:c.data||[],isAtEnd:c.isAtEnd,isFetching:c.isFetching,onBoardLeave:p,refreshData:r.handleInvitesDidUpdate,renderInvite:v,scroll:f}),(c.data||[]).length>0?(0,h.jsx)(o.xu,{paddingY:3,children:(0,h.jsx)(o.iz,{})}):null,(0,h.jsxs)(o.xu,{paddingY:1,children:[(0,h.jsx)(d.Z,{imageUrl:null!=P?P:"",linkURL:"/".concat(j,"/"),name:null!=x?x:"",subtitle:S,title:null!=x?x:""}),(s.data||[]).map(function(e){return e&&e.invited_user&&e.invited_user.id?(0,h.jsx)(u.Z,{invite:e,invitedUser:e.invited_user,onBoardLeave:p,onInviteDidUpdate:s.refresh,onModalOpen:_},e.invited_user.id):null})]})]})}}):(0,h.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Loading', 'Loading state for showing board collaborators', 'Loading state for showing board collaborators'),show:!0})})}}],g(s.prototype,r),i&&g(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.Component);function A(e){var t=(0,i.ZP)(),r=(0,f.Z)().pendingOwnershipTransfer,n=(0,(0,l.F)().checkExperiment)("web_m10n_business_access_orbac_ga").anyEnabled,o=(0,c.Z)(),a=(0,s.Z)({name:"BoardInvitesResource",options:v({board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1},n&&o?{orbac_subject_id:o}:{})}),u=(0,s.Z)({name:"BoardInvitesResource",options:v({board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1},n&&o?{orbac_subject_id:o}:{})});return(0,h.jsx)(O,v(v({},e),{},{i18n:t,invites:a,invitesPendingApproval:u,pendingOwnershipTransfer:r}))}},937153:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(672652),o=r(684404),i=r(205841),a=r(862249),l=r(819267);function s(e){var t=e.imageUrl,r=e.name,s=e.title,c=e.subtitle,u=e.accessory,d=e.linkURL,f={__style:{opacity:e.isDim?.5:1}},p=(0,a.Z)({url:null!=d?d:""})?"nofollow":"none";return(0,l.jsx)(n.Fragment,{children:r&&s&&(0,l.jsxs)(o.xu,{alignItems:"center",display:"flex",marginBottom:4,paddingX:4,children:[(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:f,marginEnd:2,children:(0,l.jsx)(o.Tg,{href:d||"",rel:p,rounding:"circle",children:(0,l.jsx)(i.qE,{name:r,outline:!0,size:"md",src:t})})}),(0,l.jsxs)(o.xu,{alignItems:"stretch",dangerouslySetInlineStyle:f,direction:"column",display:"flex",flex:"grow",children:[(0,l.jsx)(o.xv,{color:"default",lineClamp:1,size:"300",weight:"bold",children:(0,l.jsx)(o.rU,{href:d||"",rel:p,children:s})}),(0,l.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"100",children:c})]}),u&&(0,l.jsx)(o.xu,{marginStart:4,children:u})]})})}},524383:function(e,t,r){"use strict";r.d(t,{VV:function(){return w},tk:function(){return g}});var n=r(672652),o=r(684404),i=r(224796),a=r(214877),l=r(140017),s=r(731714),c=r(943114),u=r(819267);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var g=function(e){return e<=500},x=Object.freeze({}),P={custom:11566,newest:11564,oldest:11565,most_comments:11563,most_reactions:11562,by_pinner:11561},j=function(e,t,r){if(e.isAuth){var n=s.Z.getItem(i.iT)||x,o=n[e.id]||{},a=_(_({},n),{},m({},e.id,_(_({},o),{},m({},t.id,r))));s.Z.setItem(i.iT,a)}},w=function(e,t){var r=s.Z.getItem(i.iT)||x;return(e.isAuth&&r[e.id]||{})[t.id]||null},S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=b(a);if(t){var n=b(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(h(e=i.call.apply(i,[this].concat(r))),"handleChange",function(t){var r=t.event,n=t.value,o=e.props,i=o.onChange,a=o.viewer,l=o.board;r.stopPropagation(),window.scrollTo({top:0,left:0,behavior:"smooth"}),j(a,l,n),i&&i(n),e.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,c.f4)(a,l),component:13475,element:P[n],aux_data:{board_id:l.id}})}),m(h(e),"logDropdownClick",function(){var t=e.props,r=t.board,n=t.viewer;e.props.logContextEvent({event_type:101,view_type:5,view_parameter:(0,c.f4)(n,r),component:13486,element:11567,aux_data:{board_id:r.id}})}),m(h(e),"handleKeyPress",function(t){var r=t.charCode;(void 0===r?0:r)===32&&(t.preventDefault(),e.logDropdownClick())}),e}return r=[{key:"render",value:function(){var e=this.props.currentView,t=[{value:"custom",label:this.props.i18n._('Custom', 'Option for users to filter their Pins in a custom order (as it currently is)', 'Option for users to filter their Pins in a custom order (as it currently is)')},{value:"most_reactions",label:this.props.i18n._('Most reactions', 'Option for users to filter their Pins by the most reactions', 'Option for users to filter their Pins by the most reactions')}];return(0,u.jsx)("div",{onClick:this.logDropdownClick,onKeyPress:this.handleKeyPress,role:"listbox",tabIndex:0,children:(0,u.jsx)(o.EI,{id:"gbFilterSelectlist",onChange:this.handleChange,size:"lg",value:e,children:t.map(function(e){return(0,u.jsx)(o.EI.Option,_({},e),e.label)})})})}}],f(a.prototype,r),n&&f(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);t.ZP=function(e){var t=(0,a.v)().logContextEvent,r=(0,l.ZP)();return(0,u.jsx)(S,_(_({},e),{},{i18n:r,logContextEvent:t}))}},943114:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{Df:function(){return i},W$:function(){return o},f4:function(){return a}});var o=function(e,t){var r,o="object"===n(t.owner)?null===(r=t.owner)||void 0===r?void 0:r.id:t.owner;return e.isAuth&&o===e.id},i=function(e,t){return!!(e.isAuth&&t.collaborated_by_me)},a=function(e,t){return o(e,t)?3069:3070}},857171:function(e,t,r){"use strict";r.d(t,{k:function(){return c}});var n=r(672652),o=r(342513),i=r(819267),a=(0,o.Z)("BoardOwnershipTransferContext"),l=a.Provider,s=a.useHook;function c(e){var t=e.boardName,r=void 0===t?"":t,o=e.children,a=e.pendingOwnershipTransfer,s=void 0===a?null:a,c=e.viewerIsOwner,u=(0,n.useMemo)(function(){return{boardName:r,pendingOwnershipTransfer:s,viewerIsOwner:c}},[r,s,c]);return(0,i.jsx)(l,{value:u,children:o})}t.Z=s},796122:function(e,t,r){"use strict";r.d(t,{Z:function(){return eu}});var n=r(672652),o=r(684404),i=r(481177),a=r(930837),l=r(140017),s=r(339001),c=r(5859),u=r(14583),d=r(427514),f=r(13848),p=r(554786),h=r(747602),b=r(168477),y=r(205841),_=r(340523),m=r(995917),v=r(137023),g=r(675266),x=r(819267);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==P(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||A(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function E(e){var t=e.selectedContacts,r=void 0===t?[]:t,i=e.setSelectedContacts,a=(0,l.ZP)(),s=(0,(0,_.F)().checkExperiment)("sg_dweb_create_board_add_collaborators_profile").group,c=(0,m.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}).data,u=O((0,n.useState)([]),2),d=u[0],f=u[1];(0,n.useEffect)(function(){c&&"enabled_default_suggestions"===s&&f(c.map(function(e){return"email_share_suggestion"===e.type?S(S({},e),{},{id:e.email||""}):e}))},[c,s]);var p=O((0,n.useState)(""),2),h=p[0],b=p[1],P=r.map(function(e){return e.id}),w=(0,g.Z)(h)&&!P.includes(h)?{id:h,type:"email"}:null,A=[].concat(j(r),[w],j(d.filter(function(e){return!P.includes(e.id)}))).filter(Boolean),C=function(e){P.includes(e.id)?null==i||i((r||[]).filter(function(t){return t.id!==e.id})):null==i||i([].concat(j(r),[e]))};return(0,x.jsxs)(o.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,x.jsx)(o.xu,{paddingY:2,children:(0,x.jsx)(o.xv,{size:"100",children:a._('Add collaborators', 'text indicates that this section is for adding collaborators to a board', 'boardCreate.addCollaborators.heading')})}),(0,x.jsx)(o.xu,{marginBottom:4,marginTop:2,width:"100%",children:(0,x.jsx)(o.xu,{children:(0,x.jsx)(v.Z,{onTypeaheadSuggestionsChange:function(e){f(e)},resourceName:"ShareSuggestionsTypeaheadResource",value:h,children:(0,x.jsx)(o.Um,{accessibilityLabel:a._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:function(e){b(e.value)},placeholder:a._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:h})})})}),(0,x.jsx)(o.xu,{overflow:"scrollY",children:A.map(function(e){return(0,x.jsxs)(o.xu,{display:"flex",paddingY:2,children:[(0,x.jsxs)(o.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,x.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,x.jsx)(o.JO,{accessibilityLabel:a._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,x.jsx)(o.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,x.jsx)(y.qE,{name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,x.jsx)(o.kC,{alignItems:"center",children:(0,x.jsx)(o.xu,{children:(0,x.jsx)(o.xv,{size:"300",children:e.id})})}):(0,x.jsxs)(o.kC,{direction:"column",justifyContent:"center",children:[(0,x.jsx)(o.xu,{marginBottom:1,children:(0,x.jsx)(o.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,x.jsx)(o.xu,{children:(0,x.jsx)(o.xv,{size:"200",children:"@".concat(e.username||"")})})]})]}),(0,x.jsx)(o.kC,{flex:"none",children:(0,x.jsx)(o.zx,{onClick:function(){return C(e)},selected:P.includes(e.id),size:"lg",text:P.includes(e.id)?a._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):a._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]},e.id)})})]})}var I=r(14774),T=function(e){var t=e.label,r=e.labelId;return r?(0,x.jsx)(o.__,{htmlFor:r,children:(0,x.jsx)(o.xv,{size:"100",children:t})}):(0,x.jsx)(o.xv,{size:"100",children:t})};function D(e){var t=e.children,r=e.label,i=e.labelId;return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(o.xu,{marginBottom:2,children:(0,x.jsx)(T,{label:r,labelId:i})}),t]})}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function z(e){var t,r=e.coverPin,i=e.handleShowBoardCoverEditModal,a=(0,l.ZP)(),s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=s[0],d=s[1],f=(0,c.B)().isRTL;return(0,x.jsx)(D,{label:a._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,x.jsx)(o.xu,{position:"relative",width:138,children:(0,x.jsx)(o.iP,{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onTap:i,rounding:4,children:null!=r&&r.custom_cover?(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(o.zd,{height:138,rounding:4,width:138,children:(0,x.jsx)(o.Ee,{alt:r.image_url,color:"gray",fit:"cover",naturalHeight:r.size&&r.size[0]||138,naturalWidth:r.size&&r.size[0]||138,src:r.image_url})}),(0,x.jsx)(o.xu,{bottom:!0,left:f,padding:2,position:"absolute",right:!f,children:(0,x.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:u?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,x.jsx)(o.JO,{accessibilityLabel:a._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),color:"default",icon:"edit",size:16})})})]}):(0,x.jsx)(o.xu,{alignItems:"center",color:u?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,x.jsx)(o.JO,{accessibilityLabel:a._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function R(e){var t=e.children,r=e.label,i=e.labelId,a=e.subtext;return(0,x.jsx)(n.Fragment,{children:(0,x.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[t,(0,x.jsx)(o.xu,{marginStart:2,children:(0,x.jsxs)(o.__,{htmlFor:i,children:[(0,x.jsx)(o.xv,{size:"300",weight:"bold",children:r}),a]})})]})})}function B(e){var t=e.hasCollabBoardEmail,r=e.isCollaborative,n=e.onCheckboxChange,i=(0,l.ZP)();return r&&(0,x.jsx)(R,{label:i._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,x.jsx)(o.xv,{color:"subtle",size:"300",children:i._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,x.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(o.xu,{marginEnd:1,children:(0,x.jsx)(o.XZ,{checked:t,id:"emailNotificationsCheckbox",name:"email",onChange:n})})})})}var M=r(274262),L=r(847754);function N(e){var t,r=e.board,n=e.onCollaboratorInviteClick,i=(0,l.ZP)(),a=(0,L.Z)({boardId:r.id,ownerName:null!==(t=r.owner.full_name)&&void 0!==t?t:"",ownerUsername:r.owner.username,ownerImgSrc:r.owner.image_medium_url||r.owner.image_small_url||""}),c=a.slice(0,3).map(function(e){return e.name}),u="";switch(a.length){case 3:u=(0,s.Wc)("".concat(i._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(c[0]),second:"".concat(c[1]),last:"".concat(c[2])});break;case 2:u=(0,s.Wc)("".concat(i._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(c[0]),second:"".concat(c[1])});break;default:u=c.join(", ")}var d=a.length>3?(0,s.Wc)(i.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', a.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:u,leftCount:"".concat(a.length-3)}):(0,s.Wc)("".concat(i._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:u});return(0,x.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,x.jsx)(o.HE,{accessibilityLabel:d,collaborators:a.map(function(e){var t=e.name,r=e.src;return{src:null!=r&&r.endsWith("/default_75.png")?void 0:r,name:t}}),size:"md"}),(0,x.jsx)(o.hU,{accessibilityLabel:i._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:n,size:"lg"})]})}function Z(e){var t=e.board,r=e.onCollaboratorInviteClick,n=(0,l.ZP)(),i=(0,x.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(o.xv,{inline:!0,size:"100",children:n._('Collaborators', ' - ', ' -- ')}),(0,x.jsx)(M.Z,{}),(0,x.jsx)(o.xv,{inline:!0,size:"100",weight:"bold",children:(0,x.jsx)(o.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:n._('Learn more', ' - ', ' -- ')})})]});return(0,x.jsx)(D,{label:i,labelId:"collaborators",children:(0,x.jsx)(N,{board:t,onCollaboratorInviteClick:r})})}function F(e){var t=e.collaboratorInvitesEnabled,r=e.isCollaborative,n=e.onCheckboxChange,i=(0,l.ZP)();return r&&(0,x.jsx)(R,{label:i._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,x.jsx)(o.XZ,{checked:t,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:n})})}function U(e){var t=e.description,r=e.descriptionValidatorErrors,n=e.onChange,i=(0,l.ZP)(),a="boardEditDescription";return(0,x.jsx)(D,{label:i._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:a,children:(0,x.jsx)(o.Kx,{errorMessage:r.join(", "),id:a,name:"description",onChange:n,placeholder:i._('What\'s your board about?', ' - ', ' -- '),value:t})})}var H=function(e){var t=e.children;return(0,x.jsx)(o.xu,{paddingX:8,role:"list",children:n.Children.map(t,function(e,r){return e&&(0,x.jsx)(o.xu,{marginBottom:r===n.Children.count(t)-1?1:8,role:"listitem",children:e},r)})})};function G(e){var t=e.name,r=e.nameValidatorErrors,n=e.onChange,i=e.disabled,a=(0,l.ZP)();return(0,x.jsx)(D,{label:a._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,x.jsx)(o.nv,{disabled:i,errorMessage:r.join(", "),id:"boardEditName",name:"boardName",onChange:n,placeholder:a._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:t})})}var V=function(e){var t=e.board,r=e.collabBoardEmail,n=e.collaboratorInvitesEnabled,i=e.coverPin,a=e.currentUserIsOwner,s=e.description,c=e.descriptionValidatorErrors,u=e.handleBoardLeave,d=e.isCollaborative,f=e.showCoverEdit,p=e.name,h=e.nameValidatorErrors,b=e.handleShowBoardCoverEditModal,y=e.handleChangeName,_=e.handleChangeDescription,m=e.handleShowCollaboratorsModal,v=e.handleChangeCollabBoardEmail,g=e.handleChangeCollaboratorInvitesEnabled,P=(0,l.ZP)();return(0,x.jsxs)(H,{children:[f&&(0,x.jsx)(z,{coverPin:i,handleShowBoardCoverEditModal:b}),(0,x.jsx)(G,{disabled:!0,name:p,nameValidatorErrors:h,onChange:y}),(0,x.jsx)(U,{description:s,descriptionValidatorErrors:c,onChange:_}),a&&!!u&&(0,x.jsx)(Z,{board:t,onCollaboratorInviteClick:m}),d&&(0,x.jsx)(o.xu,{marginBottom:-7,children:(0,x.jsx)(o.xv,{size:"100",children:P._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,x.jsx)(B,{hasCollabBoardEmail:r,isCollaborative:d,onCheckboxChange:v}),(0,x.jsx)(F,{collaboratorInvitesEnabled:n,isCollaborative:d,onCheckboxChange:g})]})};function W(e){var t=e.isProtectedToggler,r=e.isToggleDisable,a=e.onChange,s=e.onCheckboxChange,c=e.privacy,u=(0,l.ZP)();if(!0===t)return(0,x.jsx)(R,{label:u._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,x.jsx)(o.xu,{paddingY:2,children:(0,x.jsx)(o.rs,{disabled:r,id:"protected",onChange:a,switched:c===i.Z.BoardPrivacy.PROTECTED})})});if(c!==i.Z.BoardPrivacy.PROTECTED){var d=u._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),f=(0,x.jsx)(n.Fragment,{children:(0,x.jsxs)(o.xv,{color:"subtle",size:"300",children:[u._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,x.jsx)(o.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",underline:"hover",children:u._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,x.jsx)(R,{label:d,labelId:"secret",subtext:f,children:(0,x.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(o.XZ,{checked:c===i.Z.BoardPrivacy.SECRET,disabled:r,id:"secret",name:"secret",onChange:s})})})}return null}function q(e){var t=e.allowHomefeedRecommendations,r=e.onCheckboxChange,n=(0,l.ZP)();return(0,x.jsx)(R,{label:n._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,x.jsx)(o.xv,{color:"subtle",size:"300",children:n._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,x.jsx)(o.XZ,{checked:t,id:"recommendation",name:"recommendation",onChange:r})})}function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach(function(t){et(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,er(n.key),n)}}function J(e,t){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t,r){return(t=er(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function er(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==K(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===K(t)?t:String(t)}var en=(0,n.lazy)(function(){return Promise.all([r.e(97270),r.e(95241)]).then(r.bind(r,732420))}),eo=(0,n.lazy)(function(){return Promise.all([r.e(93810),r.e(10472),r.e(65292),r.e(15502),r.e(90476)]).then(r.bind(r,219373))}),ei=function(e,t){return(0,h.Gy)({max:e,maxErrorString:(0,d.Z)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})})},ea=function(e){return[ei(i.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)]},el=function(e){return[(0,h.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),ei(i.Z.MAX_CHARS_FOR_BOARD_TITLE,e)]},es=function(e){var t=e.condition,r=e.children;return t?(0,x.jsx)(o.xu,{position:"absolute",zIndex:a.b7,children:r}):r},ec=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(c,e);var t,r,i,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ee(c);if(t){var n=ee(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return Q(e)}(this,e)});function c(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c),et(Q(t=l.call(this,e)),"handleChangeName",function(e){var r=e.value,n=(0,h.FU)(el(t.props.i18n),r);t.setState({name:r,nameValidatorErrors:n})}),et(Q(t),"handleChangeDescription",function(e){var r=e.value,n=(0,h.FU)(ea(t.props.i18n),r);t.setState({description:r,descriptionValidatorErrors:n})}),et(Q(t),"handleChangePrivacyToggle",function(e){var r=e.value,n="public";r&&(n=t.props.isAdAccount?"protected":"secret"),t.state.privacy!==n&&t.setState({privacy:n})}),et(Q(t),"handleEnableSecret",function(){t.setState({privacy:"secret",showSecretConfirmation:!1})}),et(Q(t),"handleHideSecretConfirmation",function(){t.setState({showSecretConfirmation:!1})}),et(Q(t),"handleChangeRecommendationToggle",function(e){var r=e.value;t.setState({allowHomefeedRecommendations:r})}),et(Q(t),"handleChangeCollabBoardEmail",function(e){var r=e.value;t.setState({collab_board_email:r})}),et(Q(t),"handleChangeCollaboratorInvitesEnabled",function(e){var r=e.value;t.setState({collaboratorInvitesEnabled:r})}),et(Q(t),"handleCheckboxChange",function(e){return function(t){return e({event:t.event,value:t.checked})}}),et(Q(t),"handleSubmit",function(e){var r=t.props.onSubmit,n=t.state,o=n.collab_board_email,i=n.collaboratorInvitesEnabled,a=n.description,l=n.name,s=n.privacy,c=n.allowHomefeedRecommendations;if(e.preventDefault&&e.preventDefault(),!t.submitDisabled()){var u=l.trim(),d=a.trim();t.setState({submitting:!0,submitError:""}),r({name:u,collab_board_email:o,collaborator_invites_enabled:i,description:d,privacy:s,allow_homefeed_recommendations:c}).then(function(){t.setState({submitting:!1})}).catch(function(e){var r=t.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){var n=e.message,o=e.message_detail;r=o?"".concat(n," ").concat(o):n}else"string"==typeof e&&(r=e);t.setState({submitting:!1,submitError:r})})}}),et(Q(t),"handleShowBoardCoverEditModal",function(){t.setState({showBoardCoverEdit:!0})}),et(Q(t),"handleHideBoardCoverEditModal",function(){t.setState({showBoardCoverEdit:!1})}),et(Q(t),"handleShowCollaboratorsModal",function(){t.setState({showCollaboratorsModal:!0})}),et(Q(t),"handleHideCollaboratorsModal",function(){t.setState({showCollaboratorsModal:!1})}),et(Q(t),"handleSaveBoardCoverEditModal",function(e){t.handleHideBoardCoverEditModal();var r=t.props.onCropChange;r&&r(e)});var t,r=e.board,n=r.collab_board_email,o=r.collaborator_invites_enabled,i=r.description,a=r.name,s=r.pin_count,u=r.privacy,d=r.allow_homefeed_recommendations;return t.state={collab_board_email:n,description:i,name:a,pin_count:s,privacy:u,allowHomefeedRecommendations:d,collaboratorInvitesEnabled:o,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:a,previousDescription:i,previousPrivacy:u},t}return r=[{key:"getFormFooter",value:function(){var e=this.props.submitText,t=this.state.submitError;return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(o.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,x.jsx)(o.xu,{children:(0,x.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsx)(o.xu,{height:48,children:(0,x.jsx)(o.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,x.jsx)(o.xu,{"aria-live":"polite",paddingX:1,tabIndex:"0",children:(0,x.jsx)(o.xv,{color:"error",children:t})})]})}},{key:"submitDisabled",value:function(){var e=this.state,t=e.descriptionValidatorErrors,r=e.name,n=e.nameValidatorErrors,o=e.submitting;return!r||n.length>0||t.length>0||o}},{key:"render",value:function(){var e=this.props,t=e.board,r=e.board,i=r.archived_by_me_at,l=r.cover_pin,c=r.id,d=r.is_collaborative,f=e.coverImageHeight,p=e.coverImageWidth,h=e.currentUserIsOwner,y=e.handleBoardLeave,_=e.isAdAccount,m=e.isAdAccountOwner,v=e.isDeletable,g=e.isDesktop,P=e.isEditable,j=e.isNameAndSecretView,w=e.onClose,S=e.onDeleteButtonClick,O=e.requestContext,A=e.title,C=e.useModalWithNoLayer,T=e.showSecretBoardCreateToggle,D=e.shouldShowAddCollaborators,k=e.setSelectedContacts,R=e.selectedContacts,M=this.state,L=M.allowHomefeedRecommendations,N=M.collab_board_email,K=M.collaboratorInvitesEnabled,Y=M.description,X=M.descriptionValidatorErrors,$=M.name,J=M.nameValidatorErrors,Q=M.pin_count,ee=M.privacy,et=M.showBoardCoverEdit,er=M.showCollaboratorsModal,ei=M.showSecretConfirmation,ea=P&&Q>0,el=t.is_ads_only,ec=(0,x.jsxs)(H,{children:[ea&&(0,x.jsx)(z,{coverPin:l,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,x.jsx)(G,{disabled:el,name:$,nameValidatorErrors:J,onChange:this.handleChangeName}),(0,x.jsx)(U,{description:Y,descriptionValidatorErrors:X,onChange:this.handleChangeDescription}),h&&!!y&&(0,x.jsx)(Z,{board:t,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,x.jsx)(o.xu,{marginBottom:-7,children:(0,x.jsx)(o.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,x.jsx)(W,{isProtectedToggler:!!_,isToggleDisable:!!_&&!m,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ee}),!i&&(0,x.jsx)(q,{allowHomefeedRecommendations:L,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,x.jsx)(B,{hasCollabBoardEmail:N,isCollaborative:d,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,x.jsx)(F,{collaboratorInvitesEnabled:K,isCollaborative:d,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),v&&(0,x.jsxs)(o.xu,{marginTop:-6,paddingY:4,children:[(0,x.jsx)(o.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,x.jsxs)(o.iP,{onTap:S,children:[(0,x.jsx)(o.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,x.jsx)(o.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,x.jsx)(o.xv,{color:"subtle",size:"300",children:(0,s.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:b.Xq})})]})]})]});h?j&&(ec=(0,x.jsxs)(H,{children:[(0,x.jsx)(G,{disabled:el,name:$,nameValidatorErrors:J,onChange:this.handleChangeName}),!T&&(0,x.jsx)(W,{isProtectedToggler:!!_,isToggleDisable:!!_&&!m,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ee}),D&&(0,x.jsx)(E,{selectedContacts:R,setSelectedContacts:k})]})):ec=(0,x.jsxs)(H,{children:[!!y&&(0,x.jsx)(Z,{board:t,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,x.jsx)(B,{hasCollabBoardEmail:N,isCollaborative:d,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!i&&el&&(0,x.jsx)(q,{allowHomefeedRecommendations:L,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,x.jsx)(o.xv,{color:"subtle",size:"300",children:(0,s.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,x.jsx)(o.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:t.owner.full_name})})})]});var eu=C?o.u_:a.ZP,ed=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),ef=(0,x.jsxs)(o.xu,{paddingY:8,position:"relative",children:[(0,x.jsx)(o.X6,{align:"center",size:"500",children:ed}),(0,x.jsx)(o.xu,{left:O.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!O.isRTL,top:!0,children:(0,x.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(es,{condition:!!C,children:!et&&!er&&(0,x.jsx)(eu,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),footer:this.getFormFooter(),heading:A,onDismiss:w,size:"sm",children:(0,x.jsx)(o.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,x.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!el&&ec,el&&(0,x.jsx)(V,{board:t,collabBoardEmail:N,collaboratorInvitesEnabled:K,coverPin:l,currentUserIsOwner:h,description:Y,descriptionValidatorErrors:X,handleBoardLeave:y,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:d,name:$,nameValidatorErrors:J,showCoverEdit:ea})]})})})}),et&&g&&(0,x.jsx)(u.Z,{children:(0,x.jsx)(en,{boardId:c,boardName:$,coverPinId:null==l?void 0:l.pin_id,frameHeight:f,frameWidth:p,heading:ef,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),ei&&(0,x.jsx)(I.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),er&&(0,x.jsx)(u.Z,{children:(0,x.jsx)(eo,{board:t,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){var r={};return e.board.name&&e.board.name!==t.previousName&&(r.previousName=e.board.name,r.nameValidatorErrors=(0,h.FU)(el(e.i18n),e.board.name)),e.board.description&&e.board.description!==t.previousDescription&&(r.previousDescription=e.board.description,r.descriptionValidatorErrors=(0,h.FU)(ea(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==t.previousPrivacy&&(r.previousPrivacy=e.board.privacy),r}}],r&&$(c.prototype,r),i&&$(c,i),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function eu(e){var t=(0,l.ZP)(),r=(0,p.ZP)();return(0,x.jsx)(ec,X(X({},e),{},{i18n:t,isDesktop:"desktop"===r,requestContext:(0,c.B)(),toastManagerContext:(0,f.F9)()}))}et(ec,"defaultProps",{isNameAndSecretView:!1})},421820:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var n=r(672652),o=r(328038),i=r(214877),a=r(149722),l=r(684404),s=r(140017),c=r(624797),u=r(212890),d=r(761203),f=r(113208),p=r(8874),h=r(636362),b=r(819267);function y(e){var t=e.boardResource,r=t.data,n=t.refresh,i=(0,s.ZP)(),a=null==r?void 0:r.id,y=(0,d.gC)()(null!=a?a:"")||null,_=(0,o.TH)(),m=_.search,v=_.state;if((0,p.Z)(),!y)return(0,b.jsx)(l.$j,{accessibilityLabel:i._('Loading Board page', 'ExperimentalBoardPageContainer.Spinner', 'Accessibility label on loading spinner'),show:!0});var g=null==v?void 0:v.newBoard,x=(0,u.Uz)(null==r?void 0:r.sensitivity),P=g&&!x&&null!=r&&r.should_show_more_ideas?f.s.jumpstartBoard:null,j=(0,c.mB)(m);return(0,b.jsx)(h.Z,{board:y,initialModalType:P,refreshBoardData:n,showPulsar:!!j.showPulsar})}function _(e){var t=e.boardResource,r=(0,a.Z)(),l=(0,o.UO)().username,s=r.isAuth&&r.username===l?3069:3070,c=(0,i.v)().logContextEvent;return(0,n.useEffect)(function(){t.data&&c({aux_data:{board_id:t.data.id,board_pin_count:t.data.pin_count},component:178,event_type:13,view_type:5,view_parameter:s})},[t.data,c,s]),(0,b.jsx)(y,{boardResource:t})}},104567:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(672652),o=r(684404),i=r(652151),a=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function d(e){var t=e.children,r=e.forwardRef,l=e.position,s=void 0===l?"static":l,d=e.shouldShowShadow,f=void 0!==d&&d,p=e.top,h=e.style,b=void 0===h?{}:h,y=(0,i.W)(),_=y.currentScrollPosition,m=y.isScrolled,v=y.setSubheaderShadow;(0,n.useEffect)(function(){return f&&v("contentHeader"),function(){f&&v(null)}},[f]);var g=!1;"pending"!==p&&(g=null!=p?_>=p:m);var x=(0,a.jsx)(o.xu,{ref:r,dangerouslySetInlineStyle:{__style:c(c({position:s},b),g&&f&&c(c({},u),{},{zIndex:499}))},children:t});return"sticky"===s?(0,a.jsx)(o.Le,{top:0,children:x}):x}},241442:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(684404),o=r(587703),i=r(696534),a=r(494125),l=r(13016),s=r(819267);function c(e){var t=e.action,r=e.alignCenter,i=(0,o.Z)(),a=t.title,c=t.description,u=t.button,d=a&&a.text,f=c&&c.text,p=u&&u.text||"",h=u&&u.link||"";return(0,s.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[!!d&&(0,s.jsx)(n.xv,{align:r?"center":"start",weight:"bold",children:d}),!!f&&(0,s.jsx)(n.xv,{align:r?"center":"start",children:f}),!!(u&&p&&h)&&(0,s.jsx)(n.xu,{paddingY:3,children:(0,s.jsx)(n.zx,{color:"white",fullWidth:!0,onClick:function(){(0,l.Fb)(i,h),window.location.replace(h)},text:p})})]})}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},h=f({backgroundColor:"#DDF3F2"},p),b=f({backgroundColor:"#21374B"},p);function y(e){var t,r=e.alignCenter,u=e.boardId,d=e.boardSectionId,f=e.notice,p=e.viewType,y=e.viewParameter,_=e.query,m=e.sensitivity,v=(0,o.Z)(),g=null!==(t=null==f?void 0:f.actions)&&void 0!==t?t:[],x=null==f?void 0:f.description,P=(null==x?void 0:x.text)||"",j=(null==x?void 0:x.text_tags)||[],w=null==f?void 0:f.title,S=function(e,t,r){for(var o=[],i=0,a=0;a<t.length;a+=1){var c=t[a];5===c.tag_type&&c.link&&function(){var t=c.offset,u=c.length,d=c.link;if(null!=t&&null!=u&&null!=d){var f=e.substring(t,t+u),p=(0,s.jsx)(n.rU,{display:"inlineBlock",href:d,onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),(0,l.Fb)(r,d)},target:"blank",underline:"hover",children:(0,s.jsx)(n.xv,{inline:!0,weight:"bold",children:f})},"link-".concat(a,"-").concat(f));o.push((0,s.jsx)(n.xv,{inline:!0,children:e.substring(i,t)},"text-".concat(a,"-").concat(f))),o.push(p),i=t+u}}()}return(i>0&&o.push((0,s.jsx)(n.xv,{inline:!0,children:e.substring(i)},e.substring(i))),0===o.length)?[(0,s.jsx)("span",{children:e},e)]:o}(P,j,v);return(0,a.Z)(function(){p&&v({aux_data:{entered_query:_,advisory_details:null==m?void 0:m.advisory_details,advisory_level:null==m?void 0:m.advisory,severity_level:null==m?void 0:m.severity},event_type:120,component:13367,view_parameter:y,view_type:p}),u&&5===p&&v({aux_data:{board_id:u,board_section_id:null!=d?d:0},component:178,event_type:15549,view_parameter:y,view_type:p})}),(0,s.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:(0,i.Yc)()?b:h},"data-test-id":"search-advisory",padding:6,rounding:2,children:[!!w&&(0,s.jsx)(n.xu,{display:"flex",justifyContent:r?"center":void 0,marginBottom:3,children:(0,s.jsx)(n.X6,{size:"500",children:w})}),!!P&&(0,s.jsx)(n.xu,{marginBottom:4,children:(0,s.jsx)(n.xv,{size:"100",children:S})}),g.map(function(e){return(0,s.jsx)(n.xu,{paddingY:g.length>1?2:0,children:(0,s.jsx)(c,{action:e,alignCenter:r})},e.id)})]})}},13016:function(e,t,r){"use strict";r.d(t,{Fb:function(){return a},Fx:function(){return o},IR:function(){return n},Uz:function(){return i}});var n={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function o(e){return null!=e&&(!!e.notice||!!e.notices&&e.notices.length>0)}function i(e){return!!e&&e.severity===n.ABUSIVE}function a(e,t){e({aux_data:{url:t},component:13367,element:11180,event_type:102,view_parameter:43,view_type:2})}},373395:function(e,t,r){"use strict";r.d(t,{W:function(){return L},Z:function(){return N}});var n,o,i,a,l,s=r(672652),c=r(42279),u=r(214877),d=r(333739),f=r(807023),p=r(494125),h=r(684404),b=r(587703),y=r(207012),_=r(862249),m=r(212890),v=r(819267),g=void 0!==n?n:n=r(438143);function x(e){var t,r=e.actionKey,n=e.alignCenter,o=(0,y.Z)(g,r),i=(0,b.Z)(),a=o.title,l=o.description,c=o.button,u=null==c?void 0:c.text,d=null==a?void 0:a.text,f=null==l?void 0:l.text,p=null!==(t=null==c?void 0:c.link)&&void 0!==t?t:"",x=p.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),P=u&&p.startsWith("http"),j=(0,_.Z)({url:p});return P?(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(h.xu,{marginBottom:1,children:(0,v.jsx)(h.xv,{align:n?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,v.jsx)(h.xu,{marginBottom:1,children:(0,v.jsx)(h.rU,{href:p,onClick:function(){(0,m.AY)(i,p)},rel:P&&j?"nofollow":"none",children:(0,v.jsx)(h.xv,{align:n?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:x})})})]}):(0,v.jsxs)(s.Fragment,{children:[!!d&&(0,v.jsx)(h.xu,{marginBottom:1,children:(0,v.jsx)(h.xv,{align:n?"center":"start",weight:"bold",children:d})}),!!f&&(0,v.jsx)(h.xu,{marginBottom:1,children:(0,v.jsx)(h.xv,{align:n?"center":"start",children:f})})]})}var P=void 0!==o?o:o=r(997473);function j(e){for(var t=e.text,r=e.textTags,n=[],o=0,i=0;i<r.length;i+=1){var a=r[i];if(5===a.tagType&&a.link){var l=a.offset,s=a.length,c=a.link;if(null!=l&&null!=s&&null!=c){var u=t.substring(l,l+s),d=(0,v.jsx)(h.xv,{inline:!0,weight:"bold",children:(0,v.jsx)(h.rU,{display:"inlineBlock",href:c,target:"blank",underline:"hover",children:u},u)});n.push((0,v.jsx)("span",{children:t.substring(o,l)})),n.push(d),o=l+s}}}return(o>0&&n.push((0,v.jsx)("span",{children:t.substring(o)})),0===n.length)?[(0,v.jsx)("span",{children:t})]:n}function w(e){var t=e.graphqlRef,r=e.text,n=(0,c.useFragment)(P,t);return(0,v.jsx)(j,{text:r,textTags:n})}function S(e){var t=e.textTags,r=e.text,n=t.map(function(e){return{length:e.length,link:e.link,offset:e.offset,tagType:e.tag_type}});return(0,v.jsx)(j,{text:r,textTags:n})}function O(e){var t=e.dataKey,r=e.text;return"graphqlRef"===t.type?(0,v.jsx)(w,{graphqlRef:t.data,text:r}):(0,v.jsx)(S,{text:r,textTags:t.data})}var A=[4,14],C={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},E={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},I=void 0!==i?i:i=r(173477);function T(e){var t,r,n,o,i,a=e.advisory,l=e.inModal,s=e.noticeKey,c=(0,f.Q)(I,s,{useLegacyAdapter:function(e){var t,r;return{actions:null===(t=e.actions)||void 0===t?void 0:t.map(function(e){return{actionId:e.id,$fragmentSpreads:d.qH}}),description:e.description&&{text:e.description.text,textTags:null===(r=e.description.text_tags)||void 0===r?void 0:r.map(function(){return{$fragmentSpreads:d.qH}})},title:e.title}}}),u=c.data,p=c.childDataKey__DEPRECATED,b=u.title,y=u.description,_="graphqlRef"===p.type?null===(t=p.data.actions)||void 0===t?void 0:t.map(function(e){return{type:"graphqlRef",data:e}}):null===(r=p.data.actions)||void 0===r?void 0:r.map(function(e){return{type:"deprecated",data:e}}),m=!!(null!=_&&_.length)&&!!a&&A.includes(a),g=(null==_?void 0:_.length)===1,P=y&&y.text||"";return(0,v.jsxs)(h.xu,{dangerouslySetInlineStyle:{__style:l?E:C},padding:6,rounding:2,children:[!!b&&!l&&(0,v.jsx)(h.xu,{display:"flex",marginBottom:2,children:(0,v.jsx)(h.X6,{size:"500",children:b})}),!!P&&(0,v.jsx)(h.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,v.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,v.jsx)(h.xv,{align:l?"center":"start",overflow:"normal",children:(0,v.jsx)(O,{dataKey:"graphqlRef"===p.type?{type:"graphqlRef",data:null!==(n=null===(o=p.data.description)||void 0===o?void 0:o.textTags)&&void 0!==n?n:[]}:{type:"deprecated",data:null!==(i=p.data.description.text_tags)&&void 0!==i?i:[]},text:P})})})}),m&&(0,v.jsx)(h.xu,{direction:l?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:null==_?void 0:_.map(function(e){var t;return(0,v.jsx)(h.xu,{column:l||g?12:6,paddingX:2,paddingY:1,children:(0,v.jsx)(x,{actionKey:e,alignCenter:l||g})},null!==(t=e.data.actionId)&&void 0!==t?t:JSON.stringify(e.data))})})]})}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var z=void 0!==a?a:a=r(798824);function R(e){var t,r,n,o,i,a,l,s=e.noticeKey,c=(0,f.Q)(z,s,{useLegacyAdapter:function(e){var t,r;return{actions:null===(t=e.actions)||void 0===t?void 0:t.map(function(e){return{button:e.button&&{link:e.button.link,text:e.button.text},description:e.description&&{text:e.description.text},title:e.title&&{text:e.title.text}}}),description:e.description&&{text:e.description.text,textTags:null===(r=e.description.text_tags)||void 0===r?void 0:r.map(function(){return{$fragmentSpreads:d.qH}})},footer:e.footer&&{link:e.footer.link,text:e.footer.text}}}}),u=c.data,p=c.childDataKey__DEPRECATED,y=(0,b.Z)(),_={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,v.jsxs)(h.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,v.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,v.jsxs)(h.xu,{height:"100%",padding:10,width:"100%",children:[(0,v.jsx)("span",{style:_,children:(0,v.jsx)(O,{dataKey:"graphqlRef"===p.type?{type:"graphqlRef",data:null!==(t=null===(r=p.data.description)||void 0===r?void 0:r.textTags)&&void 0!==t?t:[]}:{type:"deprecated",data:null!==(n=p.data.description.text_tags)&&void 0!==n?n:[]},text:(null===(o=u.description)||void 0===o?void 0:o.text)||""})}),(0,v.jsx)(h.xu,{marginTop:6,children:(null!==(i=u.actions)&&void 0!==i?i:[]).map(function(e){var t,r,n,o,i=null===(t=e.button)||void 0===t?void 0:t.link;return i&&i.startsWith("tel")?(0,v.jsxs)(h.xu,{children:[(0,v.jsx)("span",{style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==D(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===D(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({fontWeight:"600"},_),children:null===(r=e.title)||void 0===r?void 0:r.text}),(0,v.jsx)("span",{style:_,children:null===(n=e.description)||void 0===n?void 0:n.text})]}):(0,v.jsx)(h.rU,{href:i||"",onClick:function(){(0,m.AY)(y,i||"")},children:(0,v.jsx)(h.xu,{display:"inlineBlock",children:(0,v.jsx)(h.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,v.jsx)(h.xv,{color:"inverse",weight:"bold",children:(null===(o=e.button)||void 0===o?void 0:o.text)||""})})})})})})]})}),!!u.footer&&(0,v.jsx)(h.xu,{paddingY:2,width:540,children:(0,v.jsx)(h.rU,{display:"inlineBlock",href:null!==(a=u.footer.link)&&void 0!==a?a:"",onClick:function(){var e,t;(0,m.AY)(y,null!==(e=null===(t=u.footer)||void 0===t?void 0:t.link)&&void 0!==e?e:"")},target:"blank",underline:"hover",children:(0,v.jsx)(h.xv,{align:"center",color:"subtle",size:"100",children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:null!==(l=u.footer.text)&&void 0!==l?l:""}})})},u.footer.link)})]})}var B=void 0!==l?l:l=r(329638);function M(e){var t=e.advisoryDetails,r=e.boardId,n=e.boardSectionId,o=e.query,i=e.sensitivity,a=e.viewParameter,l=e.viewType,s=(0,u.v)().logContextEvent;(0,p.Z)(function(){l&&s({aux_data:{entered_query:o,advisory_details:t,advisory_level:null==i?void 0:i.advisory,severity_level:null==i?void 0:i.severity},component:13367,event_type:120,view_parameter:a,view_type:l}),r&&5===l&&s({aux_data:{board_id:r,board_section_id:null!=n?n:0},component:178,event_type:15549,view_parameter:a,view_type:l})})}function L(e){var t,r,n=e.boardId,o=e.boardSectionId,i=e.sensitivityKey,a=e.inModal,l=e.query,c=e.viewParameter,u=e.viewType,p=(0,f.Q)(B,i,{useLegacyAdapter:function(e){var t;return{advisory:e.advisory,severity:e.severity,notices:null===(t=e.notices)||void 0===t?void 0:t.map(function(e){return{style:e.style,$fragmentSpreads:d.qH}})}}}),h=p.data,b=p.childDataKey__DEPRECATED;M({advisoryDetails:(null==i?void 0:i.type)==="deprecated"?i.data.advisory_details:void 0,boardId:n,boardSectionId:o,query:l,sensitivity:null!=h?{advisory:h.advisory,severity:h.severity}:void 0,viewParameter:c,viewType:u});var y=(null==b?void 0:b.type)==="graphqlRef"?null===(t=b.data.notices)||void 0===t?void 0:t.map(function(e){return{type:"graphqlRef",data:e}}):null==b?void 0:null===(r=b.data.notices)||void 0===r?void 0:r.map(function(e){return{type:"deprecated",data:e}});return(0,v.jsx)(s.Fragment,{children:(null!=y?y:[]).map(function(e){return 2===e.data.style?(0,v.jsx)(R,{noticeKey:e}):(0,v.jsx)(T,{advisory:null==h?void 0:h.advisory,inModal:a,noticeKey:e})})})}function N(e){var t=e.boardId,r=e.boardSectionId,n=e.notices,o=e.query,i=e.sensitivity,a=e.viewParameter,l=e.viewType,c=e.inModal;return M({advisoryDetails:null==i?void 0:i.advisory_details,boardId:t,boardSectionId:r,query:o,sensitivity:{advisory:null==i?void 0:i.advisory,severity:null==i?void 0:i.severity},viewParameter:a,viewType:l}),(0,v.jsx)(s.Fragment,{children:null==n?void 0:n.map(function(e){return 2===e.style?(0,v.jsx)(R,{noticeKey:{type:"deprecated",data:e}},e.id):(0,v.jsx)(T,{advisory:null==i?void 0:i.advisory,inModal:c,noticeKey:{type:"deprecated",data:e}},e.id)})})}},212890:function(e,t,r){"use strict";r.d(t,{AY:function(){return a},IR:function(){return o},St:function(){return n},Uz:function(){return i}});var n={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},o={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function i(e){return!!e&&e.severity===o.ABUSIVE}function a(e,t){e({aux_data:{url:t},component:13367,element:11180,event_type:101,view_parameter:43,view_type:2})}},143953:function(e,t,r){"use strict";r.d(t,{OP:function(){return d},ZP:function(){return u},_8:function(){return c}});var n,o=r(308082),i=r(782005),a=r(766323),l=r(646473),s=void 0!==n?n:n=r(42080);function c(e){var t,r=(0,o.useFragment)(s,e);return!!(r&&(r.notice||null!==(t=r.notices)&&void 0!==t&&t[0]&&null!==r.notices[0].title))}function u(e){if(null==e)return!1;var t,r=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&(null===(t=e.notices[0])||void 0===t?void 0:t.title)===null&&(r=!1),!!e.notice||r}function d(e){var t=(0,a.b)().scope,r=(0,l.Z)(),n=r.data,o=r.isLoaded,s=c(e);return t===i.lw.USERS?s:!!o&&!!n&&u(n.sensitivity)}},831641:function(e,t,r){"use strict";r.d(t,{Z:function(){return D}});var n=r(672652),o=r(780277),i=r(328038),a=r(684404),l=r(587703),s=r(930837),c=r(140017),u=r(340523),d=r(747602),f=r(819267);function p(e){var t=e.isOpen,r=e.onDismiss,n=(0,c.ZP)();return(0,f.jsx)(s.ZP,{accessibilityModalLabel:n._('Disabled Pin Publishing Error Message Modal', 'disabledPinCreationModal.modal.accessibilityLabel', 'Label for disabled pin creation modal'),isOpen:t,mobileAccessibilityCloseIconLabel:n._('Close disabled publishing message modal', 'disabledPinCreationModal.modal.closeIconLabel', 'Label for the close button on the disabled publishing modal'),onDismiss:r,type:"DisabledPublishingModal",children:(0,f.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,f.jsx)(a.X6,{children:n._('Oops...', 'disabledPinCreationModal.modal.heading', 'Exclamation used to show recognition of a mistake.')}),(0,f.jsx)(a.xu,{paddingY:3,children:(0,f.jsx)(a.xv,{children:n._('Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.', 'disabledPinCreationModal.modal.text', 'Message to let users know there is an error.')})}),(0,f.jsx)(a.xu,{paddingY:3,children:(0,f.jsx)(a.zx,{color:"red",onClick:function(){return r()},size:"lg",text:n._('Dismiss', 'disabledPinCreationModal.button.dismiss', 'Button text for closing the disabled pin creation modal')})})]})})}function h(e){var t=(0,c.ZP)(),r=e.viewType,n=e.boardId,o=e.handleTouch,i=t._('Board', 'createMenuLinkButton.Create.Board.Label', 'label for creating a new board option'),l=t._('Section', 'createMenuLinkButton.Create.Section.Label', 'label for creating a new section option');return 5===r&&n?(0,f.jsx)(a.Tg,{href:"/board/".concat(n,"/create_section/"),onTap:o,rounding:2,children:(0,f.jsx)(a.xu,{"data-test-id":"addSectionButton",paddingY:2,children:(0,f.jsx)(a.X6,{size:"400",children:l})})}):(0,f.jsx)(a.Tg,{href:"/board/create/",onTap:o,children:(0,f.jsx)(a.xu,{"data-test-id":"createMenuCreateBoardButton",paddingY:2,children:(0,f.jsx)(a.X6,{size:"400",children:i})})})}var b=r(851420);function y(e){var t=e.disabledPinCreation,r=e.handleDisablePublish,n=e.handleTouch,o=(0,c.ZP)(),l=(0,i.k6)(),s=o._('Photo', 'createPinButton.Photo.Upload.Label', 'label to upload pin from camera roll photos');return(0,f.jsx)(a.iP,{onTap:function(){if(t){r();return}n()},tapStyle:"none",children:(0,f.jsxs)(a.xu,{paddingY:2,position:"relative",children:[(0,f.jsx)(a.X6,{size:"400",children:s}),t?null:(0,f.jsx)("input",{accept:"image/*",id:"upload-pin",onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(){var e=t.result;l.push({pathname:"/pin/create/".concat(b.I,"/"),state:{base64Image:String(e),method:b.I}})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"},type:"file"})]})})}var _=r(739382),m=r(358589),v=r(640772);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){C(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var I=function(e){var t=window&&window.innerWidth||0,r=e._('Enter a link to create a Pin, https://...', 'placeholder in text field where a user inputs a URL to create a Pin', 'placeholder in text field where a user inputs a URL to create a Pin'),n=e._('Enter a link, https://...', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit', 'placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit');return t<380?n:r},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(l,e);var t,r,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=A(l);if(t){var n=A(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return O(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return C(O(e=i.call.apply(i,[this].concat(r))),"state",{createPinFromLinkUrl:"",showCreateModal:!1,showInlineTextEditCreatePin:!1,showPublishingDisabledError:!1,urlValidationError:null}),C(O(e),"createPinFromLinkInput",(0,n.createRef)()),C(O(e),"closeCreateModal",function(){e.setState({showCreateModal:!1,showInlineTextEditCreatePin:!1}),e.props.updatePinBuilderInput({isInputOpen:!1,submittedLink:""})}),C(O(e),"clearValidationError",function(){e.setState({urlValidationError:null})}),C(O(e),"openCreateModal",function(){e.handleTouch(),e.props.requireAuthForLimitedLogin({fn:function(){return e.setState({showCreateModal:!0})},modalHeader:(0,_.is)(e.props.i18n)})()}),C(O(e),"handleCreatePinFromLinkTouch",function(){e.setState({showInlineTextEditCreatePin:!0}),e.props.updatePinBuilderInput({isInputOpen:!0})}),C(O(e),"handleDisablePublish",function(){e.setState({showCreateModal:!1,showPublishingDisabledError:!0})}),C(O(e),"handleLinkFieldChange",function(t){var r=t.value;e.setState({createPinFromLinkUrl:r})}),C(O(e),"handlePinFromLinkFormSubmit",function(t,r){var n,o=e.state.createPinFromLinkUrl;t.preventDefault();var i=(function(e){if(Array.isArray(e))return e}(n=(0,d.Jx)({message:e.props.i18n._('Oops! Please enter a valid URL.', 'URL validation error message on Pin builder form', 'URL validation error message on Pin builder form')})(o).errors)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(n,1)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}}(n,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];i?e.setState({urlValidationError:i}):e.handleUrlValidationSuccess(r)}),C(O(e),"handleTouch",function(){var t=e.props;(0,t.logContextEvent)({view_type:t.viewType,view_parameter:3106,element:t.elementType,event_type:102})}),C(O(e),"handleUrlValidationSuccess",function(t){e.setState({showInlineTextEditCreatePin:!1});var r=e.state.createPinFromLinkUrl;e.props.updatePinBuilderInput({submittedLink:r}),t.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:r}}),e.closeCreateModal()}),C(O(e),"renderCreatePinFromLinkOption",function(){var t=e.props,r=t.disabledPinCreation,n=t.history,o=e.state,i=o.createPinFromLinkUrl,l=o.showInlineTextEditCreatePin,s=e.props.i18n._('Website', 'editPin.CreatePinFromUrl.Label', 'label for option to create a pin from a url');return(0,f.jsx)(a.kC,{alignItems:"center",height:46,justifyContent:"start",children:l?(0,f.jsx)("form",{onSubmit:function(t){return e.handlePinFromLinkFormSubmit(t,n)},style:{width:"100%"},children:(0,f.jsxs)(a.xu,{display:"flex",justifyContent:"between",position:"relative",children:[(0,f.jsxs)(a.xu,{ref:e.createPinFromLinkInput,width:"100%",children:[e.renderErrorFlyout(),(0,f.jsx)(a.nv,{id:"create-pin-from-link",onChange:e.handleLinkFieldChange,onFocus:function(){return e.setState({urlValidationError:null})},placeholder:I(e.props.i18n),size:"lg",value:i})]}),(0,f.jsx)(a.hU,{accessibilityLabel:e.props.i18n._('Create Pin from entered link', 'navigation button to confirm user will create a Pin from a link they entered', 'navigation button to confirm user will create a Pin from a link they entered'),icon:"arrow-forward",iconColor:"darkGray",onClick:function(t){var r=t.event;return e.handlePinFromLinkFormSubmit(r,n)},size:"lg"})]})}):(0,f.jsx)(a.iP,{onTap:function(){if(r){e.handleDisablePublish();return}e.handleCreatePinFromLinkTouch()},tapStyle:"none",children:(0,f.jsx)(a.xu,{"data-test-id":"websiteButton",position:"relative",children:(0,f.jsx)(a.X6,{size:"400",children:s})})})})}),C(O(e),"renderErrorFlyout",function(){var t=e.state.urlValidationError;return t&&(0,f.jsx)(a.J2,{anchor:e.createPinFromLinkInput.current,idealDirection:"up",onDismiss:e.clearValidationError,size:"sm",children:(0,f.jsx)(a.xu,{padding:3,width:"100%",children:(0,f.jsxs)(a.kC,{gap:2,children:[(0,f.jsx)(a.qb,{type:"problem"}),(0,f.jsx)(a.xv,{align:"center",weight:"bold",children:t})]})})})}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isInputOpen,r=e.submittedLink;(t||r)&&this.setState({showCreateModal:!!t,showInlineTextEditCreatePin:!!t,createPinFromLinkUrl:r||""})}},{key:"render",value:function(){var e=this,t=this.props,r=t.bgColor,o=t.boardId,i=t.buttonPadding,l=t.disabledPinCreation,c=t.i18n,u=t.iconButtonColor,d=t.iconButtonSize,b=t.viewType,_=this.state,m=_.showCreateModal,v=_.showPublishingDisabledError,g=this.props.i18n._('Add a Pin or board', 'heading in profile create modal', 'heading in profile create modal');164===b?g=this.props.i18n._('Add to section', 'heading in section create modal', 'heading in section create modal'):5===b&&(g=this.props.i18n._('Add a Pin or section', 'heading in profile create modal', 'heading in profile create modal')||c._('Add to board', 'heading in board create modal', 'heading in board create modal'));var x=4===b?this.props.i18n._('Add to profile', 'editPin.AddToProfile.Modal.Header', 'heading in profile create modal'):g;return(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(a.xu,{"data-test-id":"createMenuCreateButton",children:(0,f.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Create a Pin or board', 'icon that opens model prompting user to create a new pin or board', 'icon that opens model prompting user to create a new pin or board'),bgColor:r,icon:"add",iconColor:void 0===u?"gray":u,onClick:this.openCreateModal,padding:"auto"!==i?i:1,size:void 0===d?"xl":d})})}),m&&(0,f.jsx)(s.ZP,{accessibilityModalLabel:"",heading:x,isOpen:this.state.showCreateModal,mobileAccessibilityCloseIconLabel:this.props.i18n._('close board and pin create modal', 'close modal that prompts user to create a new pin or board', 'close modal that prompts user to create a new pin or board'),onDismiss:this.closeCreateModal,type:"create_menu",children:(0,f.jsx)(a.xu,{padding:3,children:(0,f.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,f.jsxs)(n.Fragment,{children:[(0,f.jsxs)(a.xu,{paddingX:2,children:[(0,f.jsx)(a.xv,{children:this.props.i18n._('Create', 'editPin.Create.Section.Text', 'Section title to Create new things on Edit Pin add modal')}),(0,f.jsx)(n.Fragment,{children:this.renderCreatePinFromLinkOption()}),(0,f.jsx)(y,{disabledPinCreation:l,handleDisablePublish:this.handleDisablePublish,handleTouch:this.handleTouch})]}),164!==b&&(0,f.jsxs)(a.xu,{marginTop:6,paddingX:2,children:[(0,f.jsx)(a.xv,{children:this.props.i18n._('Add', 'editPin.Section.Add.Text', 'Section Add title on Edit Pin add modal')}),(0,f.jsx)(h,{boardId:o,handleTouch:function(){e.handleTouch(),e.closeCreateModal()},viewType:b})]})]}),(0,f.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,f.jsx)(a.zx,{onClick:function(){return e.closeCreateModal()},size:"lg",text:this.props.i18n._('Close', 'editPin.Modal.Close.Button', 'Button text to close modal on EditPin')})})]})})}),v&&(0,f.jsx)(p,{isOpen:!0,onDismiss:function(){e.setState({showPublishingDisabledError:!1})}})]})}}],w(l.prototype,r),o&&w(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.PureComponent);function D(e){var t=(0,c.ZP)(),r=["disable_all","disable_web_pins"].includes((0,(0,u.F)().checkExperiment)("disable_pin_creation").group),n=(0,o.useDispatch)(),a=(0,i.k6)(),s=(0,o.useSelector)(function(e){return e.session}).pinBuilder,d=(0,l.Z)(),p=s&&s.isInputOpen,h=s&&s.submittedLink,b=(0,m.Z)();return(0,f.jsx)(T,P(P({},e),{},{disabledPinCreation:r,history:a,i18n:t,isInputOpen:p,logContextEvent:d,requireAuthForLimitedLogin:b,submittedLink:h,updatePinBuilderInput:function(e){return n((0,v.p)(e))}}))}},616333:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(672652),o=r(684404),i=r(696534),a=r(844683),l=r(30378),s=r(823987),c=r(55202),u=r(239821),d=r(819267);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b={__style:{border:(0,i.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,i.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out, visibility 0.5s",WebkitOverflowScrolling:"touch"}},y={modalOpen:{__style:h({},b.__style)},modalClose:{__style:h(h({},b.__style),{},{transform:"translate3d(0px, 100%, 0px)",visibility:"hidden"})}};function _(e){var t=e.accessibilityModalLabel,r=e.allowClickAndDrag,i=e.children,f=e.isOpen,p=(0,u.I)().setAppFocusState,h=(0,n.useRef)(null);return(0,n.useEffect)(function(){return f&&(l.Z.pause(),p(!1),document.body&&(document.body.style.overflow="hidden")),function(){f&&(l.Z.resume(),p(!0),document.body&&(document.body.style.overflow=""))}},[f,p]),(0,d.jsx)(c.Z,{allowClickAndDrag:r,children:(0,d.jsx)(o.mh,{zIndex:a.b7,children:(0,d.jsx)(o.xu,{"aria-label":t,display:"inlineBlock",role:"dialog",children:(0,d.jsx)(o.xu,{ref:h,dangerouslySetInlineStyle:{__style:f?y.modalOpen.__style:y.modalClose.__style},children:(0,d.jsx)(s.Z.Provider,{value:h.current,children:i})})})})})}},623501:function(e,t,r){"use strict";r.d(t,{HW:function(){return u},YW:function(){return y},i3:function(){return _},o2:function(){return b}});var n=r(672652),o=r(342513),i=r(819267);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=660,d={educationId:null,paddingRight:0,zIndex:660};function f(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":var r=t.payload.educationId;return c(c({},e),{},{educationId:r});case"FOOTER_SET_PADDING_RIGHT":var n=t.payload.paddingRight;return c(c({},e),{},{paddingRight:n});case"FOOTER_SET_Z_INDEX":var o=t.payload.zIndex;return c(c({},e),{},{zIndex:o});default:return e}}var p=(0,o.Z)("footerContext"),h=p.Provider,b=p.Consumer,y=p.useHook;function _(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(f,d))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],s=o[1],u=(0,n.useCallback)(function(e){return s({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})},[]),p=(0,n.useCallback)(function(e){return s({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})},[]),b=(0,n.useCallback)(function(e){return s({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})},[]),y=(0,n.useMemo)(function(){return c(c({},a),{},{setEducationId:p,setPaddingRight:u,setZIndex:b})},[a,p,u,b]);return(0,i.jsx)(h,{value:y,children:r})}},136359:function(e,t,r){"use strict";r.d(t,{c:function(){return o},t:function(){return i}});var n=r(164212);function o(e){return(0,e.children)((0,n.J)().height)}function i(){return(0,n.J)().height}},983983:function(e,t,r){"use strict";r.d(t,{L1:function(){return i},Rz:function(){return s},WZ:function(){return a},cI:function(){return o},fe:function(){return l},hu:function(){return n}});var n=64,o=80,i=22,a="HeaderContent",l=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},652151:function(e,t,r){"use strict";r.d(t,{H:function(){return f},W:function(){return d}});var n=r(672652),o=r(342513),i=r(71328),a=r(819267);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=(0,o.Z)("HeaderShadow"),u=c.Provider,d=c.useHook;function f(e){var t=e.children,r=l((0,n.useState)(!1),2),o=r[0],s=r[1],c=l((0,n.useState)(!1),2),d=c[0],f=c[1],p=l((0,n.useState)(0),2),h=p[0],b=p[1],y=l((0,n.useState)(null),2),_=y[0],m=y[1],v=(0,i.Z)(function(){o&&(f(window.scrollY>0),b(window.scrollY))},50);return(0,n.useEffect)(function(){return s(!0),function(){s(!1)}},[]),(0,n.useEffect)(function(){return window.addEventListener("scroll",v),function(){window.removeEventListener("scroll",v)}},[o]),(0,a.jsx)(u,{value:{currentScrollPosition:h,isScrolled:d,setSubheaderShadow:m,subheaderShadow:_},children:t})}},206923:function(e,t,r){"use strict";r.d(t,{fv:function(){return j},fS:function(){return C},lu:function(){return E},PR:function(){return I},Mv:function(){return x},uc:function(){return P},dL:function(){return g},qS:function(){return w},Y4:function(){return A},HE:function(){return O},Cy:function(){return S}});var n=r(666472),o=r(672652),i=r(263032),a=r(214877),l=r(30378),s=r(340523),c=r(5859),u=r(194602),d=r(369708);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e){var t=e.auxData,r=e.component,n=e.eventData,f=e.eventType,p=e.impressionType,y=e.isPaused,_=e.objectIdStr,m=e.viewData,v=e.viewType,g=e.viewParameter,x=(0,o.useRef)(null),P=(0,a.v)().logImpression,j=(0,u.Z)(),w=(0,c.B)(),S=w.isAuthenticated,O=(0,s.F)().checkExperiment,A=O(S?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth").anyEnabled,C=(0,d.rG)().logMrcVideoAdImpressionOnPlay,E=(0,o.useCallback)(function(){try{if(x.current instanceof HTMLElement){var e=n.pinIdStr,o=n.newsIdStr;l.Z.start(x.current).onExitViewport(function(e){if(x.current&&A){var o,a=new IntersectionObserver(function(o){var i,l,s=(function(e){if(Array.isArray(e))return e}(o)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(o,1)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(o,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],c={viewData:m||{},viewType:v,viewParameter:g,eventType:f,impressionType:p,auxData:t,component:r,objectIdStr:_,eventData:h({endTime:e.endTime,time:e.startTime,pinCellWidth:s.boundingClientRect.width||0,pinCellHeight:s.boundingClientRect.height||0,windowWidth:null===(i=window)||void 0===i?void 0:i.innerWidth,windowHeight:null===(l=window)||void 0===l?void 0:l.innerHeight},n)};P(c),C(c),x.current&&a.unobserve(x.current)});x.current&&a.observe(x.current)}else{var l,s,c,u,d,y={viewData:m||{},viewType:v,viewParameter:g,eventType:f,impressionType:p,auxData:t,component:r,objectIdStr:_,eventData:h({endTime:e.endTime,time:e.startTime,pinCellWidth:(null===(s=x.current)||void 0===s?void 0:s.getBoundingClientRect().width)||0,pinCellHeight:(null===(c=x.current)||void 0===c?void 0:c.getBoundingClientRect().height)||0,windowWidth:null===(u=window)||void 0===u?void 0:u.innerWidth,windowHeight:null===(d=window)||void 0===d?void 0:d.innerHeight},n)};P(y),C(y)}var S=n.attributionSourceId,E=n.campaignId,I=n.isPromoted,T=n.link,D=n.adDestinationUrl,k=n.domain,z=n.advertiserId;"pinImpressions"===p&&I&&!j&&null!==(l=window.document.featurePolicy)&&void 0!==l&&l.allowsFeature("attribution-reporting")&&(0,i.YS)(p,I,null!=S?S:null,T,E,{appType:w.appTypeDetailed,osType:(0,i.eF)(null!==(o=w.userAgent.osName)&&void 0!==o?o:"Unknown")},null!=z?z:null,k,D,O("m10n_ara_hardcoded_reporting_url").anyEnabled)}).setDebugId(e||o||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[x.current]);return(0,o.useEffect)(function(){y||E();var e=x.current;return function(){e instanceof HTMLElement&&l.Z.stop(e)}},[y,E]),x}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g=function(e){var t=y({eventData:v(v({},e.impressionData||{}),{},{pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},x=function(e){var t=y({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},P=function(e){var t=y({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},j=function(e){var t=y({eventData:v(v({},e.impressionData||{}),{},{articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},w=function(e){var t=y({eventData:v(v({},e.impressionData||{}),{},{storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},S=function(e){var t=y({eventData:v(v({},e.impressionData||{}),{},{userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0}),auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},O=function(e){var t=y({eventData:v(v({},e.impressionData||{}),{},{topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0}),auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},A=function(e){var t=y({eventData:v(v({},e.impressionData||{}),{},{clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},C=function(e){var t=y({eventData:v(v({},e.impressionData||{}),{},{boardIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},E=function(e){var t,r=(0,n.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:null!==(t=e.slotIndex)&&void 0!==t?t:0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:r})},I=function(e){var t=y({eventData:v(v({},e.impressionData||{}),{},{curatedBoardIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:15555,impressionType:"curatedBoardImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},692440:function(e,t,r){"use strict";r.d(t,{H:function(){return f},N:function(){return d}});var n=r(672652),o=r(342513),i=r(638747),a=r(819267);function l(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=(0,o.Z)("LastSavedTo"),u=c.Provider,d=c.useHook;function f(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)())||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||l(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=o[0],d=o[1];(0,i.Z8)("BoardPickerBoardsShortlistResource",function(e){c||d(e.response.resource_response.data)});var f=(0,n.useCallback)(function(e){var t=c?c.filter(function(t){return t.id!==e.id}):[];d([e].concat(function(e){if(Array.isArray(e))return s(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||l(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[c]),p=(0,n.useMemo)(function(){return{lastSavedTo:c,saveToBoard:f}},[c,f]);return(0,a.jsx)(u,{value:p,children:r})}},180338:function(e,t,r){"use strict";r.d(t,{H:function(){return o},W:function(){return i}});var n=(0,r(342513).Z)("PinCreateDeleteContext"),o=n.Provider,i=n.useMaybeHook},676554:function(e,t,r){"use strict";r.d(t,{F4:function(){return E},ZP:function(){return L},hW:function(){return C},jz:function(){return I},q:function(){return A},rX:function(){return N}}),r(42279);var n,o,i,a,l=r(412116),s=r(207012),c=r(554786),u=r(149722),d=r(19447),f=r(118923),p=r(832853),h=r(819267);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=["pinKey","trackingParamsMap"],_=["pinId","pin"],m=["pinKey"],v=["disableReaction","disableRounding","disableAppUpsell","duploDedupeVisualAnnotations","duploDisablePinCardPadding","duploFeedItemProps","duploIsSquarePin","duploLazyLoadImage","duploOneTapSave","duploPinCardDetailsMargin","duploPriorityFetchImage","duploQueryRef","duploShouldAddNiiSearchParamToImageUrls","duploShouldAllowProductPriceIndicator","duploConversationPin","topLevelTrafficSource","topLevelTrafficSourceDepth","trafficSource"],g=["attributionOption","blockClickEvents","borderStyle","disableHover","imageHeightModifier","imageOnlyOption","onError","onLoad","pin","pinImageCrop","pinImageFit","resolution","rounding","saveButtonOptions","authDesktopSelectionState","authDesktopSurface","pinOwner","duploQueryRef"],x=["disableReaction","disableRounding","disableAppUpsell","duploDedupeVisualAnnotations","duploDisablePinCardPadding","duploFeedItemProps","duploIsSquarePin","duploLazyLoadImage","duploOneTapSave","duploPinCardDetailsMargin","duploPriorityFetchImage","duploQueryRef","duploShouldAddNiiSearchParamToImageUrls","duploShouldAllowProductPriceIndicator","duploConversationPin","topLevelTrafficSource","topLevelTrafficSourceDepth","trafficSource","pinKey","trackingParamsMap"],P=["pin","pinId"],j=["attributionOption","blockClickEvents","borderStyle","disableHover","imageHeightModifier","imageOnlyOption","onError","onLoad","pin","pinImageCrop","pinImageFit","resolution","rounding","saveButtonOptions","authDesktopSelectionState","authDesktopSurface","pinOwner","duploQueryRef","trackingParamsMap"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var A=(0,l.ZP)({resolved:{},chunkName:function(){return"AuthDesktopPinRep"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return Promise.all([r.e(93041),r.e(29002),r.e(92071),r.e(50096),r.e(2984)]).then(r.bind(r,912849))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then(function(e){return t.resolved[r]=!0,e})},requireSync:function(e){return r(this.resolve(e))},resolve:function(){return 912849}}),C=(0,l.ZP)({resolved:{},chunkName:function(){return"DefaultPinRep"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return Promise.all([r.e(97270),r.e(61013),r.e(25714),r.e(93810),r.e(39921)]).then(r.bind(r,113936))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then(function(e){return t.resolved[r]=!0,e})},requireSync:function(e){return r(this.resolve(e))},resolve:function(){return 113936}}),E=(0,p.Z)(function(){return Promise.all([r.e(93041),r.e(29002),r.e(92071),r.e(50096),r.e(2984)]).then(r.bind(r,912849))},void 0,"AuthDesktopPinRep"),I=(0,p.Z)(function(){return Promise.all([r.e(97270),r.e(61013),r.e(25714),r.e(93810),r.e(39921)]).then(r.bind(r,113936))},void 0,"DefaultPinRep"),T=void 0!==n?n:n=r(910982),D=void 0!==o?o:o=r(770181),k=void 0!==i?i:i=r(903414),z=function(e){var t=(0,f.b)(),r=e.pinKey,n=e.trackingParamsMap,o=O(e,y),i=(0,s.Z)(k,r);return t?(0,h.jsx)(E,S(S({},o),{},{pinKey:i,trackingParamsMap:n})):(0,h.jsx)(A,S(S({},o),{},{pinKey:i,trackingParamsMap:n}))},R=function(e){var t=(0,f.b)(),r=e.pinId,n=e.pin,o=O(e,_),i=(0,d.S6)(),a=(r?i(r):null)||n;return t?(0,h.jsx)(E,S(S({},o),{},{pinKey:{type:"deprecated",data:a},trackingParamsMap:a.tracking_params_map})):(0,h.jsx)(A,S(S({},o),{},{pinKey:{type:"deprecated",data:a},trackingParamsMap:a.tracking_params_map}))},B=void 0!==a?a:a=r(700554),M=function(e){e.pinKey;var t=O(e,m),r=(0,f.b)(),n=(0,s.Z)(B,e.pinKey);return r?(0,h.jsx)(I,S(S({},t),{},{duploQueryRef:n})):(0,h.jsx)(C,S(S({},t),{},{duploQueryRef:n}))};function L(e){var t=(0,c.HG)(),r=(0,u.Z)(),n=r&&r.isAuth&&t,o=(0,s.Z)(T,e.duploQueryRef);if(n&&!e.duploQueryRef){e.disableReaction,e.disableRounding,e.disableAppUpsell,e.duploDedupeVisualAnnotations,e.duploDisablePinCardPadding,e.duploFeedItemProps,e.duploIsSquarePin,e.duploLazyLoadImage,e.duploOneTapSave,e.duploPinCardDetailsMargin,e.duploPriorityFetchImage,e.duploQueryRef,e.duploShouldAddNiiSearchParamToImageUrls,e.duploShouldAllowProductPriceIndicator,e.duploConversationPin,e.topLevelTrafficSource,e.topLevelTrafficSourceDepth,e.trafficSource;var i=O(e,v);return(0,h.jsx)(R,S({},i))}e.attributionOption,e.blockClickEvents,e.borderStyle,e.disableHover,e.imageHeightModifier,e.imageOnlyOption,e.onError,e.onLoad,e.pin,e.pinImageCrop,e.pinImageFit,e.resolution,e.rounding,e.saveButtonOptions,e.authDesktopSelectionState,e.authDesktopSurface,e.pinOwner,e.duploQueryRef;var a=O(e,g);return(0,h.jsx)(M,S(S({},a),{},{pinKey:o}))}function N(e){var t=(0,c.HG)(),r=(0,u.Z)(),n=r&&r.isAuth&&t,o=(0,s.Z)(T,e.duploQueryRef),i=(0,s.Z)(D,e.pinKey);if(n&&!e.duploQueryRef&&null!=i&&null!=e.pinKey){e.disableReaction,e.disableRounding,e.disableAppUpsell,e.duploDedupeVisualAnnotations,e.duploDisablePinCardPadding,e.duploFeedItemProps,e.duploIsSquarePin,e.duploLazyLoadImage,e.duploOneTapSave,e.duploPinCardDetailsMargin,e.duploPriorityFetchImage,e.duploQueryRef,e.duploShouldAddNiiSearchParamToImageUrls,e.duploShouldAllowProductPriceIndicator,e.duploConversationPin,e.topLevelTrafficSource,e.topLevelTrafficSourceDepth,e.trafficSource,e.pinKey;var a=e.trackingParamsMap,l=O(e,x);l.pin,l.pinId;var d=O(l,P);return(0,h.jsx)(z,S(S({},d),{},{pinKey:i,trackingParamsMap:a}))}e.attributionOption,e.blockClickEvents,e.borderStyle,e.disableHover,e.imageHeightModifier,e.imageOnlyOption,e.onError,e.onLoad,e.pin,e.pinImageCrop,e.pinImageFit,e.resolution,e.rounding,e.saveButtonOptions,e.authDesktopSelectionState,e.authDesktopSurface,e.pinOwner,e.duploQueryRef,e.trackingParamsMap;var f=O(e,j);return(0,h.jsx)(M,S(S({},f),{},{pinKey:o}))}},563322:function(e,t,r){"use strict";r.d(t,{x:function(){return u},y:function(){return d}});var n=r(672652),o=r(342513),i=r(819267);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=(0,o.Z)("ProfileViewContext"),c=s.Provider,u=s.useMaybeHook;function d(e){var t=e.children,r=a((0,n.useState)(),2),o=r[0],l=r[1],s=a((0,n.useState)(new Map),2),u=s[0],d=s[1],f=a((0,n.useState)(),2),p=f[0],h=f[1],b=a((0,n.useState)(),2),y=b[0],_=b[1],m=a((0,n.useState)(0),2),v=m[0],g=m[1],x=(0,n.useCallback)(function(e,t){d(new Map(u.set(e,t)))},[u]),P=(0,n.useMemo)(function(){return{boardPinDensity:o,boardSortOrder:u,profileBoardView:p,profilePinDensity:y,profileFollowingSelectedIndex:v,setBoardPinDensity:l,updateBoardSortOrder:x,setProfileBoardView:h,setProfilePinDensity:_,setProfileFollowingSelectedIndex:g}},[o,u,p,y,v,x]);return(0,i.jsx)(c,{value:P,children:t})}},19447:function(e,t,r){"use strict";r.d(t,{AF:function(){return s},H0:function(){return c},S6:function(){return u},_S:function(){return d}});var n=r(780277),o=r(342513),i=r(819267),a=(0,o.Z)("Pins"),l=a.Provider,s=a.useHook,c=a.useMaybeHook;function u(){var e=s();return function(t){return e[t]}}function d(e){var t=e.children,r=(0,n.useSelector)(function(e){return e.pins},n.shallowEqual);return(0,i.jsx)(l,{value:r,children:t})}},386008:function(e,t,r){"use strict";r.d(t,{Tt:function(){return f},cm:function(){return d},kW:function(){return c},kY:function(){return p},mN:function(){return u}});var n=r(780277),o=r(342513),i=r(149722),a=r(819267),l=(0,o.Z)("Users"),s=l.Provider,c=l.useHook;function u(){var e=c();return function(t){return e[t]}}function d(){var e=c();return function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(e).find(function(r){return e[r].username===t});if(n||!r)return e[null!=n?n:""]}}function f(){var e=(0,i.Z)().id;return c()[null!=e?e:""]}function p(e){var t=e.children,r=(0,n.useSelector)(function(e){return e.users},n.shallowEqual);return(0,a.jsx)(s,{value:r,children:t})}},24066:function(e,t,r){"use strict";r.d(t,{Z:function(){return D}});var n=r(672652),o=r(780277),i=r(684404),a=r(481177),l=r(140017),s=r(827625),c=r(995917),u=r(416049),d=r(149722),f=r(785059),p=r(35222),h=r(199677),b=r(908057),y=r(673463),_=r(581349),m=r(327540),v=r(112544),g=r(819267);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){C(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==x(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}function I(e){var t=e.board,r=e.hovered,n=e.searchQuery,o=t.privacy===a.Z.BoardPrivacy.SECRET;return(0,g.jsxs)(i.xu,{color:r?"secondary":"default",display:"flex",padding:2,rounding:2,children:[(0,g.jsx)(i.xu,{flex:"grow",children:(0,g.jsx)(i.xv,{weight:"bold",children:(0,_.W)(n,t.name)})}),(0,g.jsxs)(i.kC,{alignItems:"stretch",direction:"row",flex:"none",justifyContent:"start",children:[o&&(0,g.jsx)(m.Z,{type:"secret"}),t.is_collaborative&&(0,g.jsx)(m.Z,{type:"group"})]})]})}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=A(a);if(t){var n=A(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return O(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),C(O(t=o.call(this,e)),"getSections",function(){if(!(null!==(e=t.props.boardResource.data)&&void 0!==e&&e.all_boards))return[];var e,r=t.state.searchQuery,n=t.props.boardResource.data.all_boards;return r.length>=u.Z?[{items:(0,y.j)(n,r)}]:[{items:n}]}),C(O(t),"createBtnDisabled",function(){if(!(null!==(e=t.props.boardResource.data)&&void 0!==e&&e.all_boards))return!1;var e,r=t.props.boardResource.data.all_boards,n=t.state.searchQuery;return r.some(function(e){var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===n.toLowerCase()})}),C(O(t),"handleBoardCreate",function(){return function(){var e=t.state.searchQuery;if(e){var r=t.props,n=r.createBoard,o=r.invalidateBoardPickerBoardsResource,i=r.onBoardCreate;if(o(),i){i(e);return}n({name:e,privacy:"public"}).then(function(e){(0,t.props.onBoardChosen)(e)})}}}),C(O(t),"handleBoardSelected",function(e){t.props.onBoardChosen(e),t.setState({selectedBoard:e})}),C(O(t),"handleSearchQueryUpdate",function(e){t.setState({searchQuery:e})}),C(O(t),"renderRow",function(e){var r=e.item,n=e.hovered,o=t.state.searchQuery;return(0,g.jsx)(I,{board:r,hovered:n,searchQuery:o})}),t.state={searchQuery:"",selectedBoard:e.board},t}return r=[{key:"render",value:function(){var e=this.props,t=e.boardResource,r=e.board,n=e.isBoardlessPinsBoard,o=e.isQuickCreatesBoard,a=e.isStoryPin,l=this.state,s=l.searchQuery,c=l.selectedBoard,u=this.props.i18n._('Select a board', 'Label for selecting a board in Edit Pin Modal', 'Label for selecting a board in Edit Pin Modal');return r?u=o?this.props.i18n._('Choose board', 'BoardPickerFlyout.displayBoardName.quickCreatesBoard', 'Title for board picker when current board is a quick creates board'):n?this.props.i18n._('Profile', 'BoardPickerFlyout.displayBoarName.boardlessPins', 'Title indicating the pin is saved to profile'):r.name:c&&(u=c.name),(0,g.jsxs)(i.xu,{children:[(0,g.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!t.isLoaded}),t.data&&(0,g.jsx)(b.Z,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:u||"",isStoryPin:a,onCreate:this.handleBoardCreate(),onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleBoardSelected,renderRow:this.renderRow,searchQuery:s,sections:this.getSections()})]})}}],w(a.prototype,r),n&&w(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function D(e){var t=(0,v.Z)(),r=(0,l.ZP)(),n=(0,o.useDispatch)(),i=(0,d.Z)(),a=(0,o.useSelector)(function(e){return e.advertiser}),u=i.isAuth&&a&&a.owner_user_id!==i.id,b=u?a.id:null,y=u?a.owner_user_id:null,_=(0,f.Z)(),m=(0,p.Z)(),x=(0,h.Ms)(i,_),P=x||y,w=(0,c.Z)({name:"BoardPickerBoardsResource",options:j(j({pin_id:e.pinId,field_set_key:"board_picker",onlyFetchBoards:!0,username:P},b&&y?{advertiser_id:b,filter:"protected",username:y}:{}),{},{orbac_subject_id:m}),noCache:!0});return(0,g.jsx)(T,j(j({},e),{},{advertiser_id:b,boardResource:w,createBoard:function(e){return t({boardCreateOptions:e})},i18n:r,invalidateBoardPickerBoardsResource:function(){n((0,s.jB)("BoardPickerBoardsResource",j({field_set_key:"board_picker"},x?{username:x}:{username:y})))},username:y,viewer:i}))}},908057:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(672652),o=r(684404),i=r(140017),a=r(340523),l=r(334688),s=r(218829),c=r(600959),u=r(923075),d=r(819267);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=m(a);if(t){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(_(e=i.call.apply(i,[this].concat(r))),"state",{itemSelected:!1,showFlyout:!1}),v(_(e),"setContainerRef",function(t){e.containerRef=t}),v(_(e),"handleCreate",function(){e.hideFlyout();var t=e.props.onCreate;t&&t()}),v(_(e),"handleSelectItem",function(t){e.hideFlyout();var r=e.props,n=r.onSelect,o=r.onCreate;t?(e.setState(function(){return{itemSelected:!0}}),n(t)):o&&o()}),v(_(e),"handleDropdownTouch",function(){e.setState(function(e){return{showFlyout:!e.showFlyout}})}),v(_(e),"handleHideFlyout",function(t){e.containerRef&&t.target instanceof HTMLElement&&!e.containerRef.contains(t.target)&&e.hideFlyout()}),v(_(e),"hideFlyout",function(){(0,e.props.hoverHandlers.onMouseLeave)(),e.setState({showFlyout:!1})}),e}return r=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}},{key:"render",value:function(){var e=this.props,t=e.dropdownValue,r=e.fetchMore,n=e.hoverHandlers,i=n.onMouseOver,a=n.onMouseLeave,l=e.idealDirection,f=e.isHovering,p=e.isStoryPin,h=e.onCreate,b=e.onSearchQueryUpdate,y=e.renderRow,_=e.searchQuery,m=e.sections,v=e.createBtnDisabled,g=this.state,x=g.itemSelected,P=g.showFlyout;this.indexManager=new s.Z(m.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem);var j=!_.trim()||!!v;return(0,d.jsxs)(o.xu,{ref:this.setContainerRef,flex:p?"grow":void 0,children:[(0,d.jsx)(o.iP,{fullWidth:!!p,onMouseEnter:i,onMouseLeave:a,onTap:this.handleDropdownTouch,rounding:p?4:2,children:p?(0,d.jsxs)(o.xu,{alignItems:"center",borderStyle:"lg",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:p?4:3,rounding:p?4:2,children:[(0,d.jsx)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:(0,d.jsx)(o.xv,{color:x?"default":"subtle",children:t})}),(0,d.jsx)(o.JO,{accessibilityLabel:this.props.i18n._('Icon for drop down', 'repinPicker.pickerFlyoutIcon.accessibilityLabel', 'Accessibility label for the arrow-down icon.'),color:"default",icon:"arrow-down",size:14})]}):(0,d.jsxs)(o.xu,{alignItems:"center",color:f?"lightWash":"secondary",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:p?4:3,rounding:p?4:2,children:[(0,d.jsx)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:(0,d.jsx)(o.xv,{color:"default",weight:"bold",children:t})}),(0,d.jsx)(o.JO,{accessibilityLabel:"",color:"default",icon:"arrow-down",size:14})]})}),P&&(0,d.jsx)(o.xu,{position:"relative",children:(0,d.jsxs)(o.xu,{borderStyle:"sm",color:"default",direction:"column",display:"flex",left:"left"===l,overflow:"hidden",position:"absolute",right:"right"===l,rounding:p?4:2,width:p?"150%":"100%",zIndex:new o.Ry(2),children:[(0,d.jsx)(o.xu,{children:(0,d.jsxs)(o.xu,{display:"flex",marginEnd:-1,marginStart:-1,padding:2,children:[(0,d.jsx)(o.xu,{display:"flex",flex:"grow",paddingX:1,children:(0,d.jsx)(u.Z,{hideIcon:!0,indexManager:this.indexManager,onChange:b,value:_})}),h&&(0,d.jsx)(o.xu,{paddingX:1,children:(0,d.jsx)(o.zx,{dataTestId:"picker-flyout-create-button",disabled:j,onClick:this.handleCreate,text:this.props.i18n._('Create', 'board or section dropdown create button', 'board or section dropdown create button')})})]})}),(0,d.jsx)(c.Z,{fetchMore:r,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:y,sections:m})]})})]})}}],b(a.prototype,r),n&&b(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function P(e){var t=(0,i.ZP)(),r=(0,a.F)().checkExperiment,n=(0,l.Z)(),o=n.isHovering,s=n.hoverHandlers;return(0,d.jsx)(x,h(h({},e),{},{checkExperiment:r,hoverHandlers:s,i18n:t,isHovering:o}))}},23254:function(e,t,r){"use strict";r.d(t,{Z:function(){return E},x:function(){return C}});var n=r(672652),o=r(780277),i=r(684404),a=r(587703),l=r(140017),s=r(995917),c=r(416049),u=r(402287),d=r(908057),f=r(673463),p=r(581349),h=r(819267);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){j(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,r){return(t=w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var S="NO_SECTION_VALUE";function O(e){var t=e.section,r=e.hovered,n=e.searchQuery;return(0,h.jsxs)(i.xu,{children:[(0,h.jsx)(i.xu,{color:r?"secondary":"default",display:"flex",padding:2,rounding:2,children:(0,h.jsx)(i.xu,{flex:"grow",children:(0,h.jsx)(i.xv,{weight:"bold",children:(0,p.W)(n,t.title)})})}),t.id===S&&(0,h.jsx)(i.iz,{})]})}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=P(a);if(t){var n=P(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return j(x(e=o.call.apply(o,[this].concat(r))),"state",{searchQuery:""}),j(x(e),"getPickerSections",function(){var t,r=e.state.searchQuery,n=e.props,o=n.sectionsResource,i=n.mergingFromSectionId,a=o&&o.data||[];return a=i?a.filter(function(e){return e.id!==i}):[{id:S,title:e.props.i18n._('No section', 'default dropdown option for selecting a board section on pin edit', 'default dropdown option for selecting a board section on pin edit')}].concat(function(e){if(Array.isArray(e))return m(e)}(t=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r.length>=c.Z&&(a=(0,f.j)(a,r,"title")),[{items:a}]}),j(x(e),"createBtnDisabled",function(){var t=e.props.sectionsResource,r=e.state.searchQuery;return!!t&&!!t.data&&t.data.some(function(e){var t;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase())===r.toLocaleLowerCase()})}),j(x(e),"handleSectionCreate",function(){var t=e.props,r=t.board,n=t.onSectionChange,o=t.sectionsResource,i=t.dispatch,a=t.onSectionCreate,l=t.logContextEvent,s=e.state.searchQuery;if(a){a(s);return}i&&r.id&&i((0,u.vB)({boardId:r.id,name:s},e.props.i18n,void 0,l)).then(function(t){o&&o.refresh(),e.setState({searchQuery:""}),n(t)})}),j(x(e),"handleSectionSelected",function(t){(0,e.props.onSectionChange)(t.id===S?null:t),e.setState({searchQuery:""})}),j(x(e),"handleSearchQueryUpdate",function(t){e.setState({searchQuery:t})}),j(x(e),"renderRow",function(t){var r=t.item,n=t.hovered,o=e.state.searchQuery;return(0,h.jsx)(O,{hovered:n,searchQuery:o,section:r})}),e}return r=[{key:"componentDidUpdate",value:function(e){var t=e.selectedSectionId;if(this.props.selectedSectionId!==t){var r=this.props.sectionsResource;r&&r.refresh()}}},{key:"render",value:function(){var e,t=this.props,r=t.idealDirection,n=t.isStoryPin,o=t.sectionsResource,a=t.selectedSectionId,l=t.mergingFromSectionId,s=t.selectedSectionName,c=this.state.searchQuery,u=l?this.props.i18n._('Pick a section', 'default dropdown option for selecting a board section to merge to', 'default dropdown option for selecting a board section to merge to'):this.props.i18n._('No section', 'default dropdown option for selecting a board section on pin edit', 'default dropdown option for selecting a board section on pin edit');return a?(o&&o.data&&(e=o.data.find(function(e){return e.id===a})),u=e&&e.title||u):s&&(u=s),(0,h.jsxs)(i.xu,{children:[(0,h.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!!o&&!o.isLoaded}),(!o||o&&o.isLoaded)&&(0,h.jsx)(d.Z,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:u,idealDirection:r,isStoryPin:n,onCreate:l?null:this.handleSectionCreate,onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleSectionSelected,renderRow:this.renderRow,searchQuery:c,sections:this.getPickerSections()})]})}}],v(a.prototype,r),n&&v(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function C(e){var t=(0,l.ZP)();return(0,h.jsx)(A,_(_({},e),{},{dispatch:(0,o.useDispatch)(),i18n:t,logContextEvent:(0,a.Z)()}))}function E(e){var t=(0,s.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id},noCache:!0});return(0,h.jsx)(C,_(_({},e),{},{sectionsResource:t}))}},923075:function(e,t,r){"use strict";var n=r(672652),o=r(684404),i=r(140017),a=r(317540),l=r(819267);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){b(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(c,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=h(c);if(t){var n=h(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(p(e=i.call.apply(i,[this].concat(r))),"setInputRef",function(t){t&&(e._input=t)}),b(p(e),"handleKeyDown",function(t){var r=e.props,n=r.disabled,o=r.indexManager;if(!n)switch(t.which){case a.Z.ENTER:case a.Z.NUMPAD_ENTER:t.preventDefault(),o.select();break;case a.Z.UP:t.preventDefault(),o.prev();break;case a.Z.DOWN:t.preventDefault(),o.next()}}),e}return r=[{key:"componentDidMount",value:function(){this._input&&this._input.focus()}},{key:"render",value:function(){var e=this.props,t=e.onChange,r=e.value;return(0,l.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,l.jsx)(o.Um,{ref:this.setInputRef,accessibilityLabel:"",id:"pickerSearchField",onChange:function(e){return t(e.value)},placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:"lg",value:r})})}}],d(c.prototype,r),n&&d(c,n),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);t.Z=function(e){var t=(0,i.ZP)();return(0,l.jsx)(_,u(u({},e),{},{i18n:t}))}},175597:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(672652),o=r(684404),i=r(140017),a=r(218829),l=r(600959),s=r(923075),c=r(581349),u=r(503500),d=r(160390),f=r(819267);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return(t=x(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(h,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=v(h);if(t){var n=v(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function h(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,h);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(m(e=i.call.apply(i,[this].concat(r))),"state",{searchQuery:""}),g(m(e),"handleSelectItem",function(t){var r=e.props,n=r.onCreate,o=r.onSelected;!t&&n?n(e.state.searchQuery):t&&o(t),(n||t)&&e.setState({searchQuery:""})}),g(m(e),"handleSearchQueryInput",function(t){e.setState({searchQuery:t})}),g(m(e),"renderSectionHeader",function(e){return e.title?(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{paddingX:3,paddingY:1,children:(0,f.jsx)(o.xv,{size:"200",children:e.title})})}):null}),g(m(e),"renderRow",function(t){var r=t.item,n=t.hovered,o=t.sectionProps,i=e.props,a=i.boardSavedTo,l=i.isSelectMode,s=i.disabledRowId,u=e.state.searchQuery,d=(void 0===o?{}:o).inSectionSelection,p=void 0!==d&&d,h=a&&a.board===r.id?a&&a.state:null,b="board_section"===r.type;return(0,f.jsx)(c.Z,{disabled:r.id===s&&p,isSection:b,isSelectMode:l,isWithinSectionPicker:p,item:r,saveState:h,searchQuery:u,selected:n})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,r=e.createButtonLabel,n=e.hasLowBoardCount,i=e.getSections,c=e.isLoaded,p=e.onCreate,h=e.pinId;if(!c)return(0,f.jsx)(o.xu,{paddingY:5,children:(0,f.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility label for the loading spinner the repin picker', 'accessibility label for the loading spinner the repin picker'),show:!0})});var b=this.state.searchQuery,y=i(b);return this.indexManager=new a.Z(y.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem),(0,f.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{zIndex:0}},direction:"column",display:"flex",flex:"grow",height:"100%",minHeight:0,overflow:"auto",children:[!n&&(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{marginBottom:4,marginTop:1,paddingX:3,children:(0,f.jsx)(s.Z,{disabled:!!t,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:b})})}),(0,f.jsx)(l.Z,{disabled:!!t,grow:!n&&!b,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:y}),p&&(0,f.jsx)(o.xu,{borderStyle:y.length>1?"shadow":"none",children:(0,f.jsx)(d.Z,{buttonLabel:r,hasHoverState:!0,name:b,onClick:function(){return p(b)}})}),n&&p&&h&&(0,f.jsx)(u.Z,{onBoardSelected:p,pinId:h})]})}}],y(h.prototype,r),n&&y(h,n),Object.defineProperty(h,"prototype",{writable:!1}),h}(n.Component);function j(e){var t=(0,i.ZP)();return(0,f.jsx)(P,b(b({},e),{},{i18n:t}))}},42173:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(672652),o=r(71328);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var f=function(e,t){var r=e.scrollTop,n=e.clientHeight,o=e.scrollHeight;return r+n+(t?t(n):2*n)>o},p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(p,e);var t,r,n,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=c(p);if(t){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return u(s(e=d.call.apply(d,[this].concat(r))),"setContainerRef",function(t){e.containerRef=t}),u(s(e),"fetchMoreIfNecessary",(0,o.Z)(function(){var t=e.props,r=t.fetchMore,n=t.scrollBuffer;r&&e.containerRef&&f(e.containerRef,n)&&r()},200)),e}return r=[{key:"componentDidMount",value:function(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function(){this.fetchMoreIfNecessary()}},{key:"render",value:function(){return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}],a(p.prototype,r),n&&a(p,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(n.PureComponent)},473175:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(672652),o=r(684404),i=r(165706),a=r(340523),l=r(5859),s=r(71328),c=r(819267);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(l,e);var t,r,n,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=y(l);if(t){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(b(e=a.call.apply(a,[this].concat(r))),"onScroll",(0,s.Z)(function(){if(e.anchorElement){var t,r,n=e.anchorElement.offsetTop+e.anchorElement.offsetHeight;window.scrollY>n&&!e.hasExited?(e.hasExited=!0,e.props.onExit()):window.scrollY<=n&&e.hasExited&&(e.hasExited=!1,e.props.onEnter()),(0,b(e).isOnView)()&&(null===(t=(r=e.props).onView)||void 0===t||t.call(r))}},e.props.throttleTime||100)),_(b(e),"wasViewed",function(){if((0,e.props.checkExperiment)(e.props.isAuth?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth").anyEnabled){var t=!1,r=new IntersectionObserver(function(n){var o=d(n,1)[0].boundingClientRect;t=!!o&&o.top<=i.DEFAULT_HEIGHT,e.anchorElement&&r.unobserve(e.anchorElement)});return e.anchorElement&&r.observe(e.anchorElement),t}var n,o=null===(n=e.anchorElement)||void 0===n?void 0:n.getBoundingClientRect();return!!o&&o.top<=i.DEFAULT_HEIGHT}),_(b(e),"isOnView",function(){if((0,e.props.checkExperiment)("web_use_intersection_observer_for_getboundingclientrect").anyEnabled){var t=!1,r=new IntersectionObserver(function(n){var o=d(n,1)[0].boundingClientRect;t=!!o&&o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||window.height)-150&&o.right<=(window.innerWidth||window.width),e.anchorElement&&r.unobserve(e.anchorElement)});return e.anchorElement&&r.observe(e.anchorElement),t}var n,o=null===(n=e.anchorElement)||void 0===n?void 0:n.getBoundingClientRect();return!!o&&o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||window.height)-150&&o.right<=(window.innerWidth||window.width)}),_(b(e),"hasExited",!1),e}return r=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this,t=this.props.children;return(0,c.jsx)(o.xu,{ref:function(t){if(e.anchorElement=t,e.anchorElement&&e.wasViewed()){var r,n;null===(r=(n=e.props).onView)||void 0===r||r.call(n)}},children:t})}}],p(l.prototype,r),n&&p(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.PureComponent);function g(e){var t=e.children,r=e.onView,n=e.onEnter,o=e.onExit,i=e.throttleTime,s=(0,a.F)().checkExperiment,u=(0,l.B)().isAuthenticated;return(0,c.jsx)(v,{checkExperiment:s,isAuth:u,onEnter:n,onExit:o,onView:r,throttleTime:i,children:t})}},784300:function(e,t,r){"use strict";var n=r(672652),o=r(684404),i=r(572345),a=r(819267);t.Z=function(e){var t=e.badgeSize,r=e.badgeSpacing,l=e.fullName,s=e.isVerifiedIdentity,c=e.isVerifiedMerchant,u=e.truncate,d=l.split(" "),f=d.slice(0,d.length-1).join(" "),p=" ".concat(d[d.length-1]);return void 0!==u&&u?(0,a.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(o.xv,{lineClamp:1,weight:"bold",children:l}),(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:r}},flex:"none",paddingX:1,position:"relative",children:(0,a.jsx)(i.Z,{isVerifiedIdentity:s,isVerifiedMerchant:c,size:t})})]}):(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("span",{children:f}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[p,"\xa0",(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:r}},display:"inlineBlock",flex:"none",position:"relative",children:(0,a.jsx)(i.Z,{isVerifiedIdentity:s,isVerifiedMerchant:c,size:t})})]})]})}},801690:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(672652),o=r(525364),i=r(105737),a=r(766311),l=r(819267);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=f(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(c,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=h(c);if(t){var n=h(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c),o.apply(this,arguments)}return r=[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setCurrentPageData)({viewData:e.viewData,viewParameter:e.viewParameter,viewType:e.viewType})}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.setCurrentPageData,n=t.viewData,o=t.viewParameter,a=t.viewType;o===e.viewParameter&&a===e.viewType&&(0,i.ZP)(n,e.viewData)||r({viewData:n,viewParameter:o,viewType:a})}},{key:"componentWillUnmount",value:function(){this.props.clearCurrentPageData()}},{key:"render",value:function(){var e=this.props,t=e.auxData,r=e.children,n=e.component,o=e.objectIdStr,i=e.viewData,s=e.viewParameter,c=e.viewType,u=e.clientTrackingParams;return(0,l.jsx)(a.Z,{auxData:t,clientTrackingParams:u,component:n,objectIdStr:o,viewData:i,viewParameter:s,viewType:c,children:r})}}],d(c.prototype,r),n&&d(c,n),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function y(e){var t=(0,o.sV)(),r=t.setViewContextData,n=t.clearViewContextData;return(0,l.jsx)(b,u(u({},e),{},{clearCurrentPageData:n,setCurrentPageData:r}))}},766311:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(672652),o=r(587703),i=r(217058);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var s=function(e,t){var r,n=Object.keys(r={event_type:13,view_type:e.viewType,view_parameter:e.viewParameter,view_data:e.viewData,aux_data:e.auxData,object_id_str:e.objectIdStr,component:e.component,clientTrackingParams:e.clientTrackingParams,element:e.element}).reduce(function(e,t){return void 0===r[t]&&delete e[t],e},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r));-1===Object.keys(n).indexOf("view_type")&&(0,i.My)("mweb.logging.null_view_type"),t(n)};function c(e){var t=e.auxData,r=e.clientTrackingParams,i=e.children,a=e.component,l=e.element,c=e.objectIdStr,u=e.viewData,d=e.viewParameter,f=e.viewType,p=(0,o.Z)(),h=JSON.stringify(t),b=JSON.stringify(u);return(0,n.useEffect)(function(){s(e,p)},[p,h,r,a,l,c,b,d,f]),n.Children.only(i)}},400564:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(684404),o=r(819267);function i(e){var t=e.accessibilityLabel,r=e.bgColor,i=e.icon,a=e.onClick,l=e.selected,s=e.size,c=e.tooltip;return(0,o.jsx)(n.hU,{accessibilityLabel:t,bgColor:null!=r?r:"transparent",icon:i,iconColor:"darkGray",onClick:a,selected:l,size:null!=s?s:"lg",tooltip:c?{text:c}:void 0})}},452364:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(672652),o=r(684404),i=r(400564),a=r(819267);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e){var t,r=e.bgColor,s=e.children,c=e.icon,u=e.label,d=e.size,f=e.id,p=e.tooltip,h=(0,n.useRef)(null),b=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=b[0],_=b[1],m=function(){return _(!1)};return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(o.xu,{ref:h,"data-test-id":f,children:(0,a.jsx)(i.Z,{accessibilityLabel:u,bgColor:r,icon:c,onClick:function(){return _(!y)},selected:y,size:d,tooltip:p})}),y&&(0,a.jsx)(o.Lt,{anchor:h.current,disableMobileUI:!0,id:"actionBarMenuButton",idealDirection:"down",onDismiss:m,zIndex:new o.Ry(1e3),children:s({handleClose:m})})]})}},288653:function(e,t,r){"use strict";r.d(t,{X:function(){return u},m:function(){return c}});var n=r(672652),o=r(342513),i=r(819267);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=(0,o.Z)("Session"),s=l.Provider,c=l.useHook;function u(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(void 0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],c=o[1],u=(0,n.useMemo)(function(){return{unauthBoardInvite:l,setUnauthBoardInvite:c}},[l]);return(0,i.jsx)(s,{value:u,children:r})}},924968:function(e,t,r){"use strict";r.d(t,{x0:function(){return tM},i0:function(){return tN},ZP:function(){return tZ}});var n,o=r(672652),i=r(780277),a=r(328038),l=r(684404),s=r(214877),c=r(25919),u=r(200201),d=r(454514),f=r(140017),p=r(30378),h=r(579814),b=r(165706),y=r(179425),_=r(340523),m=r(297329),v=r(862536),g=r(603642),x=r(5859),P=r(154779),j=r(995917),w=r(608516),S=r(191313),O=r(71328),A=r(627408),C=r(623409),E=r(13848),I=r(624797),T=r(554786),D=r(494125),k=r(760101),z=r(149722),R=r(801690),B=r(587703),M=r(757017),L=r(72461),N=r(339001),Z=r(564855),F=r(819267);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function H(e){var t,r=e.description,n=e.lastModified,i=e.pinCount,a=e.hideDescriptionEnabled,s=e.setIsHeaderTruncated,c=e.isHeaderTruncated,u=(0,f.ZP)(),d=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=d[0],h=d[1],b=(0,Z.ZP)(r,160),y=((null==r?void 0:r.length)||0)>160,_=(0,L.Z)(),m=(0,M.Z)(),v=(0,x.B)().locale,g=a&&!p;return(0,F.jsx)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",wrap:!0,children:(0,F.jsxs)(l.xv,{align:"center",inline:!0,size:"300",children:[!!r&&!g&&(0,F.jsxs)(o.Fragment,{children:[(0,F.jsx)(l.xv,{align:"center",inline:!0,children:p?r:b}),y&&!a&&(0,F.jsx)(l.xu,{"data-test-id":"more-board-description",display:"inlineBlock",marginStart:1,children:(0,F.jsx)(l.iP,{fullWidth:!1,onTap:function(){h(!p)},children:(0,F.jsx)(l.xv,{inline:!0,weight:"bold",children:p?u._('Less', 'boardPage.header.description.truncateDescription', 'Text for cta to show less text for the board description'):u._('More', 'boardPage.header.description.expandDescription', 'Text for cta to show full text for the board description')})})})]}),(0,F.jsxs)(l.xv,{inline:!0,overflow:"noWrap",children:[!!r&&!!i&&!g&&(0,F.jsx)(l.xu,{display:"inlineBlock",paddingX:1,children:(0,F.jsx)(l.xv,{inline:!0,children:"\xb7"})}),(0,F.jsxs)(l.xu,{"data-test-id":"board-count-info",display:"inlineBlock",children:[!!i&&(0,F.jsx)(l.xu,{"data-test-id":"pin-count",display:"inlineBlock",children:(0,N.nk)(u.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', i, 'boardPage.header.attribution.pinCount', 'Label for the number of pins belonging to a board'),{pinCount:_(v,i,{})})}),!!n&&(0,F.jsx)(l.xu,{"data-test-id":"last-updated-date",display:"inlineBlock",children:(0,F.jsxs)(l.xv,{color:"subtle",inline:!0,children:["\xa0",(0,N.nk)(u._('{{ lastModifiedDate }}', 'boardPage.header.attribution.lastModified', 'Label displaying how many days ago the board was last modified'),{lastModifiedDate:m(n,!0)})]})})]}),a&&c&&(0,F.jsx)(l.xu,{"data-test-id":"more-board-description",display:"inlineBlock",marginStart:1,children:(0,F.jsx)(l.iP,{fullWidth:!1,onTap:function(){h(!0),s(!1)},children:(0,F.jsx)(l.xv,{inline:!0,weight:"bold",children:u._('... More', 'boardPage.header.description.expandDescription', 'Text for cta to show full text for the board description')})})})]})]})})}var G=r(109615);function V(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function q(e){var t,r,n=e.user,o=null==n?void 0:null===(t=n.verified_identity)||void 0===t?void 0:t.verified,i=null==n?void 0:n.is_verified_merchant,a=(0,C.Z)(),c=(0,s.v)().logContextEvent,u=(null==n?void 0:n.is_ads_only_profile)&&n.ads_only_profile_site,d=null!=n&&n.ads_only_profile_site&&u?n.ads_only_profile_site:"/".concat(null!==(r=null==n?void 0:n.username)&&void 0!==r?r:"","/");return(0,F.jsx)("span",{"data-test-id":"user-rep",children:(0,F.jsx)(l.xu,{display:"inlineBlock",children:(0,F.jsx)(l.Tg,{href:d,onTap:function(){a({action:"click",item:"user-rep"}),u?c({event_type:9371,element:13382,component:13798,view_parameter:3070,aux_data:{aop_origin:"BoardHeaderDescriptionNames"}}):c({event_type:102,component:13798,view_parameter:3070})},rel:u?"nofollow":"none",tapStyle:"compress",target:u?"blank":null,children:(0,F.jsxs)(l.xv,{inline:!0,weight:"bold",children:[null==n?void 0:n.full_name,(o||i)&&(0,F.jsx)(l.xu,{"data-test-id":i?"verifiedMerchantBadge":"verifiedPinnerBadge",display:"inlineBlock",marginStart:1,children:(0,F.jsx)(G.Z,{isVerifiedMerchant:i,showVerifiedIdentity:o,size:"md"})})]})})})})}function K(e){var t=e.collaborators,r=e.boardOwnerId,n=e.collaboratorsAmount,o=(0,f.ZP)(),i=(0,L.Z)(),a=(0,x.B)().locale,s=(0,z.Z)().id;if(!t.length)return null;var c=[].concat(V(t.filter(function(e){return e.id===r})),V(t.filter(function(e){var t=e.id;return t===s&&t!==r})),V(t.filter(function(e){return![r,s].includes(e.id)}))),u=c[0],d=c[1],p=c.length,h="";if(p>3&&(h=(0,N.nk)(o._('Collection by {{ownerName}}, {{ secondCollaborator}} and {{collaboratorCount}}', 'BoardHeaderDescriptionNames.Redesign.CollabNamesMoreThan3', 'Name of board owner and number of collaborators'),{ownerName:(0,F.jsx)(q,{user:u},u.id),secondCollaborator:(0,F.jsx)(q,{user:d},d.id),collaboratorCount:(0,F.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,N.nk)(o.ngettext('{{collaboratorsCount}} other', '{{collaboratorsCount}} others', null != n ? n : c.length - 1, 'BoardHeaderDescriptionNames.CollabNamesMoreThan2Text', 'Name of board owner and number of other collaborators'),{collaboratorsCount:i(a,c.length-1,{})})})})),3===p){var b=c[2];h=(0,N.nk)(o._('Collection by {{ownerName}}, {{ secondCollaborator}} and {{ thirdCollaborator }}', 'BoardHeaderDescriptionNames.Redesign.CollabNames3', 'Names of board collaborators'),{ownerName:(0,F.jsx)(q,{user:u},u.id),secondCollaborator:(0,F.jsx)(q,{user:d},d.id),thirdCollaborator:(0,F.jsx)(q,{user:b},b.id)})}return 2===p&&(h=(0,N.nk)(o._('Collection by {{ownerName}} and {{ secondCollaborator}}', 'BoardHeaderDescriptionNames.Redesign.CollabNames2', 'Names of board collaborators'),{ownerName:(0,F.jsx)(q,{user:u},u.id),secondCollaborator:(0,F.jsx)(q,{user:d},d.id)})),1===p&&(h=(0,N.nk)(o._('Collection by {{ownerName}}', 'BoardHeaderDescriptionNames.Redesign.CollabNames1', 'Names of board owner'),{ownerName:(0,F.jsx)(q,{user:u},u.id)})),h}var Y=r(510989),X=r(191572),$=r(358589),J=r(349920),Q=r(608823),ee=r(374030),et=r(259078);function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t,r){var n;return(n=function(e,t){if("object"!==er(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==er(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===er(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eo(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ei(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){if(e){if("string"==typeof e)return ea(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ea(e,t)}}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var el=(0,o.lazy)(function(){return Promise.all([r.e(65292),r.e(69109)]).then(r.bind(r,107353))}),es=function(e){var t,r=e.board,n=e.experience,i=e.onAddCollab,c=e.collaborators,u=e.boardOwnerId,d=e.canAddCollaborators,f=(0,z.Z)().id,p=(0,a.k6)(),h=(0,_.F)().checkExperiment,b=(0,o.useRef)(null),y=(0,o.useRef)(),m=(0,s.v)().logContextEvent,v=(0,C.Z)(),g=(0,$.Z)(),x=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||ei(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),P=x[0],j=x[1],S=[].concat(eo(c.filter(function(e){return e.id===u})),eo(c.filter(function(e){var t=e.id;return t===f&&t!==u})),eo(c.filter(function(e){return![u,f].includes(e.id)}))),O=(0,et.Z)({boardCollaboratorCount:r.collaborator_count,collaborators:S}),A=O.displayedCollaborators,E=O.nonDisplayedCollaboratorCount,I=A.map(function(e){var t,r;return{name:null!==(t=e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(r=e.image_medium_url)&&void 0!==r?r:""}}),T=g({fn:function(){r.id&&d?p.push("/board/".concat(r.id,"/edit/collaborators/")):j(!P)}}),D=S[0].is_ads_only_profile&&S[0].ads_only_profile_site,k=function(){m({event_type:9371,element:13382,aux_data:{aop_origin:"BoardPageFacepiles"}}),window.open(A[0].ads_only_profile_site,"_blank")},R=function(){var e,t;D?k():p.push(null!==(e="/".concat(null!==(t=S[0].username)&&void 0!==t?t:""))&&void 0!==e?e:"/")};return d&&h("mweb_update_board_invite_icon").anyEnabled?(0,F.jsx)(l.xu,{display:"flex",flex:"none",justifyContent:"center",marginTop:6,children:(0,F.jsx)(Q.Z,{board:r,handleTapOnInviteAvatarGroup:T})}):(0,F.jsxs)(o.Fragment,{children:[(0,F.jsx)(l.xu,{display:"flex",flex:"none",justifyContent:"center",marginTop:6,children:(0,F.jsxs)(l.xu,{ref:y,display:"flex",children:[E<=99?(0,F.jsx)(J.Z,{addButtonRef:b,collaboratorCount:c.length-1,displayedCollaborators:I,nonDisplayedCollaboratorCount:E,onClick:function(){v({action:"click",item:"user-rep-avatar"}),S.length>1||d?T():R()},showAddButton:d}):(0,F.jsx)(ee.Z,{addButtonRef:b,displayedCollaborators:I,nonDisplayedCollaboratorCount:E,onClick:T,showAddButton:d}),(0,F.jsx)(X.Z,{anchors:en({},4002,b.current),experience:n,onCompleteByAnchor:en({},4002,i),positionRelativeToAnchor:!1})]})}),P&&(0,F.jsx)(Y.Z,{name:"SafeSuspense_BoardPageFacePiles_BoardCollabFlyout",children:(0,F.jsx)(w.Z,{children:(0,F.jsx)(el,{anchor:y.current,board:r,onDismiss:function(){j(!1)}})})})]})},ec=(r(282405),r(13016)),eu=r(213503),ed=r(321083);function ef(e,t){if(e){if("string"==typeof e)return ep(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ep(e,t)}}function ep(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eh(e){var t,r,n,s,c,u,d,f,p=e.board,h=e.blockedByMe,b=e.canAddCollaborators,y=e.experience,m=e.isAuthenticated,v=e.isSeoBot,g=e.pinCount,x=e.onAddCollab,P=e.showFollowButton,j=(0,T.HG)(),w=(0,i.useDispatch)(),S=!m&&!v&&!j,O=(0,a.TH)(),A=(null===(n=p.owner)||void 0===n?void 0:null===(s=n.verified_identity)||void 0===s?void 0:s.verified)||(null===(c=p.owner)||void 0===c?void 0:c.is_verified_merchant),C=((0,_.F)().checkExperiment,(0,B.Z)()),E=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||ef(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=E[0],D=E[1],k=!S||S&&!I||A,z=p?[p.owner].concat(function(e){if(Array.isArray(e))return ep(e)}(r=p.collaborating_users||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||ef(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(Boolean):[],R=p.board_order_modified_at,M=(0,ec.Uz)(p.sensitivity);return(0,F.jsxs)(o.Fragment,{children:[(0,F.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:1,wrap:!0,children:(0,F.jsx)(H,{description:p.description,hideDescriptionEnabled:S,isHeaderTruncated:I,lastModified:R,pinCount:null!=g?g:0,setIsHeaderTruncated:D})}),!M&&(!S||k)&&(0,F.jsx)(es,{board:p,boardOwnerId:null===(u=p.owner)||void 0===u?void 0:u.id,canAddCollaborators:b,collaborators:z,experience:y,onAddCollab:x}),k&&(0,F.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"start",marginTop:2,wrap:!0,children:(0,F.jsx)(l.xv,{align:"center",inline:!0,size:"300",children:(0,F.jsx)(K,{boardOwnerId:null!==(d=null===(f=p.owner)||void 0===f?void 0:f.id)&&void 0!==d?d:"",collaborators:z,collaboratorsAmount:p.collaborator_count})})}),!1,P&&(0,F.jsx)(l.xu,{marginTop:4,children:(0,F.jsx)(l.kC,{alignItems:"center",direction:"column",children:(0,F.jsx)(eu.Z,{disabled:h,followEventType:26,id:p.id,isFollowed:p.followed_by_me,onFollow:function(e){return w((0,ed.Z)(e,C))},onUnfollow:function(e){return w((0,ed.f)(e,C))},pinKey:null,showPulsar:O.state&&O.state.showPulsar,size:"lg",unfollowEventType:27,viewParameter:3070,viewType:5})})})]})}r(422827);var eb=r(42279),ey=r(930837),e_=r(217058),em=r(677068),ev=r(888263),eg=r(821419),ex=["isSensitive","isTemporarilyDisabledBoard","isViewerOrCollaborator","openSendBoardModal","username","hideShare","bgColor","iconSize","showReportOption","viewType","viewParameter","showReportDSAOption"];function eP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ej(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ew(e){var t=e.handleClose,r=e.isMenuOpen,n=e.setMenuOpen,i=e.children,a=(0,f.ZP)(),s=(0,o.useRef)(null);return(0,F.jsxs)(o.Fragment,{children:[(0,F.jsx)(l.xu,{ref:s,children:(0,F.jsx)(l.hU,{accessibilityLabel:a._('More board options', 'boardHeaderOverflowMenu.iconButton.accessibilityLabel', 'Accessibility label for more board options overflow menu button'),bgColor:"lightGray",icon:"ellipsis",iconColor:"darkGray",onClick:function(){return n(!r)},selected:r,size:"sm"})}),r&&(0,F.jsx)(l.Lt,{anchor:s.current,disableMobileUI:!0,id:"more-board-options-desktop",idealDirection:"down",onDismiss:t,zIndex:new l.Ry(1e3),children:i({handleClose:t})})]})}function eS(e){var t=e.isSensitive,r=e.isTemporarilyDisabledBoard,n=e.isViewerOrCollaborator,s=e.openSendBoardModal,c=e.username,u=e.hideShare,p=e.bgColor,h=e.iconSize,b=e.archivedByMeAt,y=e.boardName,_=e.id,m=e.privacy,v=e.showReportOption,g=e.showReportDSAOption,x=(0,f.ZP)(),P=(0,T.HG)(),j=(0,$.Z)(),w=(0,a.k6)(),S=(0,i.useDispatch)(),O=(0,E.F9)().showToast,A=(0,C.Z)(),I=eP((0,o.useState)(!1),2),D=I[0],k=I[1],z=eP((0,o.useState)(!1),2),R=z[0],B=z[1],M=!!b,L=function(){k(!1),A({action:"click",item:"close-overflow-menu"})},Z=function(){return B(!1)},U=function(){return B(!0)},H=M?(0,N.nk)(x._('Unarchived {{ boardName }}', 'boardHeaderOverflowMenu.onBoardUnarchive.toast', 'Toast text on complete unarchiving board'),{boardName:y}).join(""):(0,N.nk)(x._('Archived {{ boardName }}', 'boardHeaderOverflowMenu.onBoardArchive.toast', 'Toast text on complete archiving board'),{boardName:y}).join(""),G=(0,F.jsx)(l.xu,{height:32,width:32,children:(0,F.jsx)(em.Z,{boardId:_,type:"thumbnail"})}),V=function(){S((0,eg.zS)(_,c)).then(function(){O(function(e){var t=e.hideToast;return(0,F.jsx)(d.ZP,{_dangerouslySetThumbnail:G,onHide:t,text:H})})}),Z(),L()},W=function(){S((0,eg.fJ)(_,c)).then(function(){O(function(e){var t=e.hideToast;return(0,F.jsx)(d.ZP,{_dangerouslySetThumbnail:G,onHide:t,text:H})})}),Z(),L()},q=function(){return R?M?W:V:function(){}},K=M?x._('Unarchive', 'boardHeaderOverflowMenu.archiveOptionTitle.UnarchiveBoard', 'Title for option UnarchiveBoard on Edit Board page'):x._('Archive', 'boardHeaderOverflowMenu.archiveOptionTitle.ArchiveBoard', 'Title for option ArchiveBoard on Edit Board page'),Y="https://www.pinterest.com/about/dsa/?boardId=".concat(_),X="secret"!==m&&!t&&!u&&!r,J=n&&!r,Q=eP((0,o.useState)(!1),2),ee=Q[0],et=Q[1];return J||X||n||v||g?P?(0,F.jsx)(ew,{handleClose:function(){return et(!1)},isMenuOpen:ee,setMenuOpen:et,children:function(){return(0,F.jsxs)(l.Lt.Section,{label:x._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[J&&(0,F.jsx)(l.Lt.Item,{dataTestId:"edit-board",onSelect:j({fn:function(){w.replace("/board/".concat(_,"/edit/"))}}),option:{label:x._('Edit board', 'boardHeaderOverflowMenu.boardOptions.editButton', 'Button to edit board'),value:x._('Edit board', 'boardHeaderOverflowMenu.boardOptions.editButton', 'Button to edit board')}}),X&&(0,F.jsx)(l.Lt.Item,{dataTestId:"share-board",onSelect:s,option:{label:x._('Share', 'boardHeaderOverflowMenu.boardOptions.shareBoardButton', 'Button to share board'),value:x._('Share', 'boardHeaderOverflowMenu.boardOptions.shareBoardButton', 'Button to share board')}}),n&&(0,F.jsx)(l.Lt.Item,{dataTestId:"archive-board",onSelect:U,option:{label:K,value:K}}),v&&(0,F.jsx)(l.Lt.Link,{dataTestId:"report-board",href:"/board/".concat(_,"/report/"),option:{label:x._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)'),value:x._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)')}}),g&&(0,F.jsx)(l.Lt.Link,{dataTestId:"report-board-dsa",href:Y,onClick:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation;t.preventDefault(),r(),(0,e_.My)("desktop.unauth.board.overflowmenu.dsa"),window.open(Y,"_blank")},option:{label:x._('Report Board for EU local law', 'BoardOptions.ReportDSA', 'Reports a board for EU local law'),value:x._('Report Board for EU local law', 'BoardOptions.ReportDSA', 'Reports a board for EU local law')}}),(0,F.jsx)(ev.Z,{fullName:y,isOpen:R,onConfirm:q(),onDismiss:function(){return Z()},type:b?"unarchive":"archive"})]})}}):(0,F.jsxs)(o.Fragment,{children:[(0,F.jsx)(l.xu,{display:"inlineBlock",children:(0,F.jsx)(l.xu,{"data-test-id":"board-overflow-menu-button-mobile",children:(0,F.jsx)(l.hU,{accessibilityLabel:x._('More board options', 'boardHeaderOverflowMenu.iconButton.accessibilityLabel', 'Accessibility label for more board options overflow menu button'),bgColor:p||"white",icon:"ellipsis",iconColor:"darkGray",onClick:function(){k(!0),A({action:"click",item:"overflow-menu"})},size:h||"lg"})})}),(0,F.jsx)(ey.ZP,{accessibilityModalLabel:x._('Board options', 'boardHeaderOverflowMenu.boardOptions', 'Options heading on Modal on own board'),isOpen:D,mobileHideCloseIcon:!0,onDismiss:L,type:"block_button",children:(0,F.jsx)(l.xu,{paddingX:5,paddingY:6,children:(0,F.jsxs)(l.kC,{direction:"column",gap:{row:0,column:2},children:[(0,F.jsx)(l.xv,{children:x._('Board options', 'boardHeaderOverflowMenu.boardOptions', 'Options heading on Modal on own board')}),J&&(0,F.jsx)(l.iP,{fullWidth:!1,onTap:j({fn:function(){w.replace("/board/".concat(_,"/edit/"))}}),rounding:"circle",children:(0,F.jsx)(l.xu,{"data-test-id":"edit-board",children:(0,F.jsx)(l.X6,{size:"400",children:x._('Edit board', 'boardHeaderOverflowMenu.boardOptions.editButton', 'Button to edit board')})})}),X&&(0,F.jsx)(l.iP,{fullWidth:!1,onTap:s,rounding:"circle",children:(0,F.jsx)(l.xu,{"data-test-id":"share-board",children:(0,F.jsx)(l.X6,{size:"400",children:x._('Share', 'boardHeaderOverflowMenu.boardOptions.shareBoardButton', 'Button to share board')})})}),n&&(0,F.jsx)(l.iP,{fullWidth:!1,onTap:U,rounding:"circle",children:(0,F.jsx)(l.xu,{"data-test-id":"archive-board",children:(0,F.jsx)(l.X6,{size:"400",children:K})})}),v&&(0,F.jsx)(l.xu,{"data-test-id":"report-board",children:(0,F.jsx)(l.X6,{size:"400",children:(0,F.jsx)(l.rU,{accessibilityLabel:x._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)'),href:"/board/".concat(_,"/report/"),underline:"none",children:x._('Report', 'ProfileOptions.ReportUser', 'Takes you to a separate page where you can give reasons why you are reporting this User (e.g spam, pornography)')})})}),g&&(0,F.jsx)(l.xu,{"data-test-id":"report-board-dsa",children:(0,F.jsx)(l.X6,{size:"400",children:(0,F.jsx)(l.rU,{accessibilityLabel:x._('Report Board for EU local law', 'BoardOptions.ReportDSA', 'Reports a board for EU local law'),href:Y,onClick:function(){return(0,e_.My)("mweb.unauth.board.overflowmenu.dsa")},target:"blank",underline:"none",children:x._('Report Board for EU local law', 'BoardOptions.ReportDSA', 'Reports a board for EU local law')})})}),(0,F.jsx)(l.xu,{"data-test-id":"close-board-options-mobile",display:"flex",justifyContent:"center",marginTop:3,children:(0,F.jsx)(l.zx,{color:"gray",onClick:L,size:"lg",text:x._('Close', 'boardHeaderOverflowMenu.boardOptions.closeModal', 'Accessibility label for close button on Modal on a own board')})}),(0,F.jsx)(ev.Z,{fullName:y,isOpen:R,onConfirm:q(),onDismiss:function(){return Z()},type:b?"unarchive":"archive"})]})})})]}):null}function eO(e){var t=e.board,r=e.isSensitive,n=e.isTemporarilyDisabledBoard,o=e.isViewerOrCollaborator,i=e.openSendBoardModal,a=e.username,l=e.hideShare,s=e.bgColor,c=e.iconSize,u=e.showReportOption,d=e.viewType,f=e.viewParameter,p=e.showReportDSAOption;return(0,F.jsx)(eS,{archivedByMeAt:t.archived_by_me_at,bgColor:s,boardName:t.name,hideShare:l,iconSize:c,id:t.id,isSensitive:r,isTemporarilyDisabledBoard:n,isViewerOrCollaborator:o,openSendBoardModal:i,privacy:t.privacy,showReportDSAOption:p,showReportOption:u,username:a,viewParameter:f,viewType:d})}var eA=void 0!==n?n:n=r(414658);function eC(e){var t,r,n=e.boardRef,o=e.isSensitive,i=e.isTemporarilyDisabledBoard,a=e.isViewerOrCollaborator,l=e.openSendBoardModal,s=e.username,c=e.hideShare,u=e.bgColor,d=e.iconSize,f=e.showReportOption,p=e.viewType,h=e.viewParameter,b=e.showReportDSAOption,y=(0,eb.useFragment)(eA,n).data;return y?(0,F.jsx)(eS,{archivedByMeAt:y.archivedByMeAt,bgColor:u,boardName:null!==(t=y.name)&&void 0!==t?t:"",hideShare:c,iconSize:d,id:y.entityId,isSensitive:o,isTemporarilyDisabledBoard:i,isViewerOrCollaborator:a,openSendBoardModal:l,privacy:null!==(r=y.privacy)&&void 0!==r?r:"",showReportDSAOption:b,showReportOption:f,username:s,viewParameter:h,viewType:p}):null}function eE(e){var t=e.isSensitive,r=e.isTemporarilyDisabledBoard,n=e.isViewerOrCollaborator,o=e.openSendBoardModal,i=e.username,a=e.hideShare,l=e.bgColor,s=e.iconSize,c=e.showReportOption,u=e.viewType,d=e.viewParameter,f=e.showReportDSAOption,p=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ex);return p.boardRef?(0,F.jsx)(eC,{bgColor:l,boardRef:p.boardRef,hideShare:a,iconSize:s,isSensitive:t,isTemporarilyDisabledBoard:r,isViewerOrCollaborator:n,openSendBoardModal:o,showReportDSAOption:f,showReportOption:c,username:i,viewParameter:d,viewType:u}):(0,F.jsx)(eO,{bgColor:l,board:p.board,hideShare:a,iconSize:s,isSensitive:t,isTemporarilyDisabledBoard:r,isViewerOrCollaborator:n,openSendBoardModal:o,showReportDSAOption:f,showReportOption:c,username:i,viewParameter:d,viewType:u})}var eI=r(213377),eT=r(406893),eD=r(187156),ek=r(439278),ez="BoardPageSkeletonLoader__",eR=function(){return(0,F.jsxs)(o.Fragment,{children:[(0,F.jsx)(eT.Z,{unsafeCSS:[{name:"".concat(ez,"board_title"),width:280,height:51},{name:"".concat(ez,"profile_pic"),width:51,height:51}].map(function(e){var t=e.name,r=e.width,n=e.height;return(0,ek.Z)({name:t,width:r,height:n})}).join("")}),(0,F.jsxs)(l.xu,{paddingX:eI.D6,paddingY:3,children:[(0,F.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:6,children:[(0,F.jsx)(l.xu,{children:(0,F.jsx)("div",{className:"".concat(ez,"board_title")})}),(0,F.jsx)(l.xu,{children:(0,F.jsx)("div",{className:"".concat(ez,"profile_pic")})})]}),(0,F.jsx)(eD.Z,{})]})]})},eB=r(28460),eM=r(192858),eL=r(968836),eN=r(216167),eZ=r(205841),eF=r(953565);function eU(e){return(eU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eG(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eV=function(e){var t,r,n=(0,f.ZP)(),o=e.user,i=e.invitedByUser,a=e.inviterFirstName;return(0,F.jsxs)(l.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginBottom:3,marginEnd:-1,marginStart:-1,paddingX:4,paddingY:4,rounding:5,width:"100%",children:[(0,F.jsx)(l.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-1}},marginTop:-3,rounding:"circle",children:(0,F.jsx)(l.xu,{height:34,width:34,children:(0,F.jsx)(eZ.qE,{name:o?o.username:"",src:o&&null!==(t=o.image_medium_url)&&void 0!==t?t:""})})}),(0,F.jsx)(l.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-2}},marginStart:-3,marginTop:3,rounding:"circle",children:(0,F.jsx)(l.xu,{height:34,width:34,children:(0,F.jsx)(eZ.qE,{name:i?i.username:"",src:i&&null!==(r=i.image_medium_url)&&void 0!==r?r:""})})}),(0,F.jsxs)(l.xu,{marginStart:4,children:[(0,F.jsx)(l.xv,{weight:"bold",children:n._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,F.jsx)(l.xv,{children:(0,N.nk)(n._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:a})})]})]})};function eW(e){var t,r=e.boardId,n=e.inviteCode,i=e.inviterFirstName,a=e.invitedByUser,l=e.isSeamlessLanding,s=e.onAccept,c=e.user,u=(0,E.F9)().showToast,p=(0,f.ZP)(),h=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eG(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=h[0],y=h[1];return(0,o.useEffect)(function(){s&&eN.Z.create("BoardInviteResource",{board_id:r,invited_user_id:c&&c.id,invite_code:n}).callGet().then(function(){var e=s();e&&e.then(function(){y(!0),l&&(0,eF.nP)("mweb.social.group_board.seamless.accepted")}).catch(function(e){u(function(t){var r=t.hideToast;return(0,F.jsx)(d.ZP,{onHide:r,text:e.message||p._('Oops! Something went wrong\u2026', 'Error during board page accepting', 'Error during board page accepting'),type:"error"})})})}).catch(function(e){u(function(t){var r=t.hideToast;return(0,F.jsx)(d.ZP,{onHide:r,text:e.message||p._('Oops! Something went wrong\u2026', 'Error during board page accepting', 'Error during board page accepting'),type:"error"})})})},[]),b?(0,F.jsx)(eV,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==eU(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eU(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eU(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eH(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{user:c,inviterFirstName:i,invitedByUser:a})):null}var eq=r(288653),eK=r(739382),eY=r(823813),eX=r(645247),e$=r(302335),eJ=r(386008);function eQ(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function e0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e1(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e2(e){var t,r=e.inviteCreationDatetime,n=e.invitedByUser,o=e.inviterFirstName,i=e.onAccept,s=e.onDismiss,c=e.loginModal,u=e.inDwebInviteLandingExp,p=e.inMwebInviteLandingExp,h=e.setShowLoginModal,b=e.showLoginModal,y=(0,f.ZP)(),_=(0,M.Z)(),m=(0,a.TH)(),v=(0,E.F9)().showToast,g="/".concat((null==n?void 0:n.username)||""),x=(0,$.Z)(),P=x({fn:function(e){var t=e.event;t.stopPropagation&&t.stopPropagation(),s()},modalHeader:(0,eK.gv)({firstName:o,i18n:y}),nextLocation:(0,eK.F4)(m)}),j=x({fn:function(e){var t=e.event;t.stopPropagation&&t.stopPropagation(),i(),u||b||p||v(function(e){var t=e.hideToast;return(0,F.jsx)(d.ZP,{duration:4e3,onHide:t,text:y._('You\'re in! Save Pins, plan with collaborators, and more!', 'GroupBoardInviteBanner.handleAcceptButtonClick.acceptInviteToastForAuthUser', 'Toast text after accepting board collaborator invite.')})})},modalHeader:(0,eK.gv)({firstName:o,i18n:y}),nextLocation:(0,eK.F4)(m)});return(0,F.jsxs)(l.xu,{alignItems:"start",borderStyle:"shadow",color:"default",display:"flex",marginBottom:2,marginTop:2,maxWidth:400,padding:6,rounding:6,children:[u&&b&&c,(0,F.jsx)(l.xu,{marginEnd:2,children:(0,F.jsx)(l.HE,{accessibilityLabel:y._('Avatar of invited person', 'mweb.board.inviteCard.avatar', 'Avatar of invited person'),collaborators:[{name:o,src:null!==(t=null==n?void 0:n.image_large_url)&&void 0!==t?t:void 0}],href:g,role:"link",size:"md"})}),(0,F.jsxs)(l.xu,{marginBottom:0,children:[(0,F.jsx)(l.xv,{color:"default",weight:"normal",children:(0,N.nk)(y._('{{ name }} invited you to collaborate on this board  {{age}}', 'mweb.board.inviteCard.inviteCopy', 'Invite copy in board page'),{name:(0,F.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,F.jsx)(l.rU,{display:"inlineBlock",href:g,tapStyle:"none",underline:"hover",children:(null==n?void 0:n.full_name)||""})}),age:(0,F.jsx)(l.xv,{color:"subtle",inline:!0,children:r&&_(r,!0)})})}),(0,F.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,F.jsx)(l.xu,{display:"inlineBlock",marginEnd:2,marginTop:2,children:(0,F.jsx)(l.zx,{color:"gray",fullWidth:!0,onClick:P,size:"lg",text:y._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,F.jsx)(l.xu,{display:"inlineBlock",marginTop:2,children:(0,F.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:u&&h&&c?function(){return h(!0)}:j,size:"lg",text:y._('Accept', 'accept board invite', 'accept board invite')})})]})]})]})}function e6(e){var t=e.boardId,n=(0,a.TH)(),i=(0,I.mB)(n.search),s=i.inviter_first_name,c=i.board_collab_inviter,u=i.board_url,d=i.invite_code,p=i.sender,h=i.inviter_user_id,b=e0((0,o.useState)(!!(s&&u)),2),y=b[0],m=b[1],v=e0((0,o.useState)(!1),2),g=v[0],x=v[1],P=(0,a.k6)(),j=(0,f.ZP)(),w=null!=h?h:p,S=(0,_.F)().checkExperiment,O=(0,T.HG)(),A=(0,eq.m)().setUnauthBoardInvite,C=O&&S("dweb_unauth_board_invite_landing").anyEnabled,E=!O&&d&&c&&h&&S("mweb_unauth_board_invite_landing").anyEnabled,D=(0,eJ.mN)()(null!=w?w:""),k=(0,o.lazy)(function(){return r.e(75202).then(r.bind(r,717422))});if((C||E)&&(s||p||h)&&!y&&m(!0),!y)return null;var z=(0,N.nk)(j._('Log in to accept {{ firstName }}\'s board invite', 'GroupBoardInviteBanner.login.firstName', 'Inviter\'s first name. firstName: name of inviter'),{firstName:null!=s?s:null==D?void 0:D.first_name}).join(""),R=(0,F.jsxs)(l.xu,{height:"100%",width:"100%",children:[(0,F.jsx)(l.mh,{zIndex:new l.Ry(10001),children:(0,F.jsx)(l.xu,{alignItems:"center",display:"flex",height:"100%",paddingY:12,position:"fixed",width:"100%",children:(0,F.jsx)(k,{container:"limited_login",customLoginTagline:z,customSignupTagline:z,handleCloseButtonClick:function(){return x(!1)},nextUrlParam:"".concat(n.pathname).concat(n.search,"&accept_invite=True"),showCloseIcon:!0,signupFlow:{type:"login"},signupSource:"boardInvite"})})}),(0,F.jsx)(l.xu,{alignItems:"center",color:"dark",display:"flex",height:"100%",left:!0,opacity:.7,position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1e4)})]});return C?(0,F.jsx)(e2,{inDwebInviteLandingExp:!0,invitedByUser:D,inviterFirstName:null!=s?s:null==D?void 0:D.first_name,loginModal:R,onAccept:function(){return x(!0)},onDismiss:function(){return m(!1)},setShowLoginModal:x,showLoginModal:g}):(0,F.jsx)(e2,{inMwebInviteLandingExp:!!E,invitedByUser:E?D:void 0,inviterFirstName:s,onAccept:function(){if(E){var e="/invited/".concat(n.search,"&board_id=").concat(t,"&inviter_first_name=").concat((null==D?void 0:D.first_name)||"");A({inviterId:w,boardId:t,hasAcceptedInvite:!1}),P.push(e)}else{var r=(0,I.ru)("/",{next:d?"/invited/".concat(n.search):u});P.push(r)}},onDismiss:function(){return m(!1)}})}var e8=function(e){return!!(0,I.mB)(e.search).accept_invite};function e3(e){var t=e.boardId,r=e.boardImageRep,n=e.boardName,s=(0,a.TH)(),c=(0,i.useDispatch)(),u=(0,z.Z)().id,p=(0,I.mB)(s.search),h=p.invite_code,b=p.seamless,y=(0,eX.U)({board:t,invited_user:null!=u?u:""}),m=(0,eJ.mN)()(null!=u?u:""),v=(0,B.Z)(),g=(0,_.F)().checkExperiment,x=(0,T.HG)()&&g("web_board_invite_landing_fix").anyEnabled,P=(0,f.ZP)(),w=(0,E.F9)().showToast,S=(0,o.useRef)(!1);(0,j.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}});var O=(0,i.useSelector)(function(e){var t;return(null===(t=e.invites[y])||void 0===t?void 0:t.created_at)||void 0}),A=(0,j.Z)({name:"BoardInviteResource",options:{field_set_key:"boardEdit",board_id:t,invite_code:h,invited_user_id:u}}),C=(0,i.useSelector)(function(e){var r=(0,e$.Z)(e)[t];return r?e.invites[r]:void 0}),k=(0,i.useSelector)(function(e){var t=e.users,r=e.invites;return Object.keys(r).reduce(function(e,n){var o=r[n]||{};return e[n]=t[o.invited_by_user],e},{})[y]||{}}),R=(0,eq.m)(),M=R.unauthBoardInvite,L=R.setUnauthBoardInvite,Z=M||Object.freeze({}),U=Z.boardId,H=Z.inviterId,G=Z.hasAcceptedInvite,V=U&&H&&!G;if((0,D.Z)(function(){if(V&&m){var e,o;(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.current=!0,e.prev=1,e.next=4,c((0,eY.SD)(t,m,v));case 4:return L({boardId:t,inviterId:H||"",hasAcceptedInvite:!0}),e.next=7,A.refresh();case 7:w(function(e){var t=e.hideToast;return(0,F.jsx)(d.ZP,{duration:5e3,onHide:t,text:(0,F.jsx)(l.xv,{children:(0,N.nk)(P._('You can now collaborate on {{boardName}}!', 'mweb_group_board_invite_banner.acceptInviteToast', 'Title on toast when user accepts a board invite from unauth invite, boardName: name of the board.'),{boardName:(0,F.jsx)(l.xv,{inline:!0,weight:"bold",children:n})})}),thumbnail:{image:(0,F.jsx)(l.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:r})}})}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),w(function(t){var r=t.hideToast;return(0,F.jsx)(d.ZP,{onHide:r,text:e.t0.message,type:"error"})});case 13:return e.prev=13,S.current=!1,e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}),o=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){eQ(i,n,o,a,l,"next",e)}function l(e){eQ(i,n,o,a,l,"throw",e)}a(void 0)})},function(){return o.apply(this,arguments)})()}}),!C||!k||!m||C&&U&&H&&G)return null;var W=k.first_name,q=function(){return c((0,eY.SD)(t,m,v))};return e8(s)?(x&&w(function(e){var t=e.hideToast;return(0,F.jsx)(d.ZP,{duration:5e3,onHide:t,text:P._('You\'re in! Save Pins, plan with collaborators, and more!', 'GroupBoardInviteBanner.handleAcceptButtonClick.acceptInviteToastForAuthUser', 'Toast text after accepting board collaborator invite.')})}),(0,F.jsx)(eW,{boardId:t,inviteCode:h,invitedByUser:k,inviterFirstName:W,isSeamlessLanding:!!b,onAccept:q,user:m})):!S.current&&(0,F.jsx)(e2,{inviteCreationDatetime:O,invitedByUser:k,inviterFirstName:W,onAccept:q,onDismiss:function(){return c((0,eg.xR)(t,null!=u?u:"",v))}})}var e4=function(e){var t=e.isAuthenticated,r=e.boardId,n=e.boardImageRep,o=e.boardName;return t?(0,F.jsx)(e3,{boardId:r,boardImageRep:n,boardName:o}):(0,F.jsx)(e6,{boardId:r})},e7=r(610465),e5=r(887311),e9=r(910777);function te(e){var t=e.handleGoBack,r=e.hideSensitivityScreen,n=e.sensitivityScreenAuxData,i=(0,f.ZP)(),a=(0,B.Z)();return(0,o.useEffect)(function(){a({component:13860,event_type:13,view_type:5,aux_data:n})},[a]),(0,F.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)",paddingTop:260}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(1),children:(0,F.jsxs)(l.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,F.jsx)(l.X6,{align:"center",color:"light",children:i._('This board may contain sensitive content', 'board.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,F.jsxs)(l.kC,{gap:{row:6,column:0},children:[(0,F.jsx)(l.zx,{color:"red",onClick:t,size:"lg",text:i._('Go back', 'board.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,F.jsx)(l.zx,{color:"white",onClick:r,size:"lg",text:i._('View anyway', 'board.sensitivityScreen.viewButton', 'Text on button that allows user to dismiss sensitivity screen and view board')})]}),(0,F.jsx)(l.xu,{padding:4,children:(0,F.jsx)(l.xv,{align:"center",color:"inverse",overflow:"normal",size:"200",children:(0,N.nk)(i._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'board.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,F.jsx)(l.rU,{href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",children:(0,F.jsx)(l.xv,{color:"inverse",inline:!0,size:"200",underline:!0,children:i._('Community Guidelines', 'board.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})}var tt=r(334258);function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tr(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tr(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ti(e){var t=(0,f.ZP)(),r=e.isRequestedByMe,n=e.toggle,o=e.size,i=r?t._('Cancel request', '[Button] Cancel request to join a group board as a collaborator', '[Button] Cancel request to join a group board as a collaborator'):t._('Join', 'BoardJoinButton.RequestToJoinText', '[Button] Request to join a group board as a collaborator');return(0,F.jsx)(l.zx,{fullWidth:!0,onClick:n,size:o,text:i})}function ta(e){var t=e.isRequestedByMe,r=e.boardId,n=(0,i.useDispatch)(),o=(0,z.Z)(),a=(0,eY.tV)();return(0,F.jsx)(ti,to(to({},e),{},{toggle:function(){t?n((0,eY.GJ)(r,o.isAuth?o.id:"")):n(a(r))}}))}var tl=r(104567),ts=r(241442),tc=r(702499),tu=r(652151),td=r(407053),tf=r(344278),tp=r(718738),th=r(170568),tb=r(800516),ty=r(125768),t_=r(527700),tm=r(473175);function tv(e){return(tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tg(Object(r),!0).forEach(function(t){tO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tA(n.key),n)}}function tj(e,t){return(tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tw(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tS(e){return(tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tO(e,t,r){return(t=tA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tA(e){var t=function(e,t){if("object"!==tv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tv(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tv(t)?t:String(t)}function tC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tI=(0,o.lazy)(function(){return Promise.all([r.e(61547),r.e(28986),r.e(22457)]).then(r.bind(r,28986))}),tT=(0,o.lazy)(function(){return Promise.all([r.e(61547),r.e(23520)]).then(r.bind(r,917094))}),tD=function(e,t){var r,n=(0,S.qn)(td.QR),o=tC(n?JSON.parse(n):[],1)[0];if(!(o&&o.path===t.pathname)&&!(null!==(r=t.state)&&void 0!==r&&r.isFromNavFooterPage)){var i=e.cover_pin,a=null==i?void 0:i.pin_id,l=e.cover_images,s=i&&i.image_signature||null,c=l&&l["222x"]||null;(0,tf.p9)(t.pathname,s,a,c,"board")}},tk=function(e){var t=e.boardId,r=e.children,n=e.hasFixedHeader,o=e.viewParameter;return(0,F.jsx)(tu.H,{children:(0,F.jsx)(R.Z,{objectIdStr:t,viewParameter:o,viewType:5,children:(0,F.jsx)(A.Z,{objectId:t,view:5,viewParameter:o,children:(0,F.jsx)(y.default,{dataLayoutShiftBoundaryId:"BoardPageContainer",hasFixedHeader:n,children:r})})})})},tz=function(e){var t,r,n=e.board,c=e.children,u=e.experience,d=e.isAuthenticated,p=e.location,h=e.stickyHeaderRef,y=e.username,m=e.blockedByMe,v=e.isSeoBot,g=(0,a.k6)(),P=(0,k.Z)(),j=(0,f.ZP)(),S=(0,x.B)().countryFromIp,O=(0,$.Z)(),A=tC((0,o.useState)(!1),2),E=A[0],R=A[1],B=tC((0,o.useState)(!1),2),M=B[0],L=B[1],N=(0,s.v)().logContextEvent,Z=(0,C.Z)(),U=(0,_.F)().checkExperiment,H=U("mweb_board_user_reporting").anyEnabled,G=(0,i.useDispatch)(),V=(0,i.useSelector)(function(e){return e.session}).canUseNativeApp,W=n.id,q=n.name,K=n.access,Y=n.owner,X=n.sensitivity,J=n.privacy,Q=n.pin_count,ee=n.section_count,et=n.sensitivity_screen,er=n.collaborator_invites_enabled,en=n.is_temporarily_disabled,eo=void 0!==en&&en,ei=n.collaborated_by_me,ea=n.collaborator_requests_enabled,el=n.viewer_collaborator_join_requested,es=n.archived_by_me_at,ef=n.followed_by_me,ep=n.image_cover_url,eb=n.collaborator_permissions_setting,ey=(0,T.HG)(),e_=(0,e5.Z)(!!ei),em={board_id:W,reason:(null==et?void 0:et.reason)||""};d||tD(n,p);var ev=function(){O({fn:function(e){e&&e.stopPropagation&&e.stopPropagation(),L(!0),Z({action:"click",item:"main-share-button"})}})()};(0,o.useEffect)(function(){"t"===(0,I.mB)(p.search).open_share&&ev()},[]),(0,o.useEffect)(function(){return d&&G((0,th.FK)()),function(){d&&G((0,th.Cp)())}},[G,d]);var ex=(K||[]).includes("write"),eP=(0,e7.Z)(null==Y?void 0:Y.id),ej=(0,ec.Uz)(X),ew=(0,z.Z)(),eS=e_||eP,eO=!d&&!v,eA=!(e_||eP)&&H&&!eO,eC=tp.a0.dsa.COUNTRY_CODES.includes(S),eI=ey&&eO,eT=eO&&eC,eD=eS||eA||eT,ek=!ey&&(d||!V||eO),ez=!!eD&&eI,eR=(0,o.useRef)(null),eM=tC((0,o.useState)(!1),2),eN=eM[0],eZ=eM[1],eF=tC((0,o.useState)(!1),2),eU=eF[0],eH=eF[1];(0,D.Z)(function(){N({aux_data:{board_id:W,board_pin_count:null!=Q?Q:0,board_section_count:null!=ee?ee:0},component:178,event_type:13,view_parameter:eP?3069:3070,view_type:5})});var eG=tC((0,o.useState)(!eP&&!e_&&!!(null!=et&&et.show_warning)),2),eV=eG[0],eW=eG[1],eq=eP?3069:3070,eK=null!==(t=eP||e_&&er)&&void 0!==t&&t,eY=!ey&&!eo,eX=!eY&&!eI,e$="A stub for board subtitle. A stub for board subtitle. A stub";return(0,F.jsxs)(tk,{boardId:W,hasFixedHeader:ek,viewParameter:eq,children:[u&&(0,F.jsx)(tc.Z,{experience:u}),(0,F.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eV?{filter:"blur(20px)"}:{}},children:[ey&&!eO&&(0,F.jsx)(l.xu,{paddingX:2,children:(0,F.jsx)(ty.Z,{color:"darkGray",fallbackUrl:"/".concat(y,"/"),padding:3,size:"lg"})}),ek&&(0,F.jsx)(tl.Z,{position:"sticky",children:(0,F.jsx)(b.FixedHeader,{paddingY:2,children:(0,F.jsxs)(l.xu,{ref:h,alignItems:"center",column:12,"data-test-id":"boardHeader",display:"flex",height:"100%",children:[!eO&&(0,F.jsx)(l.kC,{children:(0,F.jsx)(ty.Z,{color:"darkGray",fallbackUrl:eO&&y?"/".concat(y,"/"):"/",shouldUseFallbackUrl:e8(p),size:"lg"})}),eU&&(0,F.jsx)(l.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginEnd:2,marginStart:2,children:(0,F.jsx)(l.xv,{align:"center",lineClamp:1,weight:"bold",children:q})}),(0,F.jsx)(l.xu,{flex:"grow"}),eY&&(0,F.jsx)(l.xu,{"data-test-id":"share-board-button",children:(0,F.jsx)(l.hU,{accessibilityLabel:j._('Share board', 'boardHeaderOverflowMenu.iconButton.accessibilityLabel', 'Accessibility label for button to share board'),bgColor:"white",icon:"share",iconColor:"darkGray",onClick:ev,size:"lg"})}),!!eD&&!ey&&(0,F.jsx)(l.xu,{flex:"none",children:(0,F.jsx)(eE,{bgColor:!ey&&eO?"white":void 0,board:n,hideShare:!eX,iconSize:!ey&&eO?"lg":void 0,isSensitive:ej,isTemporarilyDisabledBoard:eo,isViewerOrCollaborator:e_||eP,openSendBoardModal:ev,showReportDSAOption:eT,showReportOption:eA,username:y,viewParameter:eq,viewType:578})}),d&&!ex&&(0,F.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[!m&&ea&&d&&!ew.isPrivateProfile&&(0,F.jsx)(l.xu,{flex:"none",paddingX:1,children:(0,F.jsx)(ta,{boardId:W,isRequestedByMe:!!el,size:"lg"})}),!H&&(0,F.jsx)(l.xu,{flex:"none",paddingX:1,children:(0,F.jsx)(eu.Z,{disabled:m,followEventType:26,id:W,isFollowed:ef,onFollow:function(e){return G((0,ed.Z)(e,N))},onUnfollow:function(e){return G((0,ed.f)(e,N))},pinKey:null,showPulsar:p.state&&p.state.showPulsar,size:"lg",unfollowEventType:27,viewParameter:3070,viewType:5})})]})]})})}),(0,F.jsx)(l.kC,{justifyContent:"center",children:(0,F.jsx)(e4,{boardId:W,boardImageRep:null!=ep?ep:"",boardName:null!=q?q:"",isAuthenticated:d})}),(d||eO)&&(0,F.jsxs)(o.Fragment,{children:[(0,F.jsx)(w.Z,{children:(0,F.jsx)(tI,{component:13216,element:72,hideContactsSuggestions:!d,isOpen:M,objectId:String(W),objectType:2,onDismiss:function(e){e&&e.stopPropagation&&e.stopPropagation(),L(!1)},viewParameter:eq,viewType:5})}),E&&(0,F.jsx)(tt.Z,{boardCollabPermissionsSetting:eP&&eb,isOpen:E,objectId:W,objectType:2,onDismiss:function(){return R(!1)}})]}),eo?(0,F.jsx)(t_.Z,{boardName:q||"",isOwnerOrCollaborator:eP||e_,showOverflowButton:!1}):(0,F.jsxs)(o.Fragment,{children:[(0,F.jsxs)(l.kC,{alignItems:"center",justifyContent:"center",children:[(0,F.jsxs)(l.xu,{column:12,"data-test-id":"board-header",marginBottom:4,marginStart:ez?8:0,marginTop:2,maxWidth:488+(ez?32:0),children:[e$&&U("mweb_curated_articles_to_board_shift").anyEnabled&&(0,F.jsx)(l.xu,{marginBottom:2,children:(0,F.jsx)(l.xv,{align:"center",children:e$})}),(0,F.jsx)(l.xu,{"data-test-id":"board-title",marginBottom:1,children:(0,F.jsx)(l.X6,{align:"center",overflow:"breakWord",children:q})}),(0,F.jsx)(tm.Z,{checkExperiment:U,isAuth:d,onEnter:function(){eH(!1)},onExit:function(){eH(!0)},throttleTime:10,children:(0,F.jsx)(eh,{blockedByMe:m,board:n,canAddCollaborators:eK,experience:u,isAuthenticated:d,isSeoBot:v,onAddCollab:function(){return R(!0)},pinCount:Q,showFollowButton:H&&d&&!ex})}),(0,F.jsxs)(l.kC,{alignContent:"center",alignItems:"stretch",direction:"row",justifyContent:"center",children:["secret"===J&&(0,F.jsxs)(l.xu,{direction:"row",display:"flex",marginTop:2,children:[(0,F.jsx)(l.xu,{marginEnd:1,children:(0,F.jsx)(e9.Z,{backgroundColor:"default",iconColor:"default",iconSize:16,privacy:"secret",size:16})}),(0,F.jsx)(l.xv,{color:"subtle",size:"300",children:j._('Secret board', 'boardPage.fixedHeader.secretBoardText', 'subtitle on board page for secret boards')})]}),es&&(0,F.jsx)(l.xu,{direction:"row",display:"flex",marginTop:2,children:"secret"!==J?(0,F.jsx)(l.xv,{align:"center",color:"subtle",size:"300",children:j._('Archived board', 'boardPage.fixedHeader.archivedBoardText', 'subtitle on board page for archived boards')}):(0,F.jsxs)(o.Fragment,{children:[(0,F.jsx)(l.xu,{paddingX:1,children:(0,F.jsx)(l.xv,{color:"subtle",children:"\xb7"})}),(0,F.jsx)(l.xv,{align:"center",color:"subtle",size:"300",children:j._('Archived', 'boardPage.fixedHeader.archivedBoardAndSecretText', 'subtitle on board page for archived boards')})]})})]})]}),ez&&(0,F.jsx)(l.xu,{alignSelf:"start",marginTop:2,children:(0,F.jsx)(eE,{board:n,hideShare:!eX,isSensitive:ej,isTemporarilyDisabledBoard:eo,isViewerOrCollaborator:e_||eP,openSendBoardModal:ev,showReportDSAOption:eT,showReportOption:eA,username:y,viewParameter:eq,viewType:578})})]}),eI&&(0,F.jsxs)(l.xu,{ref:eR,alignContent:"center",alignItems:"center","data-test-id":"share-board-button",direction:"row",display:"flex",justifyContent:"center",marginBottom:2,children:[(0,F.jsx)(l.zx,{accessibilityLabel:j._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board'),onClick:function(){Z({action:"click",item:"main-share-button"}),eZ(!0)},text:j._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board')}),eN&&(0,F.jsx)(w.Z,{children:(0,F.jsx)(tT,{anchor:eR.current,component:13216,objectId:W,objectType:2,onDismiss:function(){return eZ(!1)},title:j._('Send this board', 'Sharesheet.ShareSocialBar', 'social media sharing board'),viewType:5})})]}),ej&&(0,ec.Fx)(X)&&X&&(0,F.jsx)(l.xu,{paddingY:2,children:(0,F.jsx)(ts.Z,{boardId:W,notice:X.notice||(null===(r=X.notices)||void 0===r?void 0:r[0]),sensitivity:X,viewParameter:eq,viewType:5})}),(eP||e_)&&(0,F.jsx)(eB.Z,{boardId:W}),(0,F.jsx)(l.xu,{children:c}),(eP||e_)&&(0,F.jsx)(eL.Z,{boardId:W,surface:"board"})]})]}),eV&&(0,F.jsx)(l.xu,{marginStart:-2,children:(0,F.jsx)(te,{handleGoBack:function(){N({event_type:101,component:13860,element:73,view_type:5,aux_data:em}),P||g.replace("/"),g.goBack()},hideSensitivityScreen:function(){G((0,eg.of)(W)),N({event_type:101,component:13860,element:12448,view_type:5,aux_data:em}),eW(!1)},sensitivityScreenAuxData:em})})]})},tR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tj(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tS(a);if(t){var n=tS(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tv(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tw(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return tO(tw(e=i.call.apply(i,[this].concat(r))),"stickyHeaderRef",(0,o.createRef)()),tO(tw(e),"logScrollEvent",(0,O.Z)(function(){var t=e.props.board?e.props.board.id:0;e.props.logContextEvent({event_type:110,view_type:5,view_parameter:3070,aux_data:{unauth_page_board_id:t}})},300)),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.board,r=e.dispatch,n=e.isAuthenticated,o=e.isViewerBoardOwner,i=e.isViewerCollaborator,a=e.isSeoBot,l=e.location,s=e.pwtStaticContext;if(t){var u="other";o?u="own":i&&(u="collaborator"),r((0,c.pz)([1000251],a,{board_id:t.id,board_ownership:u}))}(0,h.Z)(),n?(0,I.mB)(l.search).seamless&&(0,eF.nP)("mweb.social.group_board.seamless.land"):((0,tf.Mt)(l.pathname,null),window.addEventListener("scroll",this.logScrollEvent),(0,m.S$)({appLoadName:"board_page_interactive",clientNavName:"client_route_push_unauth_board"},s)),this.stickyHeaderRef&&this.stickyHeaderRef.current&&p.Z.addObstruction("top",this.stickyHeaderRef.current)}},{key:"componentWillUnmount",value:function(){this.props.isAuthenticated||window.removeEventListener("scroll",this.logScrollEvent),this.stickyHeaderRef&&this.stickyHeaderRef.current&&p.Z.removeObstruction("top",this.stickyHeaderRef.current)}},{key:"render",value:function(){var e,t=this.props,r=t.board,n=t.i18n,o=t.isAuthenticated,i=t.user,a=t.experience,s=t.location,c=t.children,u=t.isSeoBot;return r&&i?(0,F.jsx)(tz,{blockedByMe:i.blocked_by_me,board:r,experience:a,isAuthenticated:o,isSeoBot:u,location:s,stickyHeaderRef:this.stickyHeaderRef,username:null!==(e=i.username)&&void 0!==e?e:"",children:c}):(0,F.jsx)(l.xu,{column:12,paddingY:2,children:o?(0,F.jsx)(l.$j,{accessibilityLabel:n._('Loading feed', ' - ', ' -- '),show:!0}):(0,F.jsx)(eR,{})})}}],tP(a.prototype,r),n&&tP(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(o.Component),tB=function(e){var t=e.boardId,r=(0,a.UO)(),n=r.slug,o=r.username;return(0,j.Z)({name:"BoardInvitesResource",options:tx(tx({},t?{board_id:t}:{username:o,slug:n}),{},{status_filters:"new,contact_request_not_approved",sort:"viewer_first",include_inactive:!0})}),null};function tM(e){var t,r=e.children,n=(0,f.ZP)(),l=(0,v.N5)(),c=(0,a.TH)(),d=(0,a.UO)(),p=d.slug,h=d.username,b=(0,i.useDispatch)(),y=(0,s.v)().logContextEvent,_=(0,x.B)(),m=_.isAuthenticated,P=_.isBot,j="/".concat(h||"","/").concat((0,eM.X)(p||""),"/"),w=(0,i.useSelector)(function(e){return(0,tb.Z)(e)[j]}),S=null==w?void 0:w.owner,O=(0,u._)({id:1000251}),A=(0,e7.Z)(null==w?void 0:null===(t=w.owner)||void 0===t?void 0:t.id),C=(0,e5.Z)(!!(null==w?void 0:w.collaborated_by_me));return(0,F.jsxs)(o.Fragment,{children:[w&&(w.access||[]).includes("write")&&(0,F.jsx)(tB,{boardId:w.id}),(0,F.jsx)(g.Z,{annotateExperiments:[m?"web_eager_loadable_auth":"web_eager_loadable_unauth"],measureGridVisuallyComplete:!0,surface:"board",children:(0,F.jsx)(tR,{board:w,dispatch:b,experience:O,i18n:n,isAuthenticated:m,isSeoBot:P,isViewerBoardOwner:A,isViewerCollaborator:C,location:c,logContextEvent:y,pwtStaticContext:l,user:S,children:r})})]})}var tL=function(e){var t=e.username;return{field_set_key:e.field_set_key||"profile_grid_item",is_mobile_fork:!0,username:t,slug:e.slug,get_page_metadata:e.getPageMetadata,invite_code:e.invite_code}};function tN(e){var t=e.children,r=(0,f.ZP)(),n=(0,x.B)(),o=n.isAuthenticated,i=n.isBot,l=(0,a.TH)(),s=(0,a.UO)(),c=s.slug,u=s.username,p=(0,E.F9)().showToast,h=(0,j.Z)({name:"BoardResource",options:tL({username:u||"",slug:(0,eM.$)(c||"")})}).error,b=h&&o&&{pathname:l.pathname.match(/\/[^\/]*\//g),search:l.search},y=(0,j.Z)(i?null:{name:"UserResource",options:{field_set_key:"profile",username:u}}),_=!i&&(0,P.Z)(y);return!o&&h?(0,F.jsx)(a.l_,{to:{pathname:"/ideas/",state:{showError:!0}}}):b?(p(function(e){var t=e.hideToast;return(0,F.jsx)(d.ZP,{duration:7e3,onHide:t,text:o?r._('We couldn\'t find that Pinner\'s board but here are some of their other boards!', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to'):r._('We can\'t find that board. Please log in and give it another try!', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to'),type:"error"})}),(0,F.jsx)(a.l_,{to:b})):_?(0,F.jsx)(a.l_,{to:_}):t}function tZ(e){var t=e.children;return(0,F.jsx)(tN,{children:(0,F.jsx)(tM,{children:t})})}},859261:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(672652),o=r(684404),i=r(140017),a=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,r){var n;return(n=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===l(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t,r=e.setting,l=e.viewerIsOwner,c=(0,i.ZP)(),u=(s(t={},0,{name:c._('Do (almost) everything', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:c._('Add, move or delete Pins and sections, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')}),s(t,1,{name:c._('Save and comment', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:l?c._('Save Pins, organize them, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting'):c._('Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!', 'save.board.BoardPage.ModalContents.BoardPermissionDescription.SaveOnly.Collab', 'Text explaining collaborator permission setting')}),s(t,"INVITE_SETTING",{name:c._('Invite other people', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:c._('Collaborators can invite others to this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')}),t);return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(o.X6,{accessibilityLevel:2,size:"400",children:u[r].name}),(0,a.jsx)(o.xu,{paddingY:1,children:(0,a.jsx)(o.xv,{color:"subtle",size:"300",children:u[r].description})})]})}},28460:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(672652),o=r(780277),i=r(684404),a=r(5859),l=r(819267);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=(0,n.forwardRef)(function(e,t){var r,o=e.boardTool,c=o.icon,u=o.link,d=o.text,f=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(r,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=f[0],h=f[1],b=(0,a.B)().isRTL;return(0,l.jsx)(i.Tg,{ref:t,accessibilityLabel:d,href:u,onBlur:function(){return h(!1)},onFocus:function(){return h(!0)},rounding:6,children:(0,l.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,l.jsx)(i.xu,{alignItems:"center",color:p?"lightWash":"secondary",display:"flex",height:88,justifyContent:"center",rounding:6,width:88,children:(0,l.jsx)(i.JO,{accessibilityLabel:d,color:"default",icon:"text-align-left"===c&&b?"text-align-right":c,size:24})}),(0,l.jsx)(i.xu,{paddingY:1,width:88,children:(0,l.jsx)(i.xv,{align:"center",overflow:"normal",size:"100",weight:"bold",children:d})})]})})});function u(e){var t=e.boardId,r=e.sectionId,a=(0,n.useRef)(),s=(0,n.useRef)(),u=(0,n.useRef)(),d=(0,n.useRef)(),f="";r?f=r:t&&(f=t);var p=r?"section-tools:".concat(f):"board-tools:".concat(f),h=(0,o.useSelector)(function(e){return e.feeds[p]})||[];if(h.length<1)return null;var b=[a,s,u,d],y=h.map(function(e){var t=e.id.split("-");return t&&t.length>1?Number(t[1]):-1});return h?(0,l.jsx)(i.xu,{"data-test-id":"board-tools-container",children:(0,l.jsx)(i.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,l.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",children:h.map(function(e,t){var r=y?y[t]:-1;return(0,l.jsx)(i.xu,{padding:1,children:(0,l.jsx)(c,{ref:b[r],boardTool:e})},e.id)})})})}):null}c.displayName="BoardTool"},192858:function(e,t,r){"use strict";r.d(t,{$:function(){return o},X:function(){return i}});var n=r(730786),o=function(e){return decodeURIComponent(e)},i=function(e){return encodeURIComponent((0,n.t)(e))}},968836:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(684404),o=r(831641),i=r(819267);function a(e){var t=e.boardId,r=e.surface;return(0,i.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,i.jsx)(o.Z,{bgColor:"white",boardId:t,buttonPadding:4,elementType:10643,iconButtonColor:"darkGray",iconButtonSize:"xl",viewType:"board"===r?5:164})})}},887311:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(149722);function o(e){return(0,n.Z)().isAuth&&e}},14774:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(684404),o=r(930837),i=r(140017),a=r(819267);function l(e){var t=e.cancelButtonLabel,r=e.confirmButtonLabel,l=e.heading,s=e.message,c=e.onCancel,u=e.onConfirm,d=(0,i.ZP)(),f=l||d._('Are you sure?', ' - ', ' -- '),p=t||d._('Cancel', ' - ', ' -- ');return(0,a.jsx)(o.ZP,{accessibilityModalLabel:f,footer:(0,a.jsxs)(n.xu,{marginEnd:-1,marginStart:-1,children:[(0,a.jsx)(n.xu,{"data-test-id":"cancel-button",padding:1,children:(0,a.jsx)(n.zx,{fullWidth:!0,onClick:c,size:"lg",text:p})}),(0,a.jsx)(n.xu,{"data-test-id":"confirm-button",padding:1,children:(0,a.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:u,size:"lg",text:r})})]}),heading:f,onDismiss:c,role:"alertdialog",children:(0,a.jsx)(n.xu,{padding:4,children:(0,a.jsx)(n.xv,{children:s})})})}},976439:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return H}});var n=r(672652),o=r(684404),i=r(930837),a=r(140017),l=r(995917),s=r(780277),c=r(216167),u=r(636259),d=r(107366),f=r(454514),p=r(5859),h=r(13848),b=r(149722),y=r(785059),_=r(199677),m=r(844683),v=r(339001),g=r(168477),x=r(819267);function P(){var e=(0,a.ZP)();return(0,x.jsx)(o.xu,{color:"warningWeak",rounding:3,children:(0,x.jsx)(o.xu,{padding:4,children:(0,x.jsxs)(o.kC,{alignItems:"center",direction:"row",gap:3,children:[(0,x.jsx)(o.qb,{type:"warning"}),(0,x.jsx)(o.xv,{size:"200",children:e._('Note: If this board has Pins that are currently being Promoted (active ads), then those promoted Pins will not be distributed in this period. Additionally, when the board is permanently deleted, the Pins will be, too.', 'boardEdit.advertiserBoardDeleteWarning.text', 'text to warning advertisers when deleting a board')})]})})})}function j(e){var t=e.board,r=e.onCancel,n=e.onConfirm,i=(0,a.ZP)(),l=(0,p.B)().advertiser,s=(0,b.Z)(),c=!!s.isAuth&&s.id===(null==l?void 0:l.owner_user_id);return(0,x.jsx)(o.mh,{zIndex:m.b7,children:(0,x.jsx)(o.WB,{accessibilityModalLabel:i._('Delete board', 'boardEdit.boardDeleteConfirmation.accessibilityModalLabel', 'Accessibility modal label for board delete confirmation modal'),heading:i._('Delete this board?', 'boardEdit.boardDeleteConfirmation.heading', 'Heading for board delete confirmation modal'),onDismiss:r,primaryAction:{accessibilityLabel:i._('Confirm delete board', 'boardEdit.boardDeleteConfirmation.primaryAction.accessibilityLabel', 'Accessibility modal label for board delete confirmation modal primary action'),dataTestId:"confirm-button",label:i._('Delete', 'boardEdit.boardDeleteConfirmation.primaryAction.label', 'Label for board delete confirmation modal primary action'),onClick:n},secondaryAction:{accessibilityLabel:i._('Cancel board deletion', 'boardEdit.boardDeleteConfirmation.secondaryAction.accessibilityLabel', 'Accessibility modal label for board delete confirmation modal secondary action'),label:i._('Cancel', 'boardEdit.boardDeleteConfirmation.secondaryAction.label', 'Label for board delete confirmation modal secondary action'),onClick:r},children:(0,x.jsxs)(o.kC,{direction:"column",gap:4,children:[(0,x.jsx)(o.xv,{children:(0,v.nk)(i.ngettext('The board {{ boardName }} and {{ pinCount }} Pin will be removed from your profile. You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }} days to restore them in the {{ recentlyDeleted }} section. After that, they\'ll be permanently deleted.', 'The board {{ boardName }} and {{ pinCount }} Pins will be removed from your profile. You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }} days to restore them in the {{ recentlyDeleted }} section. After that, they\'ll be permanently deleted.', t.pin_count || 0, 'boardEdit.boardDeleteConfirmation.text', 'message informing user of board deletion. boardName:name of board. pinCount:number of Pins. MAX_AGE_RECENTLY_DELETED_BOARD:how old a board can be before it is deleted. recentlyDeleted:section of profile used to access on profile for recently deleted boards'),{boardName:(0,x.jsx)(o.xu,{display:"inlineBlock",children:(0,x.jsx)(o.xv,{weight:"bold",children:t.name})}),MAX_AGE_RECENTLY_DELETED_BOARD:g.Xq,pinCount:t.pin_count,recentlyDeleted:(0,x.jsx)(o.xv,{inline:!0,weight:"bold",children:i._('Recently deleted', 'boardEdit.boardDeleteConfirmation.recentlyDeletedText', 'Name for section on profile for recently deleted boards')})})}),c&&(0,x.jsx)(P,{})]})})})}var w=r(796122),S=r(821419),O=r(265330),A=r(386129),C=r(761203);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){L(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function D(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function k(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){D(i,n,o,a,l,"next",e)}function l(e){D(i,n,o,a,l,"throw",e)}a(void 0)})}}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,r){return(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(l,e);var t,r,i,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=M(l);if(t){var n=M(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return B(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return L(B(e=a.call.apply(a,[this].concat(r))),"state",{editMode:"main"}),L(B(e),"handleBoardLeave",function(){var t=e.props,r=t.board,n=t.onBoardLeave;(0,t.onClose)(),n&&n(r.id)}),L(B(e),"returnToMainEditMode",function(){return e.setState({editMode:"main"})}),L(B(e),"handleDelete",k(regeneratorRuntime.mark(function t(){var r,n,o,i,a,l,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=e.props).board,o=r.deleteBoard,i=r.onBoardDelete,a=r.onClose,l=r.toastManagerContext,s=r.viewer,c=r.orbacActingAs,t.next=3,o(n.id,(0,_.lJ)(s,c));case 3:l.showToast(function(t){var r=t.hideToast;return(0,x.jsx)(f.ZP,{onHide:r,text:e.props.i18n._('Board deleted!', 'User deleted their board', 'User deleted their board')})}),e.returnToMainEditMode(),a(),i&&i(n);case 7:case"end":return t.stop()}},t)}))),L(B(e),"handleShowDeleteModal",function(){e.setState({editMode:"confirmDelete"})}),L(B(e),"handleSubmit",function(t){var r,n=e.props,o=n.viewer,i=n.orbacActingAs,a=n.board,l=n.updateBoard,s=n.onBoardPrivacyChange,c=n.onBoardUpdate,u=n.onClose,f=e.props.board.id;if((0,_.D3)(o,(null===(r=a.owner)||void 0===r?void 0:r.id)||"",i)){var p=T({},t);return l(f,p,(0,_.lJ)(o,i)).then(function(){a.privacy!==t.privacy&&s?s():c&&c(f,p),u()})}var h=t.allow_homefeed_recommendations,b=t.collab_board_email;return h!==a.allow_homefeed_recommendations&&l(f,{allow_homefeed_recommendations:h}),(0,d.Z)({url:"/v3/boards/".concat(f,"/settings/"),method:"POST",data:{collab_board_email:b}}).then(function(){return u()}).catch(function(e){throw e.message})}),e}return r=[{key:"render",value:function(){var e,t=this,r=this.props,i=r.board,a=r.categories,l=r.viewer,s=r.orbacActingAs,c=r.onCropChange,u=r.onClose,d=r.onToggleFlyout,f=r.requestContext,p=this.state.editMode,h=this.props.i18n._('Edit your board', 'BoardEdit.Heading.Text', 'edit board heading'),b=(0,_.D3)(l,(null===(e=i.owner)||void 0===e?void 0:e.id)||"",s),y=(0,x.jsxs)(o.kC,{alignContent:"center",children:[(0,x.jsx)(o.xu,{column:2,paddingY:8}),(0,x.jsx)(o.xu,{column:8,paddingY:8,position:"relative",children:(0,x.jsx)(o.X6,{align:"center",size:"500",children:h})}),(0,x.jsx)(o.xu,{column:2,left:f.isRTL,paddingY:8,position:"relative",right:!f.isRTL,top:!0,children:(0,x.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Close', 'BoardEdit.icon.cancel', 'Icon to close board edit modal'),icon:"cancel",iconColor:"darkGray",onClick:u,size:"md"})})]});return(0,x.jsxs)(n.Fragment,{children:["main"===p&&(0,x.jsx)(w.Z,{board:i,categories:a,currentUserIsOwner:b,handleBoardLeave:this.handleBoardLeave,isArchivable:!0,isDeletable:b,isEditable:b,onClose:u,onCropChange:c,onDeleteButtonClick:this.handleShowDeleteModal,onSubmit:this.handleSubmit,onToggleFlyout:d,submitText:this.props.i18n._('Done', 'BoardEdit.BoardEdit', 'Submit button text'),title:y}),"confirmDelete"===p&&(0,x.jsx)(j,{board:i,onCancel:this.returnToMainEditMode,onConfirm:function(){t.handleDelete()}})]})}}],z(l.prototype,r),i&&z(l,i),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function F(e){var t,r,o,i,l=(0,a.ZP)(),d=(0,s.useDispatch)(),f=(t=(0,C.bn)(),r=(0,s.useDispatch)(),o=(0,u.Z)().refreshRecentlyDeletedBoards,(0,n.useCallback)((i=k(regeneratorRuntime.mark(function e(n,i){var a,l,s,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(l=t[n]).pin_count,d=void 0===(u=(null!==(a=l.owner)&&void 0!==a?a:{}).id)?"":u,r((0,S.eo)({boardId:n})),r((0,A.JS)({userId:d,increment:"number"==typeof s?-s:0})),e.next=7,c.Z.create("BoardResource",T({board_id:n},i?{orbac_subject_id:i}:Object.freeze({}))).callDelete({showError:!0});case 7:o();case 8:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)}),[t,r,o]));return(0,x.jsx)(Z,T(T({},e),{},{deleteBoard:f,i18n:l,orbacActingAs:(0,y.Z)(),requestContext:(0,p.B)(),toastManagerContext:(0,h.F9)(),updateBoard:function(e,t,r){return d((0,O.V)(e,t,r))},viewer:(0,b.Z)()}))}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function H(e){var t,r=e.boardId,s=e.onBoardPrivacyChange,c=e.onBoardLeave,u=e.onBoardDelete,d=e.onBoardUpdate,f=e.onClose,p=e.onCropChange,h=(0,a.ZP)(),b=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=b[0],_=b[1],m=(0,l.Z)({name:"CategoriesResource",noCache:!0}).data;(0,l.Z)({name:"BoardResource",options:{field_set_key:"edit",board_id:r},noCache:!0});var v=(0,C.gC)()(r);return v&&m?(0,x.jsx)(F,{board:v,categories:m,onBoardDelete:u,onBoardLeave:c,onBoardPrivacyChange:s,onBoardUpdate:d,onClose:function(){y||f()},onCropChange:p,onToggleFlyout:function(){return _(!y)}}):(0,x.jsx)(i.ZP,{accessibilityModalLabel:h._('Board edit', 'BoardEdit.BoardEditModal', 'Accessibility label on modal'),onDismiss:f,size:"sm",children:(0,x.jsx)(o.xu,{padding:12,children:(0,x.jsx)(o.$j,{accessibilityLabel:h._('Board edit', 'BoardEdit.BoardEditModal', 'Accessibility label on loading spinner'),show:!0})})})}},669485:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}r.d(t,{Z:function(){return c}});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(d,e);var t,r,c,u=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=l(d);if(t){var o=l(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return a(e)}(this,e)});function d(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d);for(var e,t,r,n,o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=a(e=u.call.apply(u,[this].concat(i))),r="check",n=function(){var t=e.props,r=t.isAtEnd,n=t.isFetching,o=t.fetchMore,i=t.scrollBuffer,a=t.scrollHeight,l=t.scrollTop;r||n||!(l+i>a)||o()},(r=s(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return r=[{key:"componentDidMount",value:function(){setTimeout(this.check)}},{key:"componentDidUpdate",value:function(){this.check()}},{key:"render",value:function(){return null}}],o(d.prototype,r),c&&o(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(r(672652).PureComponent)},334258:function(e,t,r){"use strict";r.d(t,{Z:function(){return ev}});var n=r(672652),o=r(328038),i=r(684404),a=r(216167),l=r(587703),s=r(41005),c=r(958399),u=r(329395),d=r(847069),f=r(930837),p=r(454514),h=r(140017),b=r(776427),y=r(524558),_=r(13848),m=r(859261),v=r(780277),g=r(920434),x=r(227258),P=r(995917),j=r(71328),w=r(149722),S=r(205841),O=r(823813),A=r(645247),C=r(819267);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){M(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function D(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,r){return(t=L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=B(a);if(t){var n=B(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return R(e)}(this,e)});function a(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var e,t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return M(R(e=o.call.apply(o,[this].concat(n))),"state",{isSent:!1}),M(R(e),"onInlineSend",(t=regeneratorRuntime.mark(function t(){var r,n,o,i,a,l,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=e.props).inviteCollaborator,o=r.viewingUserId,i=r.boardId,a=r.recipient,l=r.showToast,e.setState({isSent:!0}),t.prev=2,t.next=5,n(i,null!==(s=null==a?void 0:a.id)&&void 0!==s?s:"",o);case 5:l(function(t){var r=t.hideToast;return(0,C.jsx)(p.ZP,{onHide:r,text:e.props.i18n._('1 invite sent!', 'BoardCollabSuggestionCell.onInlineSend.confirmationToast', 'Toast message after sending out an invitation to collaborate on a board.')})}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),e.setState({isSent:!1}),l(function(r){var n=r.hideToast;return(0,C.jsx)(p.ZP,{onHide:n,text:t.t0.message||e.props.i18n._('Sorry! There was an error adding collaborators', 'Toast for adding collaborator error', 'Toast for adding collaborator error'),type:"error"})});case 12:case"end":return t.stop()}},t,null,[[2,8]])}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){D(i,n,o,a,l,"next",e)}function l(e){D(i,n,o,a,l,"throw",e)}a(void 0)})})),e}return r=[{key:"render",value:function(){var e,t,r=this,n=this.props,o=n.invite,a=n.legoBoardModalsEnabled,l=n.recipient,s=!!(this.state.isSent||o);return(0,C.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,C.jsx)(i.xu,{children:(0,C.jsx)(S.qE,{accessibilityLabel:"",name:null!==(e=null==l?void 0:l.full_name)&&void 0!==e?e:"",size:"md",src:null!==(t=null==l?void 0:l.image_large_url)&&void 0!==t?t:""})}),(0,C.jsx)(i.xu,{flex:"grow",paddingX:2,children:a?(0,C.jsxs)(i.xu,{children:[(0,C.jsx)(i.X6,{accessibilityLevel:2,lineClamp:1,size:"400",children:null==l?void 0:l.full_name}),(0,C.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"100",children:null==l?void 0:l.username})]}):(0,C.jsx)(i.xv,{lineClamp:1,weight:"bold",children:null==l?void 0:l.full_name})}),(0,C.jsx)(i.xu,{flex:"none",marginStart:2,right:!0,children:s?(0,C.jsx)(i.xu,{marginEnd:2,children:(0,C.jsx)(i.xv,{color:"subtle",size:"300",weight:"bold",children:this.props.i18n._('Invited', 'Disabled button after a user invites someone else', 'Disabled button after a user invites someone else')})}):(0,C.jsx)(i.zx,{color:"red",disabled:s,onClick:function(){r.onInlineSend()},size:"lg",text:this.props.i18n._('Invite', 'Button to invite a contact to collaborate on a group board', 'Button to invite a contact to collaborate on a group board')})})]})}}],k(a.prototype,r),n&&k(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.PureComponent);function Z(e){var t,r,n,o=(0,h.ZP)(),i=(0,_.F9)().showToast;(0,P.Z)({name:"BoardInviteResource",options:{board_id:e.boardId,invited_user_id:null===(t=e.recipient)||void 0===t?void 0:t.id}});var a=(0,w.Z)().id,l=(0,v.useDispatch)(),s=(0,O.DK)(),c=(0,A.U)({board:e.boardId,invited_user:null!==(r=null===(n=e.recipient)||void 0===n?void 0:n.id)&&void 0!==r?r:""}),u=(0,v.useSelector)(function(e){return e.invites[c]});return(0,C.jsx)(N,T(T({},e),{},{i18n:o,invite:u,inviteCollaborator:function(e,t){return l(s(e,[t]))},showToast:i,viewingUserId:null!=a?a:""}))}var F=r(386008),U=r(413523),H=r(953565);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J(n.key),n)}}function K(e,t){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,r){return(t=J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==G(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===G(t)?t:String(t)}var Q={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"},ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(s,e);var t,r,o,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=X(s);if(t){var n=X(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return Y(e)}(this,e)});function s(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),$(Y(t=l.call(this,e)),"state",{value:"",showScrollShadow:!1,defaultSuggestions:[]}),$(Y(t),"onSearchChange",function(e){var r=e.value,n=t.props,o=n.userId,i=n.searchContacts;t.setState({value:r},i({options:{user:o,term:r}}))}),$(Y(t),"getContactSuggestions",function(){var e=t.props,r=e.suggestions,n=e.userId,o=e.users,i=t.state,a=i.value,l=i.defaultSuggestions;if(!a)return l.filter(function(e){return e.id&&o[e.id]})||[];var s="share-suggestions:".concat(n,":").concat(a),c="share-suggestions:".concat(n,":").concat(a.slice(0,-1));return r[s]||r[c]||[]}),$(Y(t),"renderContactSuggestions",function(){var e=t.props,r=e.fetching,n=e.users,o=e.boardId,a=e.legoBoardModalsEnabled,l=e.isFullHeight,s=t.getContactSuggestions(),c=Math.min(s.length,4),u=l?"100%":"calc(8.5vh * ".concat(c,")");return r?(0,C.jsx)(i.xu,{height:u,paddingY:2,children:(0,C.jsx)(i.$j,{accessibilityLabel:t.props.i18n._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu'),show:!0})}):0===s.length?l&&(0,C.jsx)(i.xu,{marginTop:4,children:(0,C.jsx)(i.xv,{align:"center",children:t.props.i18n._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,C.jsx)(i.xu,{height:u,children:s.map(function(e){return(0,C.jsx)(Z,{boardId:o,legoBoardModalsEnabled:!!a,recipient:n[e.id]},e.id)})})}),t.scrollerRef=(0,n.createRef)(),t}return r=[{key:"componentDidUpdate",value:function(e){var t=e.fetching,r=this.state.value,n=t&&!this.props.fetching,o=this.getContactSuggestions();if(!r&&n){var i=o.length>0?7511:7512;this.props.logContextEvent({event_type:i,view_type:5,view_parameter:3059})}}},{key:"componentDidMount",value:function(){var e=this;a.Z.create("ShareSuggestionsResource",{suggestion_type:"group_board"}).callGet().then(function(t){var r=t.resource_response.data;e.setState({defaultSuggestions:r})}).catch(function(){(0,H.nP)("mweb_share_menu_load_suggestions.fail.board_invite",{sampleRate:1})})}},{key:"render",value:function(){var e=this,t=this.state.showScrollShadow,r=this.props.expandContactsList,n=(0,j.Z)(function(){var t=e.scrollerRef.current;t&&!Number.isNaN(t.scrollTop)&&e.setState({showScrollShadow:t.scrollTop>0})},100);return(0,C.jsxs)(i.xu,{color:"default",direction:"column",display:"flex",height:"90%",paddingX:0,children:[(0,C.jsx)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:t?Q:null},paddingX:4,paddingY:2,children:(0,C.jsx)(U.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),autoFocus:!1,id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:r,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value})}),(0,C.jsx)(i.xu,{ref:this.scrollerRef,direction:"column",display:"flex",onScroll:n,overflow:"scrollY",paddingX:4,paddingY:1,children:this.renderContactSuggestions()})]})}}],q(s.prototype,r),o&&q(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.PureComponent);function et(e){var t=(0,h.ZP)(),r=(0,v.useDispatch)(),n=(0,v.useSelector)(function(e){var t=e.resources;return Object.keys(t.ShareSuggestionsTypeaheadResource||{}).some(function(e){return t.ShareSuggestionsTypeaheadResource[e].fetching})}),o=(0,v.useSelector)(function(e){var t=e.feeds;return Object.keys(t).filter(function(e){return e.includes("share-suggestions")}).reduce(function(e,r){return W(W({},e),{},$({},r,t[r]))},{})}),i=(0,w.Z)().id,a=(0,F.kW)(),s=(0,l.Z)();return(0,P.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:i}}),(0,C.jsx)(ee,W(W({},e),{},{fetching:n,i18n:t,logContextEvent:s,searchContacts:function(e){(0,g.Z)(r((0,x.U)("ShareSuggestionsTypeaheadResource",e)),200)},suggestions:o,userId:null!=i?i:"",users:a}))}var er=r(616333),en=r(80263);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ep(n.key),n)}}function el(e,t){return(el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function es(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ed(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(r),!0).forEach(function(t){ef(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ef(e,t,r){return(t=ep(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ep(e){var t=function(e,t){if("object"!==eo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eo(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eo(t)?t:String(t)}var eh=function(e){var t=e.text;return(0,C.jsx)(i.xv,{align:"center",size:"100",children:(0,C.jsx)(y.Z,{maxHeightPx:30,maxWidthPx:70,children:t})})},eb=function(e){var t=e.heading,r=e.legoBoardModalsEnabled,n=e.onDismiss,o=(0,h.ZP)();return(0,C.jsxs)(i.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,C.jsx)(i.xu,{alignItems:"center",display:"flex",padding:2,children:(0,C.jsx)(i.hU,{accessibilityLabel:o._('Close', 'close share menu', 'close share menu'),icon:"cancel",iconColor:"darkGray",onClick:n,padding:4,size:r?"lg":"sm"})}),(0,C.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginEnd:12,children:(0,C.jsx)(i.xv,{align:"center",size:"400",weight:"bold",children:t})})]})},ey=function(e){var t=e.children,r=e.isOpen,n=e.legoBoardModalsEnabled,o=e.onDismiss,i=e.shouldRenderFullHeight,a=(0,h.ZP)(),l=a._('Invite collaborators', 'mweb.inviteSheet.header.label', 'Heading for the add collaborators sharesheet'),s={accessibilityModalLabel:"",mobileAccessibilityCloseIconLabel:a._('close send modal', ' - ', ' -- '),heading:l,isOpen:r,onDismiss:o,type:"board_collab_share_menu"};return i?(0,C.jsxs)(er.Z,{accessibilityModalLabel:l,isOpen:r,children:[(0,C.jsx)(eb,{heading:l,legoBoardModalsEnabled:n,onDismiss:o}),t]}):(0,C.jsx)(f.ZP,ed(ed({},s),{},{children:t}))},e_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&el(e,t)}(_,e);var t,o,l,f,h,y=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ec(_);if(t){var n=ec(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eo(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return es(e)}(this,e)});function _(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,_);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ef(es(e=y.call.apply(y,[this].concat(r))),"state",{invitePath:"",inviteCode:null,Clipboard:null,fbLoaded:!1}),ef(es(e),"setClipboard",function(t){var r=e.state.Clipboard;if(e.copyButtonRef=t,t&&r){var n=new r(t,{text:function(){return e.state.invitePath}});n.on("success",function(t){e.showCopyToast(t)}),n.on("error",function(){throw Error("<ShareMenu /> error: copy command failed")})}}),ef(es(e),"showCopyToast",function(t){e.logShare(12),e.props.onDismiss(t),e.props.showToast(function(t){var r=t.hideToast;return(0,C.jsx)(p.ZP,{onHide:r,text:e.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard')})})}),ef(es(e),"handleMessengerClick",function(){e.logShare(6),e.fetchFreshInviteCode(6)}),ef(es(e),"handleTwitterClick",function(){e.logShare(9),e.fetchFreshInviteCode(9)}),ef(es(e),"handleWhatsappClick",function(){e.logShare(10),e.fetchFreshInviteCode(10)}),ef(es(e),"handleFacebookClick",function(){var t=e.state,r=t.inviteCode,n=t.invitePath;t.fbLoaded&&window.FB.ui({method:"share",mobile_iframe:!0,href:n},function(t){t&&!t.error_message&&e.logShare(5,r)}),e.fetchFreshInviteCode(5)}),ef(es(e),"copyButtonRef",null),e}return f=[{key:"componentDidMount",value:function(){var e=this;this.fetchFreshInviteCode(12),(0,b.we)("en_US").then(function(){e.setState({fbLoaded:!0})}),r.e(6527).then(r.t.bind(r,34564,23)).then(function(t){var r=t.default;r.isSupported()&&(e.setState({Clipboard:r}),e.setClipboard(e.copyButtonRef))}),this.props.logContextEvent({event_type:7120,element:331,view_type:5,view_parameter:3059})}},{key:"componentDidUpdate",value:function(e){e.objectId!==this.props.objectId&&this.fetchFreshInviteCode(12)}},{key:"fetchFreshInviteCode",value:(o=regeneratorRuntime.mark(function e(t){var r,n,o,i,a,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=this.props).objectId,o=r.objectType,i=r.fetchFreshInviteCode,e.next=3,i(t,n,o);case 3:l=(a=e.sent).invitePath,s=a.inviteCode,l&&this.setState({invitePath:l}),s&&this.setState({inviteCode:s});case 8:case"end":return e.stop()}},e,this)}),l=function(){var e=this,t=arguments;return new Promise(function(r,n){var i=o.apply(e,t);function a(e){ei(i,r,n,a,l,"next",e)}function l(e){ei(i,r,n,a,l,"throw",e)}a(void 0)})},function(e){return l.apply(this,arguments)})},{key:"logShare",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.inviteCode,r=this.props,n=r.objectId,o=r.objectType;a.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:4,invite_object:o,invite_channel:e},invite_code:t,object_id:n}).callCreate()}},{key:"render",value:function(){var e=this,t=this.props,r=t.boardCollabPermissionsSetting,o=t.history,a=t.legoBoardModalsEnabled,l=t.objectId,f=t.onExpand,p=t.shouldRenderFullHeight,h=this.state.invitePath,y="fb-messenger://share/?link=".concat(encodeURIComponent(h),"&app_id=").concat(b.GH),_="twitter://post?message=".concat(encodeURIComponent(h)),v="whatsapp://send?text=".concat(encodeURIComponent(h)),g=function(e){var t=e.children,r=e.marginEnd;return(0,C.jsx)(i.xu,{direction:"column",display:"flex",marginEnd:r,width:a?void 0:78,children:t})},x=function(e){var t=e.children;return(0,C.jsx)(i.xu,{display:"flex",justifyContent:"center",paddingX:a?void 0:3,children:t})},P=this.props.i18n._('Copy link', 'Copy link icon', 'Copy link icon'),j=this.props.i18n._('Messenger', 'Facebook Messenger App', 'Facebook Messenger App'),w=a?44:48;return(0,C.jsxs)(n.Fragment,{children:[!p&&(0,C.jsxs)(i.xu,{children:[(0,C.jsx)(i.xu,{height:4}),[0,1].includes(r)&&(0,C.jsx)(i.iP,{onTap:function(){return o.push("/board/".concat(l,"/permissions"))},children:(0,C.jsxs)(i.xu,{marginBottom:8,paddingX:4,children:[(0,C.jsx)(i.xu,{paddingY:2,children:(0,C.jsx)(i.xv,{size:"100",children:this.props.i18n._('Collaborators can...', 'boardEdit.EditCollaborators', 'Text before showing collaborator permissions on a board')})}),(0,C.jsxs)(i.kC,{alignItems:"start",justifyContent:"between",children:[(0,C.jsx)(i.xu,{width:"60%",children:(0,C.jsx)(m.Z,{setting:r})}),(0,C.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('See permission options', 'boardEdit.EditCollaborators', 'accessibility label on button'),icon:"arrow-forward"})]})]})}),(0,C.jsxs)(i.xu,{display:"flex",justifyContent:"around",marginEnd:4,marginStart:4,overflow:"scrollX",width:"100%",children:[(0,C.jsxs)(g,{marginEnd:2,children:[(0,C.jsx)(x,{children:(0,C.jsx)(i.xu,{ref:this.setClipboard,children:(0,C.jsx)(i.Sj,{bgColor:"lightGray",icon:"link",size:"lg"})})}),(0,C.jsx)(eh,{text:P})]}),(0,C.jsxs)(g,{marginEnd:2,children:[(0,C.jsx)(x,{children:(0,C.jsx)(i.rU,{href:y,onClick:function(t){(0,t.dangerouslyDisableOnNavigation)(),e.handleMessengerClick()},rel:"nofollow",children:(0,C.jsx)(c.Z,{size:w})})}),(0,C.jsx)(eh,{text:j})]}),(0,C.jsxs)(g,{marginEnd:2,children:[(0,C.jsx)(x,{children:(0,C.jsx)(i.rU,{href:v,onClick:this.handleWhatsappClick,rel:"nofollow",children:(0,C.jsx)(u.Z,{size:w})})}),(0,C.jsx)(eh,{text:this.props.i18n._('WhatsApp', 'WhatsApp App', 'WhatsApp App')})]}),(0,C.jsxs)(g,{marginEnd:2,children:[(0,C.jsx)(x,{children:(0,C.jsx)(i.rU,{href:"#",onClick:function(t){var r=t.event,n=t.dangerouslyDisableOnNavigation;r.preventDefault(),n(),e.handleFacebookClick()},rel:"nofollow",children:(0,C.jsx)(s.Z,{size:w})})}),(0,C.jsx)(eh,{text:this.props.i18n._('Facebook', 'Facebook App', 'Facebook App')})]}),(0,C.jsxs)(g,{children:[(0,C.jsx)(x,{children:(0,C.jsx)(i.rU,{href:_,onClick:this.handleTwitterClick,rel:"nofollow",children:(0,C.jsx)(d.Z,{size:w})})}),(0,C.jsx)(eh,{text:this.props.i18n._('X', 'Twitter App', 'Twitter App Label')})]})]}),(0,C.jsx)(i.xu,{height:16})]}),(0,C.jsx)(et,{boardId:l,expandContactsList:f,isFullHeight:p,legoBoardModalsEnabled:a})]})}}],ea(_.prototype,f),h&&ea(_,h),Object.defineProperty(_,"prototype",{writable:!1}),_}(n.PureComponent);function em(e){var t=(0,o.k6)(),r=(0,h.ZP)(),n=(0,l.Z)(),i=(0,_.F9)().showToast,a=(0,en.D3)();return(0,C.jsx)(e_,ed(ed({},e),{},{fetchFreshInviteCode:a,history:t,i18n:r,logContextEvent:n,showToast:i}))}var ev=function(e){var t=e.boardCollabPermissionsSetting,r=e.isOpen,n=e.onDismiss,o=e.objectId,i=e.objectType;return(0,C.jsx)(ey,{isOpen:r,legoBoardModalsEnabled:!0,onDismiss:n,shouldRenderFullHeight:!0,children:(0,C.jsx)(em,{boardCollabPermissionsSetting:t,legoBoardModalsEnabled:!0,objectId:o,objectType:i,onDismiss:n,shouldRenderFullHeight:!0})})}},888263:function(e,t,r){"use strict";var n=r(684404),o=r(930837),i=r(140017),a=r(339001),l=r(819267),s={ARCHIVE:"archive",DELETE:"delete",DELETE_SECTION:"deleteSection",LEAVE:"leave",REMOVE:"remove",UNARCHIVE:"unarchive"};t.Z=function(e){var t,r,c,u,d,f,p,h,b=e.type,y=e.fullName,_=e.isOpen,m=e.onConfirm,v=e.onDismiss,g=(0,i.ZP)();return(0,l.jsx)(o.ZP,{accessibilityModalLabel:"",isOpen:_,mobileHideCloseIcon:!0,onDismiss:v,type:"edit_wraning_modal",children:(0,l.jsx)(n.xu,{padding:3,children:(0,l.jsxs)(n.xu,{marginBottom:2,marginTop:3,children:[(0,l.jsx)(n.xu,{children:(0,l.jsx)(n.X6,{align:"center",overflow:"normal",size:"500",children:(t=b,r=y,c=g,t===s.DELETE?c._('Delete Board?', 'confirmation of the act of deleting a board', 'confirmation of the act of deleting a board'):t===s.LEAVE?c._('Leave this Board?', 'confirmation of the act of leaving a board', 'confirmation of the act of leaving a board'):t===s.REMOVE?(0,a.nk)(c._('Are you sure you want to remove {{ fullName }}?', ' - ', ' -- '),{fullName:r}):t===s.DELETE_SECTION?c._('Delete section?', ' - ', ' -- '):t===s.ARCHIVE?c._('Archive this board?', 'modal heading for board archive confirmation', 'modal heading for board archive confirmation'):t===s.UNARCHIVE?c._('Unarchive this board?', 'modal heading for board unarchive confirmation', 'modal heading for board unarchive confirmation'):null)})}),(0,l.jsx)(n.xu,{marginBottom:8,marginTop:2,children:(0,l.jsx)(n.xv,{align:"center",children:(u=b,d=y,f=g,u===s.LEAVE?f._('If you leave this board, it won\'t show up on your\n    profile and you won\'t be able to save Pins to it anymore.', 'the effect of leaving a board', 'the effect of leaving a board'):u===s.DELETE?f._('You won\'t be able to get it back.', 'the effect of deleting a board', 'the effect of deleting a board'):u===s.DELETE_SECTION?f._('Once you delete a section and all its Pins, you can\'t undo it!', ' - ', ' -- '):u===s.ARCHIVE?(0,a.nk)(f._('If you archive {{ boardName }}, we\'ll hide it from your profile and you won\'t be able to save new Pins to it. If you change your mind, you can unarchive it.', ' - ', ' -- '),{boardName:(0,l.jsx)(n.xv,{inline:!0,weight:"bold",children:d},d)}):u===s.UNARCHIVE?(0,a.nk)(f._('If you unarchive {{ boardName }}, it will show up on your profile and you\'ll be able to save new Pins to it.', ' - ', ' -- '),{boardName:(0,l.jsx)(n.xv,{inline:!0,weight:"bold",children:d},d)}):null)})}),(0,l.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",justifyContent:"center",children:[(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},"data-test-id":"confirmButtonContainer",padding:1,width:"100%",children:(0,l.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:m,size:"lg",text:(p=b,h=g,p===s.DELETE?h._('Delete', ' - ', ' -- '):p===s.LEAVE?h._('Leave board', ' - ', ' -- '):p===s.REMOVE?h._('Remove', ' - ', ' -- '):p===s.DELETE_SECTION?h._('Delete section', ' - ', ' -- '):p===s.ARCHIVE?h._('Archive', 'button label on confirming board archive', 'button label on confirming board archive'):p===s.UNARCHIVE?h._('Unarchive', 'button label on confirming board unarchive', 'button label on confirming board unarchive'):"")})}),(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"no-wrap"}},padding:1,width:"100%",children:(0,l.jsx)(n.zx,{fullWidth:!0,onClick:v,size:"lg",text:g._('Cancel', ' - ', ' -- ')})})]})]})})})}},86173:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(328038),o=r(96157);function i(e){var t=e.hasPin,r=e.pinId,i=e.boardLayout,a=e.boardUrl,l=(0,n.TH)(),s=(0,n.UO)(),c=(0,n.k6)();return function(){if(t&&(0,o.L6)(l)&&s.id===r){var e="quick_saves"===i||"quick_creates"===i?"/me/":null!=a?a:"/";c.replace(e)}}}},237040:function(e,t,r){"use strict";r.d(t,{J1:function(){return c},Uw:function(){return s},Yg:function(){return d},ib:function(){return p},jT:function(){return y},nF:function(){return b},xX:function(){return h}});var n=r(340523),o=r(5859),i=r(554786),a=r(953565),l=function(){var e=(0,o.B)(),t=e.isAuthenticated;return e.isBot?"bot":t?"auth":"unauth"},s=function(e){var t=e.isDesktop,r=e.viewerType;return"bot"===r?"seo_graphql_pin_page":"auth"===r?t?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":t?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page"},c=function(){return s({isDesktop:(0,i.HG)(),viewerType:l()})},u=function(e){var t=e.checkExperiment,r=e.isAuthMweb&&t("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return r?function(e){return(0,a.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:r}})}:null},d=function(){var e=(0,o.B)().isAuthenticated,t=(0,i.HG)();return u({checkExperiment:(0,n.F)().checkExperiment,isAuthMweb:e&&!t})},f=0,p=function(e){var t=u({checkExperiment:e.checkExperiment,isAuthMweb:e.isAuthMweb});t&&(f+=1)<10&&t("repin_".concat(f))};function h(e,t,r){var n=s({isDesktop:t,viewerType:r});switch(n){case"auth_dweb_graphql_pin_page":return e(n),{isGraphQLEnabledForRelatedPins:!1,isGraphQLEnabledInGeneral:!1,experimentName:n};case"seo_graphql_pin_page":case"unauth_dweb_graphql_pin_page":case"unauth_mweb_graphql_pin_page":return e(n),{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,experimentName:n};case"auth_mweb_graphql_pin_page":var o=e(n),i=o.anyEnabled,a=o.group;if(i)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,experimentName:n};if(a.includes("only_related_pins"))return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,experimentName:n};return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,experimentName:n};default:throw Error("Unexpected case")}}function b(){return h((0,n.F)().checkExperiment,(0,i.HG)(),l())}function y(){var e=b();return"auth_mweb_graphql_pin_page"===e.experimentName?e.isGraphQLEnabledInGeneral&&e.isGraphQLEnabledForRelatedPins?"enabled":e.isGraphQLEnabledForRelatedPins?"only_related_pins":"disabled":"auth_dweb_graphql_pin_page"===e.experimentName?"":"enabled"}},282405:function(e,t,r){"use strict";var n=r(684404),o=r(140017),i=r(819267);t.Z=function(){var e=(0,o.ZP)();return(0,i.jsxs)(n.kC,{alignItems:"center",direction:"row",gap:1,children:[(0,i.jsx)(n.JO,{accessibilityLabel:e._('Pinterest logo', 'board.editorialBoardTag.pinterestLogo', 'Accessibility label for Pinterest icon on editorial boards'),color:"error",icon:"pinterest"}),(0,i.jsx)(n.xv,{color:"error",size:"300",weight:"bold",children:e._('Featured creator', 'board.editorialBoardTag.featuredCreatorText', 'Featured creator tag for editorial boards')})]})}},437147:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(684404),o=r(951258),i=r(819267);function a(e){var t=e.children,r=e.currentCarouselIndex,a=e.onDeleteSavedState,l=e.onEditSubmit,s=e.onToggleModal,c=e.pinId,u=e.variant,d=e.viewParameter,f=e.shouldUseLegoStyles;return(0,i.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",maxHeight:"100%",paddingX:"closeup"!==u||f?void 0:2,width:"closeup"===u?"100%":void 0,children:[t&&(0,i.jsx)(n.xu,{"data-test-id":"saved-info",flex:"grow",paddingX:1,children:t}),(0,i.jsx)(n.xu,{flex:"none",marginStart:"auto",paddingX:1,children:(0,i.jsx)(o.default,{carouselSlotCurrentIndex:r,component:0,onDelete:a,onSubmit:l,onToggleModal:s,pinId:c,shouldUseLegoStyles:f,style:"pin"===u?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"},useLegoStyles:"pin"===u,viewParameter:d})})]})}},218829:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=l(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}r.d(t,{Z:function(){return d}});var s={row:0,section:0},c={row:-1,section:-1},u=function(){},d=function(){var e,t;function r(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.index=i({},s),this.sections=e,this.updateCallback=u,this.selectItem=u}return e=[{key:"getIndex",value:function(){return this.index}},{key:"isAtStart",value:function(){var e=this.index,t=e.row,r=e.section;return 0===t&&0===r}},{key:"isAtEnd",value:function(){var e=this.index,t=e.row,r=e.section,n=this.sections[r]||[];return this.sections.length===r+1&&n.length===t+1}},{key:"next",value:function(){if(!this.isAtEnd()){var e=this.index,t=e.row,r=e.section;t===c.row&&r===c.section?this.index=i({},s):this.sections[r].length>t+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}}},{key:"prev",value:function(){if(!this.isAtStart()){var e=this.index,t=e.row,r=e.section;if(t===c.row&&r===c.section)this.index=i({},s);else if(t>0)this.index.row-=1;else{var n=this.index.section-1;this.index={section:n,row:this.sections[n].length-1}}this.updateCallback(!0)}}},{key:"select",value:function(){var e=this.index,t=e.row,r=e.section;this.selectItem((this.sections[r]||[])[t])}},{key:"setInactive",value:function(){this.index=i({},c),this.updateCallback()}},{key:"setSelectItem",value:function(e){this.selectItem=e}},{key:"setUpdateCallback",value:function(e){this.updateCallback=e}},{key:"updateIndex",value:function(e){this.index=e,this.updateCallback()}}],a(r.prototype,e),t&&a(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}()},600959:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(672652),o=r(684404),i=r(42173),a=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(h,e);var t,r,n,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=d(h);if(t){var n=d(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function h(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,h),f(u(t=p.call(this,e)),"setSelectedItemRef",function(e){t.selectedItemRef=e}),f(u(t),"handleIndexUpdate",function(e){var r=t.props.indexManager;t.setState({selectedIndex:r.getIndex(),selectionMovedByKeyboard:!!e})}),f(u(t),"handleSelectItem",function(e){return function(){var r=t.props,n=r.disabled,o=r.onSelectItem;n||o(e)}}),f(u(t),"handleMouseEnter",function(e){return function(){var r=t.props,n=r.disabled,o=r.indexManager;n||o.updateIndex(e)}}),f(u(t),"handleMouseLeave",function(){var e=t.props,r=e.disabled,n=e.indexManager;r||n.setInactive()}),f(u(t),"renderItems",function(e,r){var n=t.props.renderItem,i=t.state.selectedIndex||{},l=i.row,s=i.section,c=e.customProps,u=void 0===c?{}:c,d=e.items,f=e.renderItem,p=u.isDisabled,h=r===s,b=f||n;return b&&d.map(function(e,n){var i,s=null!==(i=null==p?void 0:p(e))&&void 0!==i&&i,c=h&&n===l;return(0,a.jsx)(o.xu,{ref:!s&&c?t.setSelectedItemRef:null,"data-test-id":"board-selection",children:s?b({item:e,hovered:c,sectionProps:u}):(0,a.jsx)(o.iP,{fullWidth:!1,onMouseEnter:t.handleMouseEnter({section:r,row:n}),onMouseLeave:t.handleMouseLeave,onTap:t.handleSelectItem(e),rounding:2,children:b({item:e,hovered:c,sectionProps:u})})},n)})}),f(u(t),"renderSections",function(){var e=t.props,r=e.renderSectionHeader;return e.sections.map(function(e,n){return(0,a.jsxs)(o.xu,{children:[r&&r(e,n),t.renderItems(e,n)]},n)})});var t,r=t.props.indexManager;return t.state={selectedIndex:r.getIndex(),selectionMovedByKeyboard:!1},r.setUpdateCallback(t.handleIndexUpdate),t}return r=[{key:"componentDidUpdate",value:function(e){var t=this.containerRef;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){var r=this.selectedItemRef;if(!(r instanceof HTMLElement))return;var n=r.getBoundingClientRect(),o=n.top,i=n.bottom,a=t.getBoundingClientRect(),l=a.top;i>=a.bottom?r.scrollIntoView(!1):o<=l&&r.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}},{key:"render",value:function(){var e=this,t=this.props,r=t.grow,n=void 0!==r&&r,l=t.maxHeight,s=t.fetchMore;return(0,a.jsx)(i.Z,{fetchMore:s,children:function(t){var r=t.setRef,i=t.onScroll;return(0,a.jsx)(o.xu,{ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e.containerRef=t,r(t)}),flex:n?"grow":void 0,height:n?"100%":void 0,maxHeight:l,onScroll:i,overflow:"auto",children:e.renderSections()})}})}}],s(h.prototype,r),n&&s(h,n),Object.defineProperty(h,"prototype",{writable:!1}),h}(n.Component)},526776:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(672652),o=r(780277),i=r(684404),a=r(205841),l=r(140017),s=r(339001),c=r(340523),u=r(213503),d=r(811216),f=r(70982),p=r(784300),h=r(819267);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(e){var t=e.isSelf,r=e.showVerified,y=e.user,_=void 0===y?{}:y,m=e.onFollowChange,v=b((0,n.useState)(_.explicitly_followed_by_me||!1),2),g=v[0],x=v[1],P=b((0,n.useState)(!1),2),j=P[0],w=P[1],S=(0,o.useDispatch)(),O=(0,l.ZP)(),A=(0,c.F)().checkExperiment,C=function(){w(!1),S((0,f.fv)(_.id)),x(!1),m&&m(_,!1)},E=_.verified_identity,I=_.full_name,T=_.is_verified_merchant,D=_.is_private_profile,k=_.explicitly_followed_by_me,z=_.username,R=null==E?void 0:E.verified,B=_.image_medium_url||_.image_small_url;return(0,h.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingY:1,children:[j&&(0,h.jsx)(d.Z,{firstName:null!=I?I:"",handleUnfollowUser:C,onDismiss:function(){w(!1)}}),(0,h.jsx)(i.xu,{flex:"grow",paddingX:1,children:(0,h.jsx)(i.Tg,{href:"/".concat(z,"/"),children:(0,h.jsxs)(i.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(i.xu,{width:50,children:(0,h.jsx)(a.qE,{name:(0,s.nk)(O._('Avatar for {{ fullName }}', 'avatar.name', 'avatar for user'),{fullName:I}).join(" "),size:"fit",src:null!=B?B:""})}),(0,h.jsx)(i.xv,{weight:"bold",children:void 0!==r&&r&&(T||R)?(0,h.jsx)(p.Z,{badgeSize:"sm",badgeSpacing:2,fullName:null!=I?I:"",isVerifiedIdentity:R,isVerifiedMerchant:T}):I}),D&&A("web_update_u16_private_profile").anyEnabled&&(0,h.jsx)(i.xu,{children:(0,h.jsx)(i.JO,{accessibilityLabel:O._('private icon', 'privateProfileHeaderAuthDesktop.privateIcon', 'private icon'),color:"dark",icon:"lock",inline:!0})})]})})}),(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},paddingX:1,children:(!D||k)&&(0,h.jsx)(u.Z,{followEventType:45,id:_.id,isFollowed:g,isUserMe:!!t,onFollow:function(e){S((0,f.ZN)(e)),x(!0),m&&m(_,!0)},onUnfollow:function(){D&&A("web_update_u16_private_profile").anyEnabled?w(!0):C()},pinKey:null,textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},572345:function(e,t,r){"use strict";r.d(t,{O:function(){return c},Z:function(){return u}});var n=r(672652),o=r(684404),i=r(140017),a=r(702497),l=r(819267),s={xs:12,sm:16,md:20,lg:24};function c(e){var t=e.children,r=(0,i.ZP)();return(0,l.jsx)(o.u,{link:(0,l.jsx)(o.rU,{href:a.vBy,target:"blank",children:(0,l.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:r._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:r._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function u(e){var t=e.iconOnly,r=e.isVerifiedIdentity,a=e.isVerifiedMerchant,u=e.showText,d=e.size,f=(0,i.ZP)(),p=(0,l.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(o.JO,{accessibilityLabel:f._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[d]}),u&&(0,l.jsx)(o.xu,{marginStart:2,children:(0,l.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:f._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(n.Fragment,{children:[a&&!t&&(0,l.jsx)(c,{children:p}),a&&t&&p,r&&!a&&(0,l.jsx)(o.JO,{accessibilityLabel:f._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[d]})]})}},818385:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(672652),o=r(684404),i=r(205841),a=r(140017),l=r(184390),s=r(666472),c=r(340523),u=r(314018),d=r(575742),f=r(427514),p=r(149722),h=r(67664),b=r(739711),y=r(819267);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e){var t=e.bubble,r=e.contextLogData,_=e.disableTabIndex,m=e.handleReport,g=e.height,x=e.imgSignature,P=e.isHovered,j=e.onClick,w=e.onMouseEnter,S=e.onMouseLeave,O=e.referringSource,A=e.searchBoxRenderStopwatch,C=e.showFlag,E=e.slotIndex,I=e.storyId,T=e.viewParameter,D=e.viewType,k=e.width,z=(0,a.ZP)(),R=(0,p.Z)(),B=t.id,M=t.action,L=t.aux_fields,N=t.cover_images,Z=t.dominant_colors,F=t.identifier_icon_type,U=t.title,H=t.story_category,G=t.curator,V=(0,c.F)().checkExperiment,W=R.isAuth,q="",K="";if(W&&5===D){var Y=(q=V("blp_explore_bubble_image_size").group).split("_");Y.length>1&&q.startsWith("enabled")&&(K=Y[1])}var X=W&&V("web_deprecated_impression_tracker_standalone_discover_impression_auth").anyEnabled,$=N&&N[0]&&(q.startsWith("enabled")&&K?N[0][K]:N[0]["280x280"]||N[0]["236x"]),J=(0,f.Z)(U&&U.format||"",U&&U.args||{}),Q=Z&&Z.length?Z[0]:"gray",ee=(null==M?void 0:M.url)||(0,u.Z)({storyCategory:H,query:J,referringSource:O,bubbleId:B,storyId:I,title:U.format,pinId:null==L?void 0:L.image_pin_id});return X?(0,y.jsx)(s.F,{contextLogData:v({story_id:I},r),impressionAuxFields:{storyCategory:H,story_id:I},impressionType:"Article",loggingId:B,pinData:null,slotIndex:E,viewParameter:T,viewType:D,children:function(e){var t=e.impressionTrackerRef;return(0,y.jsx)(o.xu,{ref:t,children:(0,y.jsx)(h.Z,{backgroundColor:Q,coverImage:$,disableTabIndex:_,height:g,id:B,isHovered:P,onClick:j,onMouseEnter:w,onMouseLeave:S,searchBoxRenderStopwatch:A,url:ee,width:k,children:function(e){var t=e.isHovered;return(0,y.jsxs)(n.Fragment,{children:[G&&26!==H&&(0,y.jsx)(o.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,y.jsx)(i.qE,{name:G.full_name,outline:!0,size:"xs",src:G.image_small_url})}),F&&F!==d.J&&(0,y.jsx)(o.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,y.jsx)(o.JO,{accessibilityLabel:z._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:(0,d.Z)(F),size:12})}),(0,y.jsx)(o.xu,{alignItems:26===H?"end":"center","data-test-id":"discover-bubble",display:"flex",height:g,justifyContent:"center",padding:3,position:"absolute",top:!0,width:k||"100%",children:(0,y.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[g>200?(0,y.jsx)(o.X6,{align:"center",color:"light",size:"500",children:J}):(0,y.jsx)(o.xv,{align:"center",color:"light",weight:"bold",children:J}),G&&26===H&&(0,y.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,y.jsx)(o.xu,{marginEnd:2,children:(0,y.jsx)(i.qE,{name:G.full_name,outline:!0,size:"xs",src:G.image_small_url})}),(0,y.jsx)(o.xv,{color:"light",size:"100",children:G.full_name})]})]})}),R.isAuth&&R.isEmployee&&C?(0,y.jsx)(o.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,y.jsx)(b.Z,{handleReport:m,imgSignature:x||"",isVisible:t})}):null]})}})})}}):(0,y.jsx)(l.Z,{contextLogData:v({story_id:I},r),impressionAuxFields:{storyCategory:H,storyIdStr:I},impressionType:"Article",loggingId:B,pinData:null,slotIndex:E,viewParameter:T,viewType:D,children:(0,y.jsx)(h.Z,{backgroundColor:Q,coverImage:$,disableTabIndex:_,height:g,id:B,isHovered:P,onClick:j,onMouseEnter:w,onMouseLeave:S,searchBoxRenderStopwatch:A,url:ee,width:k,children:function(e){var t=e.isHovered;return(0,y.jsxs)(n.Fragment,{children:[G&&26!==H&&(0,y.jsx)(o.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,y.jsx)(i.qE,{name:G.full_name,outline:!0,size:"xs",src:G.image_small_url})}),F&&F!==d.J&&(0,y.jsx)(o.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,y.jsx)(o.JO,{accessibilityLabel:z._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:(0,d.Z)(F),size:12})}),(0,y.jsx)(o.xu,{alignItems:26===H?"end":"center","data-test-id":"discover-bubble",display:"flex",height:g,justifyContent:"center",padding:3,position:"absolute",top:!0,width:k||"100%",children:(0,y.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[g>200?(0,y.jsx)(o.X6,{align:"center",color:"light",size:"500",children:J}):(0,y.jsx)(o.xv,{align:"center",color:"light",weight:"bold",children:J}),G&&26===H&&(0,y.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,y.jsx)(o.xu,{marginEnd:2,children:(0,y.jsx)(i.qE,{name:G.full_name,outline:!0,size:"xs",src:G.image_small_url})}),(0,y.jsx)(o.xv,{color:"light",size:"100",children:G.full_name})]})]})}),R.isAuth&&R.isEmployee&&C?(0,y.jsx)(o.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,y.jsx)(b.Z,{handleReport:m,imgSignature:x||"",isVisible:t})}):null]})}})})}},67664:function(e,t,r){"use strict";r.d(t,{A:function(){return l},Z:function(){return s}});var n=r(672652),o=r(684404),i=r(819267);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s(e){var t,r,s,c=e.backgroundColor,u=e.children,d=e.coverImage,f=e.disableTabIndex,p=e.height,h=e.id,b=e.isHovered,y=e.onClick,_=e.onMouseDown,m=e.onMouseEnter,v=e.onMouseLeave,g=e.searchBoxRenderStopwatch,x=e.url,P=e.width,j=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=j[0],S=j[1],O=function(){m?m():S(!0)},A=function(){v?v():S(!1)},C=b||w,E=C?l.hoverOverlay:l.bubbleOverlay;return(0,i.jsx)(o.Tg,{href:x,onBlur:A,onFocus:O,onMouseDown:_,onMouseEnter:O,onMouseLeave:A,onTap:function(){null==y||y(h)},rounding:4,tabIndex:f?-1:void 0,children:(0,i.jsx)(o.zd,{height:p,rounding:4,width:P||"100%",children:null!=d&&d.url?(0,i.jsxs)(o.Ee,{alt:"",color:c,fit:"cover",naturalHeight:null!==(r=d.height)&&void 0!==r?r:1,naturalWidth:null!==(s=d.width)&&void 0!==s?s:1,onLoad:function(){null==g||g.stop()},role:"presentation",src:d.url,children:[(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:E},height:"100%",width:"100%"}),"function"==typeof u?u({isHovered:C}):u]}):(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c}},height:"100%",width:"100%"})})})}},282008:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(684404),o=r(214877),i=r(213377),a=r(184390),l=r(666472),s=r(340523),c=r(5859),u=r(984571),d=r(575742),f=r(818385),p=r(819267);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _=i.yF;function m(e){var t=e.contextLogData,r=e.bubbles,i=e.id,h=e.referringSource,b=e.slotIndex,m=e.storyType,v=e.title,g=e.titleIcon,x=e.viewType,P=e.viewParameter,j=(0,o.v)().logContextEvent,w=(0,c.B)().isAuthenticated,S=(0,s.F)().checkExperiment,O=w&&S("web_deprecated_impression_tracker_standalone_discover_impression_auth").anyEnabled,A=r.map(function(e){return e.type+":"+e.id}).join("|"),C=y(y({story_type:m},t),{},{content_ids:A});return O?(0,p.jsx)(l.F,{componentType:200,contextLogData:C,impressionType:"Story",loggingId:i,objectIdStr:i,slotIndex:b,viewParameter:P,viewType:x,children:function(e){var t=e.impressionTrackerRef;return(0,p.jsxs)(n.xu,{ref:t,children:[v&&(0,p.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:["number"==typeof g&&g!==d.J&&(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,p.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:(0,d.Z)(g),size:14})}),(0,p.jsx)(n.xv,{weight:"bold",children:(0,u.Z)(v)})]}),r.map(function(e,t){return(0,p.jsx)(n.xu,{flex:"none",paddingY:1,children:(0,p.jsx)(f.Z,{bubble:e,contextLogData:C,height:103,onClick:function(e){j({event_type:101,object_id_str:e,view_type:x,view_parameter:P,component:200,aux_data:C})},referringSource:h,slotIndex:t,storyId:i,viewParameter:P,viewType:x,width:_})},"bubble-".concat(e.id))})]})}}):(0,p.jsx)(a.Z,{componentType:200,contextLogData:C,impressionType:"Story",loggingId:i,objectIdStr:i,pinData:null,slotIndex:b,viewParameter:P,viewType:x,children:(0,p.jsxs)(n.xu,{children:[v&&(0,p.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:["number"==typeof g&&g!==d.J&&(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,p.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:(0,d.Z)(g),size:14})}),(0,p.jsx)(n.xv,{weight:"bold",children:(0,u.Z)(v)})]}),r.map(function(e,t){return(0,p.jsx)(n.xu,{flex:"none",paddingY:1,children:(0,p.jsx)(f.Z,{bubble:e,contextLogData:C,height:103,onClick:function(e){j({event_type:101,object_id_str:e,view_type:x,view_parameter:P,component:200,aux_data:C})},referringSource:h,slotIndex:t,storyId:i,viewParameter:P,viewType:x,width:_})},"bubble-".concat(e.id))})]})})}},739711:function(e,t,r){"use strict";r.d(t,{Z:function(){return z}});var n=r(672652),o=r(684404),i=r(107366),a=r(930837),l=r(454514),s=r(140017),c=r(13848),u={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}},d=r(819267);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=m(a);if(t){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(_(e=i.call.apply(i,[this].concat(r))),"state",{hovered:!1}),v(_(e),"handleMouseEnter",function(){return e.setState({hovered:!0})}),v(_(e),"handleMouseLeave",function(){return e.setState({hovered:!1})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.backgroundHaloSize,r=e.onClick,n=e.color,i=Object.freeze({height:t,width:t}),a=h({border:0,display:"block",background:"transparent",cursor:"pointer"},u.buttonFocus),l=h(h(h({},u.pog),u.transparent),this.state.hovered?u.transparentHovered:{}),s=h(h({},i),l);return(0,d.jsx)("button",{onClick:function(e){return r&&r({event:e})},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:a,type:"button",children:(0,d.jsx)("div",{style:s,children:(0,d.jsx)(o.xu,{rounding:"circle",children:(0,d.jsx)(o.JO,{accessibilityLabel:"",color:void 0===n?"subtle":n,icon:"flag",size:t/2})})})})}}],b(a.prototype,r),n&&b(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component),P=r(825784);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){T(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==j(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(u,e);var t,r,s,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=I(u);if(t){var n=I(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return E(e)}(this,e)});function u(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var e,t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return T(E(e=c.call.apply(c,[this].concat(n))),"state",{showModal:!1,reportType:null}),T(E(e),"handleDismiss",function(){return e.setState({showModal:!1})}),T(E(e),"handleClick",function(){"image"===e.state.reportType?e.reportSuggestionImage():e.reportSuggestionText()}),T(E(e),"reportSuggestionImage",(t=regeneratorRuntime.mark(function t(){var r,n,o,a,l,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=e.props).imgSignature,o=r.reportImage,e.setState({showModal:!1}),t.next=4,(0,i.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:n}});case 4:l=(a=t.sent.resource_response.data).id,s=a.node_id,o({id:l,nodeId:s});case 7:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){O(i,n,o,a,l,"next",e)}function l(e){O(i,n,o,a,l,"throw",e)}a(void 0)})})),T(E(e),"reportSuggestionText",function(){var t=e.props,r=t.handleReport,n=t.toastManagerContext;r&&(r(),n.showToast(function(t){var r=t.hideToast;return(0,d.jsx)(l.ZP,{onHide:r,text:e.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')})}),e.handleDismiss())}),T(E(e),"showModal",function(t){var r=t.event;r.stopPropagation(),r.preventDefault(),e.setState({showModal:!0})}),e}return r=[{key:"render",value:function(){var e=this,t=this.state.showModal;return(0,d.jsxs)(n.Fragment,{children:[this.props.isVisible&&(0,d.jsx)(x,{backgroundHaloSize:24,onClick:this.showModal}),t&&(0,d.jsx)(a.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,d.jsxs)(o.xu,{children:[(0,d.jsx)(o.xu,{padding:5,children:(0,d.jsx)(o.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,d.jsxs)(o.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,d.jsxs)(o.xu,{direction:"column",display:"flex",marginBottom:4,paddingX:5,role:"list",children:[(0,d.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,d.jsx)(o.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:function(){return e.setState({reportType:"text"})},value:"Report search text"}),(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.__,{htmlFor:"textType",children:(0,d.jsx)(o.xu,{paddingX:2,children:(0,d.jsx)(o.xv,{children:"Report search text"})})})})]}),(0,d.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,d.jsx)(o.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:function(){return e.setState({reportType:"image"})},value:"Report search image"}),(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.__,{htmlFor:"imageType",children:(0,d.jsx)(o.xu,{paddingX:2,children:(0,d.jsx)(o.xv,{children:"Report search image"})})})})]})]}),(0,d.jsx)(o.iz,{}),(0,d.jsxs)(o.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,d.jsx)(o.xu,{margin:2,children:(0,d.jsx)(o.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,d.jsx)(o.xu,{margin:2,children:(0,d.jsx)(o.zx,{color:"red",disabled:!this.state.reportType,fullWidth:!0,onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion')})})]})]})]})})]})}}],A(u.prototype,r),s&&A(u,s),Object.defineProperty(u,"prototype",{writable:!1}),u}(n.PureComponent);function z(e){var t=(0,s.ZP)(),r=(0,P.f)().reportImage;return(0,d.jsx)(k,S(S({},e),{},{i18n:t,reportImage:r,toastManagerContext:(0,c.F9)()}))}},766323:function(e,t,r){"use strict";r.d(t,{b:function(){return y},v:function(){return _}});var n=r(672652),o=r(328038),i=r(342513),a=r(340523),l=r(782005),s=r(624797),c=r(554786),u=r(819267);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=(0,i.Z)("Search"),b=h.Provider,y=h.useHook,_=function(e){var t,r,i,d,f,h,y,_,m,v,g,x,P,j,w,S,O,A,C,E,I,T,D,k,z,R=e.children,B=e.value,M=(t=(0,a.F)().checkExperiment,r=(0,o.TH)().search,i=(0,o.UO)().scope,d=(0,c.HG)(),h=(f=(0,s.mB)(r)).auto_correction_disabled,y=f.b_id,_=f.brands,m=f.category,v=f.colors,x=void 0===(g=f.commerce_only)?"":g,P=f.cover_pin_sig,j=f.deb_d,w=f.domains,S=f.filters,O=f.guided_search_query,A=f.interest_id,C=f.price_max,E=f.price_min,I=f.q,T=f.query_pin_sigs,D=f.rs,k=f.tab,z=f.user,t("web_hundred_percent_product_load",{dangerouslySkipActivation:!0}).anyEnabled&&(i="true"===x.toLowerCase()?l.lw.PINS_BUYABLE:i),{autoCorrectionDisabled:"true"===(void 0===h?"":h).toLowerCase(),brands:_,bubbleId:y,category:m,colors:v,commerceOnly:"true"===x.toLowerCase(),coverPinSig:P,currentlyAppliedFiltersParamTerm:S,debD:j,domains:w,guidedSearchQuery:O,interestId:A,personalizationPinSig:T,placementId:(0,l.Hd)(i,d),priceMax:C,priceMin:E,query:I,rs:D,scope:i,tab:k||"",user:z}),L=(0,n.useMemo)(function(){return p(p({},M),B)},[M,B]);return(0,u.jsx)(b,{value:L,children:R})}},509603:function(e,t,r){"use strict";var n=r(401429),o=r(36938),i=r(340523),a=r(85237),l=r(819267),s=[503259,500410,500688],c=function(e){var t=e.placementId,r=(0,a.Z)();return(0,l.jsx)(n.Z,{eligibleIds:s,placementId:t,children:function(e){return r("control",e.complete,e.dismiss),null}})};t.Z=function(e){var t=e.placementId;return(0,(0,i.F)().checkExperiment)(o.C7).anyEnabled?null:(0,l.jsx)(c,{placementId:t})}},115429:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(672652),o=r(13848),i=r(214877),a=r(401429),l=r(454514),s=r(819267),c=function(e){var t=(0,i.v)().logContextEvent;return(0,s.jsx)(a.Z,{eligibleIds:e.eligibleIds,eligibleTypes:[10],placementId:e.placementId,children:function(r){var n=r.complete,o=r.dismiss,i=r.experience.display_data,a=i.link||e.linkUrl,c=function(){e.shouldLogClicks&&t({event_type:101,object_id_str:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})};return(0,s.jsx)(l.ZP,{duration:i.duration,href:a,onClick:function(){n(),e.onClick&&e.onClick(),e.shouldLogClicks&&c()},onHide:function(){e.onHide(),e.completionOnDismissal?n():o()},text:i.text||""})}})};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=y(i);if(t){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(b(e=o.call.apply(o,[this].concat(r))),"componentDidMount",function(){var t=e.props.delay,r=void 0===t?2e3:t;e.experienceToastsTimeout=window.setTimeout(function(){return e.triggerEducationToasts()},r)}),e}return r=[{key:"componentWillUnmount",value:function(){window.clearTimeout(this.experienceToastsTimeout)}},{key:"triggerEducationToasts",value:function(){var e=this.props,t=e.toastManagerContext,r=e.completionOnDismissal,n=e.placementId,o=e.experienceIds;t.showOneToast(function(e){var t=e.hideToast;return(0,s.jsx)(c,{completionOnDismissal:r,experienceIds:o,onHide:t,placementId:n,shouldLogClicks:!1})})}},{key:"render",value:function(){return null}}],p(i.prototype,r),n&&p(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function g(e){return(0,s.jsx)(v,f(f({},e),{},{toastManagerContext:(0,o.F9)()}))}_(v,"defaultProps",{completionOnDismissal:!1})},702499:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(672652),o=r(780277),i=r(25919),a=r(401429),l=r(819267);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=f(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=[502321,502322],y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=h(i);if(t){var n=h(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.experience,r=e.completeExperience;t&&b.includes(t.experience_id)&&r(t.placement_id,t.experience_id,!0)}},{key:"render",value:function(){return(0,l.jsx)(a.Z,{eligibleIds:b,experience:this.props.experience,children:(0,l.jsx)("span",{})})}}],d(i.prototype,r),n&&d(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function _(e){var t=(0,o.useDispatch)(),r=(0,i.be)();return(0,l.jsx)(y,u(u({},e),{},{completeExperience:function(e,n,o){return t(r(e,n,o))}}))}},191572:function(e,t,r){"use strict";var n=r(401429),o=r(547130),i=r(819267);t.Z=function(e){var t=e.anchors,r=e.experience,a=e.idealDirection,l=e.onCompleteByAnchor,s=void 0===l?{}:l,c=e.placementId,u=e.positionRelativeToAnchor,d=e.touchToDismiss,f=e.useMasonryFlyout;return(0,i.jsx)(n.Z,{experience:r,placementId:c,predicate:function(e){var r=e.display_data,n=e.placement_id;if((null==r?void 0:r.component_type)===2){var o=r.anchors_by_platform;if(null!=o&&o.web_mobile){var i=o.web_mobile,a=i.anchor;return i.placement===n&&a in t}}return!1},children:function(e){var r=e.complete,n=e.dismiss,l=e.experience;return(0,i.jsx)(o.Z,{anchors:t,complete:function(){return r(1)},dismiss:n,displayData:l.display_data,idealDirection:a,onCompleteByAnchor:s,platform:"web_mobile",positionRelativeToAnchor:u,touchToDismiss:d,useMasonryFlyout:f})}})}},734513:function(e,t,r){"use strict";r.d(t,{Z:function(){return s},b:function(){return c}});var n=r(672652),o=(0,n.createContext)({inboxButton:null,setInboxButton:function(){},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:function(){},isUnblockToast:!1,setIsUnblockToast:function(){},setGroupBoardMessageButton:function(){}}),i=r(819267);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e){var t=e.children,r=a((0,n.useState)(null),2),l=r[0],s=r[1],c=a((0,n.useState)(null),2),u=c[0],d=c[1],f=a((0,n.useState)(!1),2),p=f[0],h=f[1],b=a((0,n.useState)(null),2),y=b[0],_=b[1],m=(0,n.useMemo)(function(){return{inboxButton:l,setInboxButton:s,profileInboxButton:u,groupBoardMessageButton:y,setProfileInboxButton:d,isUnblockToast:p,setIsUnblockToast:h,setGroupBoardMessageButton:_}},[l,u,p,y]);return(0,i.jsx)(o.Provider,{value:m,children:t})}function c(){var e=(0,n.useContext)(o);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},407053:function(e,t,r){"use strict";r.d(t,{AA:function(){return i},E9:function(){return _},EU:function(){return g},IO:function(){return v},KH:function(){return u},Lg:function(){return p},QR:function(){return c},Uw:function(){return o},ZR:function(){return x},dx:function(){return h},dy:function(){return s},eA:function(){return f},eV:function(){return b},fo:function(){return y},k7:function(){return a},rT:function(){return m},tz:function(){return d},u9:function(){return P},zR:function(){return l},zu:function(){return n}});var n="OPEN_UNAUTH",o="openUnauthType",i="_isAfterLogin",a="_lastVisitedPages",l="_lastVisitedPagesBeforeLogin",s="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",u="_lastVisitedSessionPages",d="_unauthVisitedPages",f=20,p="_inviteCodeRedemption",h="_inviteCodeRedemptionList",b="_paidTrafficLand",y="_unauthReferrerString",_="unauthTopicsFollowed",m=["US","CA","NZ","AU"],v=new Set(["GB","IE"]),g=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),x=new Set(["BR","MX","AR","CL","CO","PE"]),P="ad_img"},851420:function(e,t,r){"use strict";r.d(t,{I:function(){return n},y:function(){return o}});var n="uploaded",o="pinbuilder"},730786:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){var o;return(o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(o)?o:String(o))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){if(!e)return e;var t=e.replace(/%26/gi,"&");return(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/%3F/gi,"?")).replace(/%23/gi,"#")).replace(/%2B/gi,"+")).replace(/%3B/gi,";")).replace(/%2C/gi,",")).replace(/%2F/gi,"/")).replace(/%3A/gi,":")).replace(/%40/gi,"@")).replace(/%3D/gi,"=")).replace(/%24/gi,"$")}function s(e){return Object.keys(e).reduce(function(t,r){var n;return i(i({},t),{},a({},r,l(null!==(n=e[r])&&void 0!==n?n:"")))},{})}r.d(t,{Z:function(){return s},t:function(){return l}})},344278:function(e,t,r){"use strict";r.d(t,{CC:function(){return s},H$:function(){return u},Mt:function(){return a},dp:function(){return c},p9:function(){return d}});var n=r(191313),o=r(573810),i=r(407053),a=function(e,t,r,o,a,l){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:i.k7,c=(0,n.qn)(s)?JSON.parse((0,n.qn)(s)):[];if(!c[0]||c[0].path!==e){var u=[{path:e,ts:Date.now(),pin_id:r||0,first_pin_image_signature:t||"",first_pin_id:r||"",image_info:o||"",pin_description:a||"",is_shared:!!l,pin_invite_code:l}];(0,n.Nh)(s,JSON.stringify(u.concat(c)))}},l=function(){var e,t=(0,o.qn)(i.KH);if(!t)return[];try{e=JSON.parse(t)}catch(t){e=[]}return e},s=function(e){var t=e.path,r=e.image,n=e.dominant_color,a=e.pin_description,s=e.pin_id,c=l();c[0]&&c[0].path===t||(0,o.Nh)(i.KH,JSON.stringify([{path:t,image:r,pin_description:a||"",dominant_color:n||"",pin_id:s||""}].concat(c)))};function c(e,t,r,n,o,l){a(e,t,r,n,o,l,i.zR)}var u=function(e,t,r,n,o){a(e,t,r,n,null!=o?o:"","",i.dy)};function d(e,t,r,n,o){a(e,t,r,n,o,"",i.QR)}},739382:function(e,t,r){"use strict";r.d(t,{Bb:function(){return y},Bx:function(){return s},F4:function(){return l},OG:function(){return i},Qj:function(){return c},_6:function(){return b},gv:function(){return a},hg:function(){return u},is:function(){return p},jP:function(){return h},lt:function(){return o},oM:function(){return d},wI:function(){return f}});var n=r(624797),o=function(e){return e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal')},i=function(e){return e.pathname},a=function(e){var t=e.firstName,r=e.i18n;return t?(r._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",t):r._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board')},l=function(e){var t=(0,n.mB)(e.search).board_url;if(t){var r=(0,n.Jx)(t),o=(0,n.XP)({accept_invite:!0,seamless:!0});return r.includes("?")?"".concat(r,"&").concat(o):"".concat(r,"?").concat(o)}return e.pathname},s=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},c=function(e){var t=e.pathname;if(t.startsWith("/pin/")){var r=t.split("/");if(r.length>2)return"/".concat(r[1],"/").concat(r[2],"/repin/")}return t},u=function(e){return e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.')},d=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},f=function(e){var t=e.pathname;if(t.startsWith("/pin/")){var r=t.split("/");if(r.length>2)return"/".concat(r[1],"/").concat(r[2],"/edit/")}return t},p=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},h=function(e){return e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.')},b=function(e){return e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.')},y=function(e){return e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')}},94882:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(184200),o=r(381),i=r(161187),a=r(623891),l=r(766323);function s(){var e=(0,l.b)(),t=e.brands,r=e.colors,s=e.domains,c=e.priceMax,u=e.priceMin,d=(0,o.M)(),f=(0,n.b)().productFilters,p=Number((0,a.Z)().filter_location);if(1===p){var h=(d||{}).filterState;return h?(0,i.Ax)(h.appliedFilters,h.models):null}return 0===p?(0,i.vJ)({brandsParam:t,colorsParam:r,domainsParam:s,priceMaxParam:c,priceMinParam:u,unifiedFilterModels:f}):null}},646473:function(e,t,r){"use strict";r.d(t,{Z:function(){return x},d:function(){return g}});var n=r(672652),o=r(328038),i=r(61932),a=r(207229),l=r(213377),s=r(340523),c=r(5859),u=r(995917),d=r(660980),f=r(203381),p=r(414630),h=r(782005),b=r(554786),y=r(760101),_=r(766323),m=r(136359),v=r(94882),g=function(e){return e?{page_size:"14"}:{page_size:"25"}};function x(){var e=(0,_.b)(),t=e.autoCorrectionDisabled,r=e.bubbleId,x=e.category,P=e.currentlyAppliedFiltersParamTerm,j=e.domains,w=e.guidedSearchQuery,S=e.inGlobalSearch,O=e.personalizationPinSig,A=e.priceMax,C=e.priceMin,E=e.query,I=e.rs,T=e.scope,D=e.user,k=(0,s.F)().checkExperiment,z=(0,c.B)().isAuthenticated,R=(0,o.TH)().search,B=(0,m.t)(),M=(0,b.HG)(),L=!z||!M,N=(0,y.Z)(),Z=(0,v.Z)(),F=null!==(Q=(0,a.Z)())&&void 0!==Q?Q:{},U=F.width,H=void 0===U?0:U,G=F.height,V=void 0===G?0:G,W=M&&T===h.lw.PINS?k("dweb_search_first_page_size_optimization"):{},q=W.group,K=void 0===q?"":q,Y=W.anyEnabled,X=(0,n.useMemo)(function(){if(Y&&0!==H&&0!==V){var e=Math.floor(H/(l.yF+l.oX)),t=Number(K.split("_")[1]);return e*Math.ceil((V-B-(i.Lu+i.uS))/t)}},[Y,K,B,V,H]),$=L;L&&($=!!z&&!k("unify_search_resource_auth_mweb").anyEnabled);var J=null;if(!M&&N&&(J=g(z)),S)ee=(0,p.Ht)({autoCorrectionDisabled:t,filters:P,selectedPinImgSig:O,query:E,scope:T});else{var Q,ee,et,er,en,eo={autoCorrectionDisabled:t,bubbleId:r,filters:P,guidedSearchQuery:w,selectedPinImgSig:O,query:E,rs:I,scope:T,user:D};Z&&(eo.appliedFilters=Z),eo.appliedProductFilters=(0,d.Z)({category:x,domains:j,maxPrice:A,minPrice:C}),L&&(eo.domains=j,eo.priceMin=null!==(et=parseInt(C,10))&&void 0!==et?et:void 0,eo.priceMax=null!==(er=parseInt(A,10))&&void 0!==er?er:void 0,eo.pageSize=null===(en=J)||void 0===en?void 0:en.page_size,eo.topPinId=(0,f.Z)(R,T)),X&&(eo.firstPageSize=X.toString()),ee=(0,p.Ht)(eo)}var ei=T===h.lw.USERS&&!L||$;return(0,u.Z)(ei?null:ee)}},718738:function(e,t,r){"use strict";r.d(t,{C0:function(){return l},ZP:function(){return u},ZU:function(){return s},a0:function(){return c}});var n=r(684404),o=r(140017),i=r(996523),a=r(819267),l=["DMCA","Trademark","GDPR"],s=new Date(2024,0,1),c={test:{LAW:"test",DECIDER_KEY:"legal_webapp_takedown_form_test",COUNTRY_CODES:["US"],API:"/v3/legal/takedowns/test/",COMPLAINTS_OFFICE:!0,TRUSTED_FLAGGER:!1,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1},netzdg:{LAW:"netzdg",DECIDER_KEY:"legal_webapp_takedown_form_netzdg",COUNTRY_CODES:["DE"],API:"/v3/legal/takedowns/netzdg/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},turkey:{LAW:"turkey",DECIDER_KEY:"legal_webapp_takedown_form_turkey",COUNTRY_CODES:["TR"],API:"/v3/legal/takedowns/turkey/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},koplg:{LAW:"koplg",DECIDER_KEY:"legal_webapp_takedown_form_koplg",COUNTRY_CODES:["AT"],API:"/v3/legal/takedowns/koplg/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},loi_fr:{LAW:"loi_fr",DECIDER_KEY:"legal_webapp_takedown_form_fr",COUNTRY_CODES:["FR"],API:"/v3/legal/takedowns/fr_dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},dsa:{LAW:"dsa",DECIDER_KEY:"legal_webapp_takedown_form_dsa",EXPERIMENT_KEY:"legal_web_dsa_form",COUNTRY_CODES:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"],API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0,TRUSTED_FLAGGER:!0},india:{LAW:"india",DECIDER_KEY:"legal_webapp_takedown_form_india",COUNTRY_CODES:["IN"],API:"/v3/legal/takedowns/india/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0,TRUSTED_FLAGGER:!1}};function u(e,t){var r=(0,o.ZP)(),l={test:{header:"Test Header",subHeader:"Test SubHeader",laws:[{name:"Test Law A",label:"Test Law A"},{name:"Test Law B",label:"Test Law B"}]},netzdg:{header:r._('NetzDG Complaint Form', 'Takedown.NetzDG.FormTitle', 'The title of the form'),subHeader:r._('Use this form to identify content that violates German laws that are subject to the Netzwerkdurchsetzungsgesetz (NetzDG). Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'Takedown.NetzDG.FormDescription', 'Provides a description of what the form is used for'),laws:[{name:"Dissemination of propaganda material of unconstitutional organizations (Section 86 StGB)",label:r._('Dissemination of propaganda material of unconstitutional organizations (Section 86 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Using symbols of unconstitutional organizations (Section 86a StGB)",label:r._('Using symbols of unconstitutional organizations (Section 86a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Preparation of a serious violent offense endangering the state (Section 89a StGB)",label:r._('Preparation of a serious violent offense endangering the state (Section 89a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Encouraging the commission of a serious violent offense endangering the state (Section 91 StGB)",label:r._('Encouraging the commission of a serious violent offense endangering the state (Section 91 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Treasonous forgery (Section 100a StGB)",label:r._('Treasonous forgery (Section 100a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Public incitement to crime (Section 111 StGB)",label:r._('Public incitement to crime (Section 111 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Breach of the public peace by threatening to commit offenses (Section 126 StGB)",label:r._('Breach of the public peace by threatening to commit offenses (Section 126 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Forming criminal organizations (Section 129 StGB)",label:r._('Forming criminal organizations (Section 129 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Forming terrorist organizations (Section 129a StGB)",label:r._('Forming terrorist organizations (Section 129a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Criminal and terrorist organizations abroad; extended confiscation and deprivation (Section 129b StGB)",label:r._('Criminal and terrorist organizations abroad; extended confiscation and deprivation (Section 129b StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Incitement to hatred (Section 130 StGB)",label:r._('Incitement to hatred (Section 130 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Dissemination of depictions of violence (Section 131 StGB)",label:r._('Dissemination of depictions of violence (Section 131 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Rewarding and approving of criminal offenses (Section 140 StGB)",label:r._('Rewarding and approving of criminal offenses (Section 140 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Insulting denominations, religious communities and ideological associations (Paragraph 166 StGB)",label:r._('Insulting denominations, religious communities and ideological associations (Paragraph 166 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Making available child pornography by broadcasting, media services, or telecommunication services (Section 184b/184d StGB)",label:r._('Making available child pornography by broadcasting, media services, or telecommunication services (Section 184b/184d StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Insult (Section 185 StGB)",label:r._('Insult (Section 185 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Defamation (Section 186 StGB)",label:r._('Defamation (Section 186 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Intentional Defamation (Section 187 StGB)",label:r._('Intentional Defamation (Section 187 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Denigration of the memory of the deceased (Paragraph 189 StGB)",label:r._('Denigration of the memory of the deceased (Paragraph 189 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Violation of intimate privacy by taking photographs (Section 201a StGB)",label:r._('Violation of intimate privacy by taking photographs (Section 201a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Threatening the commission of a felony (Section 241 StGB)",label:r._('Threatening the commission of a felony (Section 241 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Forgery of data intended to provide proof (Section 269 StGB)",label:r._('Forgery of data intended to provide proof (Section 269 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')}]},turkey:{header:(0,a.jsx)(n.xu,{"data-test-id":"turkish-law-complaint-header",children:r._('Turkish Internet Law Complaint Form', 'Takedown.Turkey.FormSubHeader', 'The title of the form')}),subHeader:r._('Use this form to identify content that violates Turkish laws that are subject to the Turkish Internet Law. Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'Takedown.Turkey.FormSubheader', 'The sub-title of the form'),laws:[{label:r._('Personal rights violation', 'Takedown.Turkey.Law.Personal', 'These are laws which a user can report a pin for takedown'),name:"Personal rights violation"},{label:r._('Privacy rights violation', 'Takedown.Turkey.Law.Privacy', 'These are laws which a user can report a pin for takedown'),name:"Privacy rights violation"}]},koplg:{header:(0,a.jsx)(n.xu,{"data-test-id":"koplg-header",children:r._('Austria KoPl-G Form', 'AustriaKoPl-G.FormTitle', 'The title of the form')}),subHeader:r._('Use this form to identify content that violates Austrian laws that are subject to the Kommunikationsplattformen-Gesetz (KoPl-G). Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'AustriaKoPl-G.FormDescription', 'Provides a description of what the form is used for'),laws:[{label:"N\xf6tigung",name:"N\xf6tigung"},{label:"Gef\xe4hrliche Drohung",name:"Gef\xe4hrliche Drohung"},{label:"Beharrliche Verfolgung",name:"Beharrliche Verfolgung"},{label:"Fortdauernde Bel\xe4stigung im Wege einer Telekommunikation",name:"Fortdauernde Bel\xe4stigung im Wege einer Telekommunikation"},{label:"Vorwurf einer schon abgetanen gerichtlich strafbaren Handlung",name:"Vorwurf einer schon abgetanen gerichtlich strafbaren Handlung"},{label:"Beleidigung",name:"Beleidigung"},{label:"Unbefugte Bildaufnahmen",name:"Unbefugte Bildaufnahmen"},{label:"Erpressung",name:"Erpressung"},{label:"Herabw\xfcrdigung religi\xf6ser Lehren",name:"Herabw\xfcrdigung religi\xf6ser Lehren"},{label:"Pornographische Darstellungen Minderj\xe4hriger",name:"Pornographische Darstellungen Minderj\xe4hriger"},{label:"Anbahnung von Sexualkontakten zu Unm\xfcndigen",name:"Anbahnung von Sexualkontakten zu Unm\xfcndigen"},{label:"Terroristische Vereinigung",name:"Terroristische Vereinigung"},{label:"Anleitung zur Begehung einer terroristischen Straftat",name:"Anleitung zur Begehung einer terroristischen Straftat"},{label:"Anleitung zu terroristischen Straftaten und Guthei\xdfung terroristischer Straftaten",name:"Anleitung zu terroristischen Straftaten und Guthei\xdfung terroristischer Straftaten"},{label:"Verhetzung",name:"Verhetzung"},{label:"Nazionalsozialistische Propaganga",name:"Nazionalsozialistische Propaganga"}]},loi_fr:{header:r._('Bill confirming respect for the principles of the Republic Form', 'French_DSA.FormTitle', 'The title of the form'),subHeader:r._('Use this form to identify content that violates French laws that are subject to the bill confirming respect for the principles of the Republic. Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'French_DSA.FormDescription', 'Provides a description of what the form is used for'),laws:[{name:"Apology of/sympathy to crimes",label:r._('Apology of/sympathy to crimes', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Provocation to discrimination, hatred or violence on the ground of origin, ethnic group, nation, race or religion, or sex, sexual orientation or gender identity or their disability",label:r._('Provocation to discrimination, hatred or violence on the ground of origin, ethnic group, nation, race or religion, or sex, sexual orientation or gender identity or their disability', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Challenging the existence of crimes against humanity, denial, minimization or trivialization of crimes of genocide, crimes of enslavement or war crimes",label:r._('Challenging the existence of crimes against humanity, denial, minimization or trivialization of crimes of genocide, crimes of enslavement or war crimes', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Sexual harassment",label:r._('Sexual harassment', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Child pornography",label:r._('Child pornography', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Human trafficking",label:r._('Human trafficking', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Procuring/pimping",label:r._('Procuring/pimping', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Direct provocation or public apology for acts of terrorism",label:r._('Direct provocation or public apology for acts of terrorism', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Insult based on origin, ethnic group, nation, race or religion",label:r._('Insult based on origin, ethnic group, nation, race or religion', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Insult based on gender, sexual orientation, gender identify or disability",label:r._('Insult based on gender, sexual orientation, gender identify or disability', 'French_DSA.Law', 'A French law which a user can report content for takedown')}]},dsa:{header:r._('European Union Illegal Content Reporting Form', 'DSA.FormTitle', 'The title of the form'),subHeader:r._('Use this form to report content you believe to be illegal in the European Union. Please fill out the form with as much detail as possible to allow us to efficiently evaluate your report.', 'DSA.FormDescription', 'The sub-title of the form'),laws:[{name:"Promoting or condoning terrorist acts",label:r._('Promoting or condoning terrorist acts', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Incitement to or apology of terrorist acts', 'DSA.Law', 'Example of this law')},{name:"Threatening commission of or condoning serious criminal offense",label:r._('Threatening commission of or condoning serious criminal offense', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Threats to commit serious criminal offense against individuals or their condemnation', 'DSA.Law', 'Example of this law')},{name:"Child sexual abuse material (CSAM)",label:r._('Child sexual abuse material (CSAM)', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Dissemination or\xA0 procurement of child pornographic content', 'DSA.Law', 'Example of this law')},{name:"Hate speech, hateful acts and discrimination",label:r._('Hate speech, hateful acts and discrimination', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Incitement to hatred, violence or discrimination against protected and vulnerable groups', 'DSA.Law', 'Example of this law')},{name:"Graphic Violence",label:r._('Graphic Violence', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Gore/graphic wounds and mutilation, beatings, excessive blood, corpses', 'DSA.Law', 'Example of this law')},{name:"Denying or condoning crimes against humanity",label:r._('Denying or condoning crimes against humanity', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Denial of genocides, war crimes and other crimes against humanity', 'DSA.Law', 'Example of this law')},{name:"Illegal goods and services",label:r._('Illegal goods and services', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Illegal sale of drugs, live animals or the illegal offer of services', 'DSA.Law', 'Example of this law')},{name:"Harassment",label:r._('Harassment', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Online stalking or sexual harassment', 'DSA.Law', 'Example of this law')},{name:"Harmful to minors",label:r._('Harmful to minors', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Incitement of minors to engage in actions which put them in physical danger or to intentionally harm themselves', 'DSA.Law', 'Example of this law')},{name:"Nudity or pornography",label:r._('Nudity or pornography', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Dissemination of pornographic content', 'DSA.Law', 'Example of this law')},{name:"Disinformation",label:r._('Disinformation', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Deliberate disinformation of individuals or groups of people', 'DSA.Law', 'Example of this law')},{name:"Affront to personal honor",label:r._('Affront to personal honor', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Insults or defamation', 'DSA.Law', 'Example of this law')},{name:"Violation of privacy",label:r._('Violation of privacy', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('E.g., Non-consensual sharing of private images', 'DSA.Law', 'Example of this law')},{name:"DMCA",label:r._('Copyright infringement', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:(0,a.jsxs)(n.xv,{color:"warning",inline:!0,size:"100",children:[" ",r._('Fill out the ', 'Dsa.Law.DMCA', 'Subtext for filling out the DMCA form'),(0,a.jsxs)(n.rU,{display:"inline",href:"https://www.pinterest.com/about/copyright/dmca-pin/",underline:"always",children:[" ",r._('Copyright Complaint form here', 'DSA.Law', 'Hyperlink to copyright form')]})]})},{name:"Trademark",label:r._('Trademark infringement', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:(0,a.jsxs)(n.xv,{color:"warning",inline:!0,size:"100",children:[" ",r._('Fill out the ', 'Dsa.Law.Trademark', 'Subtext for filling out the trademark form'),(0,a.jsxs)(n.rU,{display:"inline",href:"https://www.pinterest.com/about/trademark/",underline:"always",children:[" ",r._('Trademark Complaint form here', 'DSA.Law', 'Hyperlink to trademark form')]})]})},{name:"GDPR",label:r._('Contains my personal data', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:(0,a.jsxs)(n.xv,{color:"warning",inline:!0,size:"100",children:[" ",r._('You can delete your data by going to your settings or by contacting ', 'Dsa.Law.GDPR', 'Subtext for removing your personal data'),(0,a.jsxs)(n.rU,{display:"inline",href:"mailto:privacy-support@pinterest.com",underline:"always",children:[" ",r._('privacy-support@pinterest.com', 'DSA.Law', 'Hyperlink to privacy support email')]})]})},{name:"Other illegal behavior",label:r._('Other illegal behavior', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:r._('Report behavior that does not match the above categories here', 'DSA.Law', 'Example of this law')}]},india:{header:r._('India Grievance Form', 'India.FormTitle', 'The title of the form'),subHeader:r._('Use this form to submit grievances or complaints regarding content on Pinterest\u2019s services or compliance with the India IT Rules, 2021.', 'India.FormDescription', 'The sub-title of the form'),laws:[{name:"Adult Content",label:r._('Adult Content', 'India.Law', 'A law which a user can report content for takedown'),subtext:r._('e.g. nudity, sexual acts or conduct, etc.', 'India.Law', 'Example of this law')},{name:"Impersonation",label:r._('Impersonation', 'India.Law', 'A law which a user can report content for takedown')},{name:"DMCA",label:r._('Copyright Infringement', 'India.Law', 'A law which a user can report content for takedown'),subtext:(0,a.jsxs)(n.xv,{color:"warning",inline:!0,size:"100",children:[" ",r._('Fill out the ', 'Dsa.Law.DMCA', 'Subtext for filling out the DMCA form'),(0,a.jsxs)(n.rU,{display:"inline",href:"https://www.pinterest.com/about/copyright/dmca-pin/",underline:"always",children:[" ",r._('Copyright Complaint form here', 'DSA.Law', 'Hyperlink to copyright form')]})]})},{name:"Trademark",label:r._('Trademark Infringement', 'India.Law', 'An India law which a user can report content for takedown'),subtext:(0,a.jsxs)(n.xv,{color:"warning",inline:!0,size:"100",children:[" ",r._('Fill out the ', 'Dsa.Law.Trademark', 'Subtext for filling out the trademark form'),(0,a.jsxs)(n.rU,{display:"inline",href:"https://www.pinterest.com/about/trademark/",underline:"always",children:[" ",r._('Trademark Complaint form here', 'DSA.Law', 'Hyperlink to trademark form')]})]})},{name:"Other illegal behavior",label:r._('Other', 'India.Law', 'A law which a user can report content for takedown'),subtext:r._('e.g. violates Indian Law, etc', 'India.Law', 'Example of this law')}]}},s={header:r._('Complaint Information', 'AustriaKoPl-G.ComplaintInformation.Header', 'Complaint Information header'),reportedUrl:r._('Identify the URL of the content', 'AustriaKoPl-G.ContentUrlField', 'The url of the content the user wants to report'),dsaReportedUrl:r._('What is the URL of the content you want to report?', 'Dsa.ContentUrlField', 'The url of the content the user wants to report for DSA'),reportedUrlHelperText:r._('Please provide the full URL of the content you are complaining about. Please limit your complaint to 1 URL per form submission.', 'AustriaKoPl-G.ComplaintInformation.ContentUrl.HelperText', 'Complaint Information url field helper text'),contentPortionHeader:r._('What portion(s) of the content are you reporting?', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaContentPortionHeader:r._('What portion of the content are you reporting?', 'DSA.ContentReporting.Header', 'Header describing which part of the content the user is reporting for DSA'),lawsViolatedLabel:r._('Which law(s) do you believe the content violates?', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaLawsViolatedLabel:r._('Why do you think this content is illegal under local law?', 'DSA.ContentReporting.Header', 'Header describing which part of the content the user is reporting for DSA'),dsaLawsViolatedSubtext:r._('Please carefully consider the option you select, so we can address your report as efficiently as possible.', 'DSA.ContentReporting.Subtext', 'Subtext asking to carefully choose the law being violated for DSA'),otherLabel:r._('Enter other portion of content', 'AustriaKoPl-G.ContentPortion.OtherValue', 'Field to describe other portion of the pin they are reporting'),dsaOtherLabel:r._('Please describe what other portion of the content you are reporting', 'DSA.ContentPortion.OtherValue', 'Field to describe other portion of the content they are reporting for DSA'),additionalInformationLabel:r._('Additional information on illegality of content (Optional)', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),additionalInformationPlaceholder:r._('250 character limit...', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaAdditionalInformationLabel:r._('Please provide additional information about why you think the content is illegal. You may cite or link to relevant statutes, if you like. (Optional)', 'DSA.ContentReporting.Header', 'Label for the additional details textbox of the DSA form'),dsaAdditionalInformationPlaceholder:r._('Provide additional details here', 'DSA.ContentReporting.Placeholder', 'Placeholder for the additional details textbox of the DSA form'),countryHeader:r._('Under what country\u2019s laws do you believe this content is illegal?', 'DSA.Country.Header', 'Header describing the country in which the content is illegal'),otherViolationLabel:r._('Report behavior that does not match the above categories here', 'DSA.OtherViolation.Field', 'Field to describe other violation reason of the reported content'),attachmentLabel:r._('If you have additional documents that could help us understand your report (e.g., court order), you can attach it here. Please upload PDFs only, with a maximum file size of 5 MB.', 'DSA.OtherViolation.Field', 'Field for uplodaing attachments'),moduleCollapseLabel:r._('Collapse the module', 'DSA.CollapseModule', 'Text for collapsing items module'),moduleExpandLabel:r._('Expand the module', 'DSA.ExpandModule', 'Text for expanding items module'),noCountryResultText:r._('No countries found', 'DSA.NoCountries', 'Text for country combo box no countries found error'),clearButtonLabel:r._('Clear search field', 'DSA.ClearInput', 'Accessibility text for clearing combobox field'),invalidUrlText:r._('Invalid URL', 'DSA.Invalid Url', 'Accessibility text for invalid pinterest urls'),selectedLawErrorText:r._('Please fill out the appropriate form for this complaint', 'DSA.InvalidLaw', 'Accessibility text for redirecting to the appropriate place for this law'),multiselectPlaceholder:r._('Select an option', 'DSA.Multiselect.Placeholder', 'Header prompting user to select an option'),dateSelectPlaceholder:r._('Select a date', 'DSA.DateSelect.Placeholder', 'Header prompting user to select a date')},u={contactHeader:r._('Contact Information', 'TakedownsContactInformation.OwnerInformationHeading', 'Heading with the word Owner Information'),companyCheckbox:r._('Do you represent a complaints office? (Yes)', 'TakedownsContactInformation.ComplaintsOfficeValidation', 'Checkbox to determine if represents a complaints office'),company:r._('Complaints office', 'TakedownsContactInformation.ComplaintsOfficeNameField', 'The name of the organization or office submitting the complaint'),trustedFlaggerCheckbox:r._('Trusted flagger? (Yes)', 'TakedownsContactInformation.TrustedFlagger', 'Checkbox to determine if reporter is a trusted flagger'),trustedFlaggerSubtext:r._('Trusted Flagger as designated by the Digital Services Coordinator of the Member State in which the applicant is established, in line with Article 22 of the Digital Services Act.', 'TakedownsContactInformation.TrustedFlaggerSubtext', 'Defines a trusted flagger'),trustedFlaggerDate:r._('Date of Trusted Flagger status designation', 'TakedownsContactInformation.TrustedFlaggerDate', 'Date input for trusted flagger status designation'),trustedFlaggerCountry:r._('Country of Trusted Flagger status designation', 'TakedownsContactInformation.TrustedFlaggerDate', 'Date input for trusted flagger status designation'),anonSubmissionCheckbox:r._('Do you wish to remain anonymous? (Yes)', 'TakedownsContactInformation.AnonSubmission', 'Checkbox to determine if reporter wishes to remain anonymous'),anonSubmissionSubtext:r._('If you select this box, you will not receive any additional communications about your report, including the final outcome of your report.', 'TakedownsContactInformation.AnonSubmissionSubtext', 'Anon submission disclaimer'),name:r._('Name of Reporter', 'TakedownsContactInformation.NameField', 'User\'s name'),email:r._('Email Address', 'TakedownsContactInformation.EmailField', 'User\'s email address'),phone:r._('Phone Number', 'TakedownsContactInformation.PhoneField', 'Users phone number'),address:r._('Full Address', 'TakedownsContactInformation.AddressField', 'User address')},d={termsHeading:r._('By checking the following boxes, I confirm:', 'TakedownsForm.LabelForCheckboxes', 'Label describing the checkboxes'),isAccurate:r._('The information in this application is accurate.', 'TakedownsContactInformation.isAccurateBoolean', 'Confirmation checkbox that information in form is accurate'),consequences:r._('I understand that if I use this form to submit fraudulent or abusive complaints, I might be subject to claims of liability by Pinterest or other third parties.', 'temp', 'temp'),possibleSuspension:r._('I understand that frequently submitting reports that are fraudulent or abusive may lead Pinterest to suspend the processing of my reports.', 'TakedownsContactInformation.possibleSuspension', 'Confirmation checkbox that fraudulent reports may lead to suspension'),terms:(0,a.jsx)(n.xv,{children:r._('I have a good faith belief that the content violates the law(s) identified.', 'TakedownsContactInformation.termsBoolean', 'Checkbox to confirm they are owner of items they are claiming')}),dsaIsAccurate:r._('I have a good faith belief that the information and allegations contained in this report are accurate and complete.', 'TakedownsContactInformation.DSA.termsBoolean', 'Checkbox to confirm that the information is accurate and complete'),submitText:r._('Submit', 'TakedownsForm.SubmitApplication', 'Submit application form'),cancelText:r._('Cancel', 'TakedownsForm.CancelApplication', 'Cancel application form'),errorCallout:r._('Please fill out all required fields before submitting the application', 'CCP.AppValidationCallout', 'Call out that lets user know there\'s a validation error ')},f={pin_image:r._('Pin Image / Video', 'TakedownsForm.ContentPortion.Image', 'Checkbox content portion for Image'),pin_description:r._('Pin Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),pin_notes:r._('Pin Comments / Notes', 'TakedownsForm.ContentPortion.Notes', 'Checkbox content portion for Notes'),profile_image:r._('Profile Image', 'TakedownsForm.ContentPortion.Image', 'Checkbox content portion for Image'),profile_name:r._('Profile Name', 'TakedownsForm.ContentPortion.Name', 'Checkbox content portion for Name'),profile_description:r._('Profile Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),board_name:r._('Board Name', 'TakedownsForm.ContentPortion.Name', 'Checkbox content portion for Name'),board_description:r._('Board Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),other:r._('Other...', 'TakedownsForm.ContentPortion.Other', 'Checkbox content portion for Other')},p=(0,i.Z)({takedown:l[e],contactInformation:u,complaints:s,terms:d,reportedPortion:f},t);return{configuration:c[e],translations:p}}},554053:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(672652),o=r(684404),i=r(140017),a=r(5859),l=r(14583),s=r(970415),c=r(819267);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e){var t,d=e.height,f=e.onCtaDidLoad,p=e.width,h=(0,i.ZP)(),b=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=b[0],_=b[1],m=(0,a.B)().locale,v=(0,s.default)(m),g=function(e){_((0,n.lazy)(function(){return r(746377)("./".concat(e))}))};(0,n.useEffect)(function(){v&&"none"!==v&&g(v)},[v]),(0,n.useEffect)(function(){y&&f()},[y]);var x=h._('Open Pinterest app, then go to the search tab, then tap the camera icon located in the search bar to scan the Pincode', 'PincodeCTA.instruction', 'Text informing users how to use Pincodes \u2014 may be displayed or used as accessibility label'),P=(0,c.jsx)(o.xv,{align:"center",children:x});return"none"===v?P:y?(0,c.jsx)(l.Z,{fallback:P,children:(0,c.jsx)(y,{height:d,title:x,width:p})}):(0,c.jsx)(o.$j,{accessibilityLabel:h._('Loading Pincode Call to Action', 'PincodeCTA.loading', 'Accessibility label for loading spinner for the Pincode call-to-action'),show:!0})}},970415:function(e,t,r){"use strict";function n(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":case"ES-419":return"ESMX";case"ES-AR":return"ESAR";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}r.r(t),r.d(t,{default:function(){return n}})},364778:function(e,t,r){"use strict";r.d(t,{ZP:function(){return K}});var n,o,i,a,l,s,c=r(672652),u=r(684404),d=r(214877),f=r(140017);function p(e){return new Promise(function(t,r){var n=new XMLHttpRequest;n.ontimeout=r,n.onreadystatechange=function(){if(4===n.readyState){if(200!==n.status){r();return}var e=new FileReader;e.onloadend=function(){var n=e.result;"string"==typeof n?t(n.split(/,/)[1]):r()},e.readAsDataURL(n.response)}},n.open("GET",e,!0),n.timeout=3e4,n.responseType="blob",n.send()})}function h(e,t){return new Promise(function(r,n){var o=document.createElement("div");o.innerHTML=e.innerHTML,(function e(t,r){return t instanceof Element?t instanceof window.SVGImageElement?function(e,t){var r=e.href.baseVal;if(r.startsWith("data:"))return Promise.resolve();var n=t?t(r):r;return Promise.resolve(n).then(p).then(function(e){return"data:".concat(function(e){var t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(n),";base64,").concat(e)}).then(function(t){return new Promise(function(r,n){e.onerror=n,e.href.baseVal=t,window.requestAnimationFrame(r)})})}(t,r):Promise.all(Array.from(t.childNodes).map(function(t){return e(t,r)})):Promise.resolve(t)})(o,t).then(function(){var t=new Image;t.onload=function(){window.requestAnimationFrame(function(){return r(t)})},t.onerror=n;var i=o&&o.querySelector("svg");i&&(/^[0-9]+$/.test(i.getAttribute("width")||"")||i.setAttribute("width","".concat(e.scrollWidth)),/^[0-9]+$/.test(i.getAttribute("height")||"")||i.setAttribute("height","".concat(e.scrollHeight)));var a=o.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(a.trim()))})})}var b=r(554053),y=r(819267);function _(e){var t=e.getThumbnailImageSrcSet,r=e.images,n=e.onTouch,o=(0,f.ZP)();return(0,y.jsx)(u.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(r).map(function(e,r){var i,a,l,s;return(0,y.jsx)(u.xu,{padding:1,children:(0,y.jsx)(u.st,{children:(0,y.jsx)(u.iP,{fullWidth:!1,onTap:function(){return n("logo"===e?"logo":r-1)},rounding:2,children:(0,y.jsx)(u.zd,{height:85,rounding:"circle",width:85,children:"logo"===e?(0,y.jsx)(u.JO,{accessibilityLabel:"Pinterest logo",color:"brandPrimary",icon:"pinterest",size:85}):(0,y.jsx)(u.Ee,{alt:o._('Pincode Hero Image', 'accessibility label for the Pincode hero image', 'accessibility label for the Pincode hero image'),color:e.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:null!==(i=e.height)&&void 0!==i?i:1,naturalWidth:null!==(a=e.width)&&void 0!==a?a:1,src:null!==(l=e.url)&&void 0!==l?l:"",srcSet:t&&t(null!==(s=e.url)&&void 0!==s?s:"")})})})})},"logo"===e?e:e.url)})})}var m=r(995917),v=r(656418).x_d;function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){A(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,r){return(t=C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var E="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent((i=n||222,a=n||222,l=o||0,s=o||0,'\n  <svg xmlns="http://www.w3.org/2000/svg" width="'.concat(i,'" height="').concat(a,'" x="').concat(l,'" y="').concat(s,'" viewBox="').concat("0 0 222 222",'">\n    <path d="').concat("M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z",'" fill="').concat(v,'" fill-rule="evenodd" />\n  </svg>')).trim()));function I(e,t,r){return'\n    <image id="image"\n      x="'.concat(100+("right"===t?300:0),'"\n      y="').concat(100+("bottom"===r?300:0),'"\n      width="').concat(600/("row"===t?1:2),'"\n      height="').concat(600/("column"===r?1:2),'"\n      xmlns:xlink="http://www.w3.org/1999/xlink"\n      xlink:href="').concat(e,'"\n      preserveAspectRatio="xMidYMid slice"\n    />')}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=O(i);if(t){var n=O(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return S(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return A(S(e=o.call.apply(o,[this].concat(r))),"handleFetchChange",function(){var t=e.props,r=t.pincodeImageResource;(0,t.onFetchingChange)(r.isFetching)}),e}return r=[{key:"componentDidMount",value:function(){this.props.pincodeImageResource.isFetching||this.handleFetchChange()}},{key:"componentDidUpdate",value:function(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}},{key:"render",value:function(){var e,t=this.props,r=t.className,n=t.imageUrls,o=t.size,i=t.pincodeImageResource,a=i.data,l=i.isLoaded;return(0,y.jsxs)(u.kC,{alignItems:"center",height:o,justifyContent:"center",width:o,children:[l&&!!a&&(0,y.jsx)("div",{className:r,dangerouslySetInnerHTML:{__html:(e=function(e){switch(e.length){case 0:case 1:return;case 2:return[I(e[0],"left","column"),I(e[1],"right","column")].join("");case 3:return[I(e[0],"left","column"),I(e[1],"right","top"),I(e[2],"right","bottom")].join("");default:return[I(e[0],"left","top"),I(e[1],"right","top"),I(e[2],"left","bottom"),I(e[3],"right","bottom")].join("")}}(n))?a.replace(/<image[^>]*>/,e):a},style:{width:o,height:o}}),(0,y.jsx)(u.$j,{accessibilityLabel:this.props.i18n._('Loading Pincode Image', 'accessibility label for loading the Pincode image', 'accessibility label for loading the Pincode image'),show:!a})]})}}],j(i.prototype,r),n&&j(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(c.Component);function D(e){var t=(0,f.ZP)(),r=(0,m.Z)({name:"ApiResource",options:{url:"/v3/pincode/image/",data:{object_id:e.id,hero_image_url:e.imageUrls[0]||E}}});return(0,y.jsx)(T,P(P({},e),{},{i18n:t,pincodeImageResource:r}))}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){Z(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,r){return(t=F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==k(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var G="pincodeMain",V="pincodeCTA",W=function(e,t){var r=document.createElement("canvas");r.width=3544,r.height=3544;var n=Math.round(.1*r.width),o=Math.round(.05*r.width),i=r.width-2*n,a=r.width-2*o,l=r.height-i,s=U(t.width/t.height>a/l?[a,a/t.width*t.height]:[l/t.height*t.width,l],2),c=s[0],u=s[1],d=r.getContext("2d");return d.fillStyle="#fff",d.fillRect(0,0,r.width,r.height),d.drawImage(e,n,0,i,i),d.drawImage(t,(r.width-c)/2,i+(r.height-i-u)/2,c,u),r},q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=N(i);if(t){var n=N(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return L(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return Z(L(e=o.call.apply(o,[this].concat(r))),"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),Z(L(e),"getCustomHeroImages",function(){var t=e.props,r=t.images,n=t.customizable,o=e.state.pickedImageIndex;if(!n)return r;var i="logo"!==o&&r[o];return i?[i]:[]}),Z(L(e),"normalizeUrl",function(t){return(e.props.getMainImageURL||function(e){return e})(t).replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/")}),Z(L(e),"handleFetchChange",function(t){e.setState({isFetchingPincodeImage:t})}),Z(L(e),"handleCancelButtonClick",function(){return e.setState({isPickingHeroImage:!1})}),Z(L(e),"handleEditButtonClick",function(){return e.setState({isPickingHeroImage:!0})}),Z(L(e),"handleSelectImage",function(t){return e.setState({isPickingHeroImage:!1,pickedImageIndex:t})}),Z(L(e),"downloadPincodeImage",function(){var t=L(e).previewNode,r=e.state,n=r.ctaIsLoaded,o=r.isFetchingPincodeImage,i=r.isDownloading;if(t&&n&&!o&&!i){var a=t.querySelector(".".concat(G)),l=t.querySelector(".".concat(V));if(a&&l){var s=e.props,c=s.getDownloadImageURL,u=s.id;(0,s.logContextEvent)({event_type:7078,component:13141,object_id_str:u}),e.setState({isDownloading:!0}),Promise.all([h(a,c),h(l)]).then(function(e){var t=U(e,2);return W(t[0],t[1])}).then(function(t){var r;return r="pincode_".concat(e.props.id,".png"),new Promise(function(e,n){new Promise(function(e,r){if(t.toBlob){t.toBlob(e);return}var n="";try{n=t.toDataURL("image/png")}catch(e){r()}for(var o=window.atob(n.split(",")[1]),i=o.length,a=new Uint8Array(i),l=0;l<i;l+=1)a[l]=o.charCodeAt(l);e(new window.Blob([a],{type:"image/png"}))}).then(function(e){return window.URL.createObjectURL(e)}).then(function(t){var n=document.createElement("a");n.download=r,n.href=t,n.style.display="none",window.document.body.appendChild(n),window.requestAnimationFrame(function(){n.addEventListener("click",function r(){window.requestAnimationFrame(function(){window.URL.revokeObjectURL(t),n.removeAttribute("href"),n.removeEventListener("click",r),window.document.body.removeChild(n),e()})}),n.click()})}).catch(n)})}).then(function(){e.setState({isDownloading:!1})}).catch(function(){e.setState({errorFlyoutIsOpen:!0})})}}}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.id,n=t.isLoadingImages,o=t.images,i=t.getThumbnailImageSrcSet,a=t.customizable,l=this.state,s=l.ctaIsLoaded,c=l.errorFlyoutIsOpen,d=l.isFetchingPincodeImage,f=l.isDownloading;return l.isPickingHeroImage?(0,y.jsx)(u.xu,{color:"default",padding:4,rounding:2,width:350,children:(0,y.jsxs)(u.xu,{children:[(0,y.jsx)(u.xu,{paddingY:1,children:(0,y.jsx)(u.X6,{lineClamp:1,size:"500",children:this.props.i18n._('Change Image', 'Title of the Pincode hero image picker modal', 'Title of the Pincode hero image picker modal')})}),(0,y.jsx)(u.iz,{}),(0,y.jsx)(_,{getThumbnailImageSrcSet:i,images:o,onTouch:this.handleSelectImage}),(0,y.jsx)(u.xu,{padding:1,children:(0,y.jsx)(u.zx,{fullWidth:!0,onClick:this.handleCancelButtonClick,text:this.props.i18n._('Cancel', 'Button to dismiss Pincode hero image picker', 'Button to dismiss Pincode hero image picker')})})]})}):(0,y.jsx)(u.xu,{color:"default",marginBottom:4,paddingX:4,rounding:2,width:350,children:(0,y.jsxs)(u.xu,{children:[(0,y.jsx)(u.xu,{ref:function(t){e.previewNode=t},children:(0,y.jsxs)(u.xu,{alignItems:"center",color:"default",direction:"column",display:"flex",height:320,justifyContent:"center",width:"100%",children:[n?(0,y.jsx)(u.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,y.jsx)(u.$j,{accessibilityLabel:this.props.i18n._('Loading', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}):(0,y.jsx)(D,{className:G,id:r,imageUrls:this.getCustomHeroImages().map(function(t){var r;return e.normalizeUrl(null!==(r=t.url)&&void 0!==r?r:"")}),onFetchingChange:this.handleFetchChange,size:230}),(0,y.jsx)(u.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:7,marginTop:2,children:(0,y.jsx)("div",{className:V,children:(0,y.jsx)(b.default,{height:78,onCtaDidLoad:function(){return e.setState({ctaIsLoaded:!0})},width:300})})})]})}),(0,y.jsxs)(u.xu,{marginTop:2,padding:1,children:[a&&o.length>0&&(0,y.jsx)(u.xu,{paddingY:1,children:(0,y.jsx)(u.zx,{fullWidth:!0,onClick:this.handleEditButtonClick,text:this.props.i18n._('Change Image', 'Button to pick Pincode hero image', 'Button to pick Pincode hero image')})}),s&&(0,y.jsxs)(u.xu,{paddingY:1,children:[(0,y.jsx)(u.xu,{ref:function(t){e.downloadButton=t},children:(0,y.jsx)(u.zx,{color:"red",disabled:n||d||f,fullWidth:!0,onClick:this.downloadPincodeImage,text:this.props.i18n._('Download Pincode', 'Button to download the Pincode image', 'Button to download the Pincode image')})}),c&&(0,y.jsx)(u.J2,{anchor:this.downloadButton,idealDirection:"down",onDismiss:function(){return e.setState({errorFlyoutIsOpen:!1})},shouldFocus:!1,size:"sm",children:(0,y.jsx)(u.xu,{padding:3,children:(0,y.jsx)(u.qb,{title:this.props.i18n._('Oops! Your browser does not support downloading Pincodes.', 'Error message shown when user attempts to download Pincode on a browser not supported', 'Error message shown when user attempts to download Pincode on a browser not supported'),type:"problem"})})})]})]})]})})}}],B(i.prototype,r),n&&B(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(c.PureComponent);function K(e){var t=(0,d.v)().logContextEvent,r=(0,f.ZP)();return(0,y.jsx)(q,R(R({},e),{},{i18n:r,logContextEvent:t}))}},219728:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(672652),o=r(684404),i=r(214877),a=r(930837),l=r(140017),s=r(819267);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){var t=e.children,r=e.objectId,d=e.onHide,f=(0,i.v)().logContextEvent,p=(0,l.ZP)(),h={component:13141,object_id_str:r};return(0,n.useEffect)(function(){f({event_type:6359})},[r]),(0,s.jsx)(a.ZP,{accessibilityModalLabel:p._('Pincode', 'pincode.pincodemodal.label', 'Accessible label for a modal showing the pincode modal'),heading:p._('Pincode', 'pincode.pincodemodal.heading', 'Heading for a modal showing the pincode.'),onDismiss:function(){d(),f(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({event_type:6358},h))},size:"sm",children:(0,s.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:t})})}},772575:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(684404),o=r(930837),i=r(140017),a=r(5859),l=r(916964),s=r(819267);function c(e){var t=(0,i.ZP)(),r=e.onSectionCreate,c=e.onClose,u=e.selectedBoard,d=e.useLayer,f=(0,a.B)().isRTL,p=void 0===d||d?o.ZP:n.u_,h=(0,s.jsx)(n.xu,{paddingX:4,paddingY:6,position:"relative",children:(0,s.jsxs)(n.kC,{alignItems:"center",justifyContent:"center",children:[(0,s.jsx)(n.xu,{maxWidth:400,children:(0,s.jsx)(n.X6,{align:"center",size:"500",children:t._('Add section', 'Modal header for adding a section', 'Modal header for adding a section')})}),(0,s.jsx)(n.xu,{left:f,paddingX:6,paddingY:5,position:"absolute",right:!f,top:!0,children:(0,s.jsx)(n.hU,{accessibilityLabel:t._('Close', 'CreateSection.Modal.Icon', 'Icon to close section create modal'),icon:"cancel",iconColor:"darkGray",onClick:c,size:"lg"})})]})});return(0,s.jsx)(p,{accessibilityModalLabel:t._('Add a section to the board', 'modal to add a section to a board', 'modal to add a section to a board'),heading:h,onDismiss:c,size:"sm",children:(0,s.jsx)(n.xu,{color:"default",display:"flex",rounding:2,children:(0,s.jsx)(l.Z,{board:u,completeCreateSectionAction:r,onClearModal:c,positionRelative:!0,showTitle:!1})})})}},945488:function(e,t){"use strict";t.Z=function(e,t){return"".concat(e,":").concat(t||"")}},588380:function(e,t,r){"use strict";r.d(t,{Fj:function(){return c},JI:function(){return u},aG:function(){return s}});var n=r(672652),o=r(819267);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=(0,n.createContext)(),l=(0,n.createContext)();function s(e){var t,r=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1];return(0,o.jsx)(a.Provider,{value:c,children:(0,o.jsx)(l.Provider,{value:u,children:r})})}function c(){var e=(0,n.useContext)(a);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function u(){var e=(0,n.useContext)(l);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},811216:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(684404),o=r(930837),i=r(140017),a=r(339001),l=r(554786),s=r(819267);function c(e){var t=e.onDismiss,r=e.firstName,c=e.handleUnfollowUser,u=(0,i.ZP)(),d=(0,l.HG)(),f=(0,a.nk)(u._('Unfollow {{ firstName }}?', 'unfollowUser.modal.header', 'header text asking if we should unfollow the user. firstName: name of the user to unfollow'),{firstName:r}).join(""),p=u._('You will no longer be able to view their profile, Pins, boards, followers or following lists. They will not be notified.', 'unFollowUser.modal.description', 'explanation of what removing another user means'),h=u._('Cancel', 'unfollowUser.modal.cancel', 'Cancel unfollowing a user'),b=u._('Unfollow', 'unfollowUser.modal.button.unfollow', 'Button to confirm removing a user');return d?(0,s.jsx)(o.ZP,{accessibilityModalLabel:f,footer:(0,s.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(n.xu,{padding:1,children:(0,s.jsx)(n.zx,{fullWidth:!0,onClick:t,size:"lg",text:h})}),(0,s.jsx)(n.xu,{padding:1,children:(0,s.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:c,size:"lg",text:b})})]}),heading:f,onDismiss:t,role:"alertdialog",size:"md",children:(0,s.jsx)(n.xu,{"data-test-id":"unfollow-text",marginEnd:6,marginStart:6,children:(0,s.jsx)(n.xv,{children:p})})}):(0,s.jsxs)(o.ZP,{accessibilityModalLabel:f,mobileHideCloseIcon:!0,onDismiss:t,type:"unFollow_button",children:[(0,s.jsx)(n.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,s.jsx)(n.X6,{accessibilityLevel:1,size:"500",children:f})}),(0,s.jsx)(n.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,s.jsx)(n.xv,{children:p})}),(0,s.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,s.jsx)(n.xu,{padding:1,children:(0,s.jsx)(n.zx,{fullWidth:!0,onClick:t,size:"md",text:h})}),(0,s.jsx)(n.xu,{padding:1,children:(0,s.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:c,size:"md",text:b})})]})]})}},402287:function(e,t,r){"use strict";r.d(t,{$n:function(){return P},A4:function(){return O},CE:function(){return _},ET:function(){return T},F$:function(){return x},Kw:function(){return E},Nv:function(){return C},PA:function(){return S},X_:function(){return I},d9:function(){return j},e1:function(){return y},o4:function(){return A},vB:function(){return v}});var n=r(654369),o=r(216167),i=r(107366),a=r(227258),l=r(827625),s=r(821419),c=r(64819),u=r(430408),d=r(539426),f=r(937310);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){return function(t){var r=e.boardId,n=e.sectionIdBefore,o=e.sectionIdAfter,a=e.sourceSectionId,l=e.targetSectionId;t((0,c._f)({feedType:f.Z.BOARD_SECTIONS,feedId:r,itemType:"boardsection",sourceItemId:a,targetItemId:l}));var s=Object.freeze({});return n&&(s=b(b({},s),{},{section_before:n})),o&&(s=b(b({},s),{},{section_after:o})),(0,i.Z)({url:"/v3/board/sections/".concat(a,"/reorder/"),method:"POST",data:s})}}function _(e,t){return function(r){return r((0,a.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}}function m(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function v(e,t,r,n){var i=e.boardId,a=e.sourceBoardId,d=void 0===a?"":a,p=e.sourceSectionId,h=void 0===p?"":p,y=e.name,_=e.nameSource,v=e.pinImport,g=e.initialPinIds,x=0;"RECOMMENDATION"===_?x=1:"EDITED_RECOMMENDATION"===_&&(x=2);var P=b({board_id:i,initial_pins:v&&!v.all?v.pinIds:void 0===g?[]:g,name:y,name_source:x},r?{orbac_subject_id:r}:Object.freeze({}));return function(e){return o.Z.create("BoardSectionResource",P).callCreate({showError:!1}).then(function(o){var a=o.resource_response.data;n({event_type:7100,object_id_str:a.id}),e(m(i,a)),e((0,c.vX)({feedId:i,feedType:f.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),e((0,s.Tq)(i,"pin_count")),e((0,l.jB)("BoardSectionsRepinResource",{board_id:i,orbac_subject_id:r}));var p=v||{all:!1,pinIds:[]},b=p.all,y=p.pinIds;return b?new Promise(function(r,n){return e((0,u.Z)({inverseSelection:!0,selectedPinIds:y,source:{boardId:d||i,sectionId:h||null},target:{boardId:i,sectionId:a.id}},t)).then(function(){return r(a)}).catch(n)}):(y.length>0&&e((0,c.N8)(f.Z.BOARDFEED,i)),a)})}}function g(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function x(e,t,r){return function(n){return o.Z.create("BoardSectionEditResource",b({section_id:t},r?{orbac_subject_id:r}:Object.freeze({}))).callDelete({showError:!1}).then(function(){return Promise.all([n(g(e,t)),n((0,c.EX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),n((0,s.Tq)(e,"pin_count")),n((0,l.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:r}))])})}}function P(e,t,r,n){return function(i){return o.Z.create("BoardSectionEditResource",b({section_id:t,title:r},n?{orbac_subject_id:n}:Object.freeze({}))).callCreate({showError:!1}).then(function(t){var r=t.resource_response.data;return i(function(t){var n,o,i,a,l,u=r.board;u&&u.id!==e?(t(g(e,null!==(n=r.id)&&void 0!==n?n:"")),t((0,c.EX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[null!==(o=r.id)&&void 0!==o?o:""],itemType:"boardsection"})),t((0,s.Tq)(e,"pin_count")),t(m(null!==(i=u.id)&&void 0!==i?i:"",r)),t((0,c.vX)({feedId:null!==(a=u.id)&&void 0!==a?a:"",feedType:f.Z.BOARD_SECTIONS,itemIds:[null!==(l=r.id)&&void 0!==l?l:""],itemType:"boardsection"})),t((0,s.Tq)(e,"pin_count"))):t({type:"SECTION_UPDATED",payload:{boardId:e,section:r}})}),i((0,l.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:n})),r})}}function j(e,t,r){return function(n){return(0,i.Z)({url:"/v3/board/sections/".concat(t,"/merge/").concat(r,"/"),method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(function(o){return Promise.all([n(g(e,t)),n((0,l.jB)("BoardSectionsRepinResource",{board_id:e})),n(_(r)),n((0,c.N8)(f.Z.BOARD_SECTION_PINS,r))]).then(function(){return o})})}}var w=function(e,t){return{type:"BOARD_SECTION_EDIT",payload:t}},S=function(e,t){return function(r){return o.Z.create("BoardSectionEditResource",b(b({},t),{},{section_id:e})).callCreate().then(function(n){return r(w(e,t)),n.resource_response.data})}},O=function(e){return function(t){return o.Z.create("BoardSectionResource",{section_id:e}).callGet().then(function(r){return t(w(e,r.resource_response.data||{id:"",title:""})),r})}},A=function(e,t,r,n){return function(i){var a=o.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return i({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:r,pinCount:n}}),a}},C=function(e,t,r,i){return function(a){var s={board_id:e,initial_pins:t,name:r},u="BoardSectionResource";return o.Z.create(u,s).callCreate().then(function(r){var o=r.resource_response.data,p=(0,n.Fv)(o,d.Z[u]);return i({event_type:7100,object_id_str:o.id}),a((0,l.XM)(u,s,r,p)),a(m(e,o)),a((0,c.vX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[o.id],itemType:"boardsection"})),t.length&&a({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:o.id},pinIds:t}}),r})}},E=function(e){return function(t){var r=e.source,i=e.target,a=e.pinIds;if(t({type:"PINS_MOVE",payload:e}),r.boardlessPins||i.boardId!==r.boardId){var s={board_id:i.boardId,pin_ids:a,section_id:i.sectionId};return o.Z.create("BulkEditResource",s).callUpdate()}if(i.sectionId){var c={section_id:i.sectionId,pins:a},u="BoardSectionEditResource";return o.Z.create(u,c).callUpdate().then(function(e){var r=(0,n.Fv)(e.resource_response.data,d.Z[u]);return t((0,l.XM)(u,c,e,r)),e})}var f={section_id:r.sectionId,pins:a};return o.Z.create("BoardSectionPinsResource",f).callDelete()}},I=function(e){return function(t){t({type:"PINS_MOVE_ALL",payload:e});var r=e.source,n=e.target,i=e.excludePinIds,a={board_id:r.boardId,new_board_id:n.boardId,pin_ids:i,old_section_id:r.sectionId,new_section_id:n.sectionId};return o.Z.create("BulkEditSelectAllResource",a).callUpdate()}},T=function(e,t,r,n,o){return function(i){return i(C(e,[],t,o)).then(function(t){return i(I({source:{boardId:e,sectionId:n},target:{boardId:e,sectionId:t.resource_response.data.id},excludePinIds:r}))})}}},265330:function(e,t,r){"use strict";r.d(t,{V:function(){return c},u:function(){return s}});var n=r(216167),o=r(821419);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=function(e){return function(t){return n.Z.create("BoardResource",{board_id:e}).callGet().then(function(e){var r=e&&e.resource_response&&e.resource_response.data;return r&&t((0,o.yT)(r)),e})}};function c(e,t,r){return function(i,a){var s=a().boards[e],c=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},u=l(l(l({allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description},t.name&&{name:t.name}),{},{privacy:t.privacy,sensitivity:t.sensitivity||null},r?{orbac_subject_id:r}:Object.freeze({})),c);return i((0,o.yT)(l(l({},u),{},{id:e}))),n.Z.create("BoardResource",l(l({},u),{},{board_id:e})).callUpdate().then(function(e){var r=e&&e.resource_response&&e.resource_response.data||t;return null!=t.allow_homefeed_recommendations&&(r.allow_homefeed_recommendations=t.allow_homefeed_recommendations),i((0,o.yT)(r)),e}).catch(function(e){throw s&&i((0,o.yT)(s)),e})}}},430408:function(e,t,r){"use strict";r.d(t,{Z:function(){return p},S:function(){return f}});var n=r(216167),o=r(821419),i=r(402287),a=r(64819),l=r(937310),s=r(622888),c=function(e){return function(t){s.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))}},u=function(e){return(0,a.N8)(e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,e.sectionId||e.boardId)};function d(e,t){var r=e.source,n=e.target;n.boardId!==r.boardId?(t((0,o.Tq)(r.boardId,"pin_count")),t((0,o.Tq)(n.boardId,"pin_count"))):r.sectionId&&n.sectionId||t((0,o.Tq)(n.boardId,"pin_count")),r.sectionId&&t((0,i.CE)(r.sectionId)),n.sectionId&&t((0,i.CE)(n.sectionId))}function f(e){return function(t){var r=e.selectedPinIds,n=e.source,o=e.target;t((0,a.EX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:r,itemType:"pin"})),t((0,a.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:r,itemType:"pin"})),d(e,t)}}function p(e,t){return function(r){return(function(e,t,r){var o=e.inverseSelection,i=e.selectedPinIds,s=e.source,d=e.target,f=e.orbacSubjectId;if(s.boardId===d.boardId&&(s.sectionId||null)===(d.sectionId||null))return Promise.reject();if(o){var p={board_id:s.boardId,new_board_id:d.boardId,old_section_id:s.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return n.Z.create("BulkEditSelectAllResource",p).callUpdate({showError:!1}).then(function(){return Promise.all([t(u(s)),t(u(d))])}).catch(c(r))}var h=function(e,r){t((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,a.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:i,itemType:"pin"}))};h(s,d);var b=function(){return h(d,s)};if(d.boardId===s.boardId){if(d.sectionId){var y={section_id:d.sectionId,pins:i,orbac_subject_id:f};return n.Z.create("BoardSectionEditResource",y).callUpdate({showError:!1}).catch(function(e){b(),c(r)(e)})}var _={section_id:s.sectionId,pins:i,orbac_subject_id:f};return n.Z.create("BoardSectionPinsResource",_).callDelete({showError:!1}).catch(function(e){b(),c(r)(e)})}var m={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return n.Z.create("BulkEditResource",m).callUpdate({showError:!1}).catch(function(e){b(),c(r)(e)})})(e,r,t).then(function(){return d(e,r)})}}},640772:function(e,t,r){"use strict";r.d(t,{F:function(){return n},p:function(){return o}});var n=function(e){return{type:"PIN_BUILDER_LOADED_IMAGES",payload:e}},o=function(e){return{type:"UPDATE_PIN_BUILDER_INPUT",payload:e}}},767518:function(e,t,r){"use strict";function n(e){return{type:"PIN_BETTER_SAVE",payload:e}}function o(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function i(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function a(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function c(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}r.d(t,{ND:function(){return c},Vp:function(){return l},a1:function(){return n},b6:function(){return s},jg:function(){return i},o4:function(){return o},ti:function(){return a}})},170568:function(e,t,r){"use strict";r.d(t,{Cp:function(){return s},FK:function(){return l},H5:function(){return v},MI:function(){return h},O0:function(){return p},QZ:function(){return a},W:function(){return _},WF:function(){return u},Wz:function(){return g},a5:function(){return d},dz:function(){return y},e0:function(){return f},e2:function(){return i},iW:function(){return m},n1:function(){return o},rm:function(){return c},xu:function(){return b}});var n=r(96157),o=function(){return{type:"DISMISS_UNAUTH_SAVE"}},i=function(){return{type:"COMPLETE_UNAUTH_SAVE_ACTION"}},a=function(e){return{type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}},l=function(){return{type:"HIDE_NAV_FOOTER"}},s=function(){return{type:"SHOW_NAV_FOOTER"}},c=function(e){return{type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}},u=function(){return{type:"SHOW_REPIN_ANIMATION"}},d=function(){return{type:"HIDE_REPIN_ANIMATION"}},f=function(e){return{type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}},p=function(){return{type:"SET_OWN_PROFILE_PINS_REFRESH"}},h=function(e){return{type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}},b=function(e){return{type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}},y=function(e){return{type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}},_=function(){return{type:"DISMISS_UNAUTH_APP_UPSELL"}},m=function(e){return e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"}},v=function(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}},g=function(e,t){return{type:"SET_LANDING_PAGE_TYPE",payload:e?(0,n.bo)(e)?"today":(0,n.dr)(e)?"ideas":t&&(0,n.dZ)(e,t)?"own_section":t&&(0,n.J)(e,t)?"own_board":(0,n.OJ)(e)?"section":(0,n.am)(e)?"board":(0,n.L6)(e)?"closeup":(0,n.C$)(e)?"home":(0,n.cD)(e)?"profile":(0,n.En)(e)?"search":(0,n.$V)(e)?"topic":"":""}}},927177:function(e,t,r){"use strict";function n(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function o(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}r.d(t,{L:function(){return o},m:function(){return n}})},614137:function(e,t,r){"use strict";var n=r(996523);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){var n;return(n=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===o(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.Z=function(e,t){return function(r,o){var i=t(r,o);if(o.payload&&!Array.isArray(o.payload)){var s,c=o.payload.normalizedResponse;if(c&&c.entities&&c.entities[e])return Object.keys(s=c.entities[e]).reduce(function(e,t){return a(a({},e),{},l({},t,(0,n.Z)(e[t],s[t])))},i)}return i}}},937310:function(e,t){"use strict";t.Z={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},645247:function(e,t,r){"use strict";r.d(t,{U:function(){return c}});var n=r(614137);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var c=function(e){var t;return"".concat(e.board,":").concat(null!==(t=e.invited_user)&&void 0!==t?t:"")},u=function(e,t){return a(a({},e),{},l({},c(t),a(a({},e[c(t)]),t)))},d=(0,n.Z)("collaboratorinvite",function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"BOARD_COLLABORATOR_DELETE":return u(n,{board:o.payload.boardId,invited_user:o.payload.userId,status:"not_invited"});case"BOARD_COLLABORATOR_ADD":var i=o.payload,l=i.boardId,d=i.viewingUser,f=i.status;return i.collaboratingUsers.map(function(e){return null==e?void 0:e.id}).filter(Boolean).reduce(function(e,t){var r={access:["delete"],board:l,invited_user:t,invited_by_user:d,status:f,type:"collaboratorinvite"},n=c(r);return e[n]&&"not_invited"!==e[n].status?e:u(e,r)},a({},n));case"BOARD_INVITE_ACCEPTED_BY_VIEWER":return u(n,{board:o.payload.boardId,invited_user:null===(e=o.payload.collaboratingUser)||void 0===e?void 0:e.id,status:"accepted"});case"BOARD_INVITE_APPROVED_BY_VIEWER":var p=o.payload.isRequestToJoin?"accepted":"new";return u(n,{board:o.payload.boardId,invited_user:null!==(t=null===(r=o.payload.collaboratingUser)||void 0===r?void 0:r.id)&&void 0!==t?t:"",status:p});case"BOARD_INVITE_DENIED_BY_VIEWER":var h=c({board:o.payload.boardId,invited_user:o.payload.userId});return n[h],function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(n,[h].map(s));default:return n}});t.Z=d},800516:function(e,t,r){"use strict";var n=(0,r(746074).P1)(function(e){return e.boards},function(e){return Object.keys(e).reduce(function(t,r){var n,o=e[r];t[null!==(n=o.url)&&void 0!==n?n:""]=o;var i=o.oldSlugUrl;return i&&(t[i]=o),t},{})});t.Z=n},987814:function(e,t,r){"use strict";function n(e){var t=e.users;if(t){var r=Object.keys(t).find(function(e){return void 0!==t[e].login_state});return r?t[r]:void 0}}r.d(t,{Z:function(){return n}})},302335:function(e,t,r){"use strict";var n=r(746074),o=r(987814),i=(0,n.P1)(o.Z,function(e){return e.invites},function(e,t){return Object.keys(t).reduce(function(r,n){var o=n.split(":"),i=o[0],a=o[1],l=e.id===a,s=t[n]&&["new","contact_request_not_approved"].includes(t[n].status);return l&&s&&(r[i]=n),r},{})});t.Z=i},125768:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(780277),o=r(328038),i=r(684404),a=r(224796),l=r(587703),s=r(525364),c=r(140017),u=r(340523),d=r(731714),f=r(217058),p=r(623409),h=r(554786),b=r(819267);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(e){var t,r=e.alignIconLeft,_=e.bgColor,m=e.color,v=e.disableRedirect,g=void 0!==v&&v,x=e.fallbackUrl,P=e.icon,j=void 0===P?"arrow-back":P,w=e.onTouch,S=e.padding,O=e.placement,A=e.shouldUseFallbackUrl,C=e.size,E=void 0===C?"lg":C,I=e.viewParameter,T=e.viewType,D=e.fallbackUrlForExp,k=(0,c.ZP)(),z=(0,h.HG)(),R=(0,u.F)().checkExperiment,B=(0,o.k6)(),M=(0,o.TH)(),L=(0,n.useSelector)(function(e){return e.session.isAuthenticated}),N=(0,l.Z)(),Z=(0,p.Z)(),F=!L&&D&&"/ideas"===x,U=(0,s.SU)(),H=U.viewType,G=U.viewParameter,V=function(e){if(Array.isArray(e))return e}(t=T?[T,I]:[H,G])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),W=V[0],q=V[1],K=function(){var e=d.Z.getItem(a.pm);M.key||"/ideas"!==x?(0,f.My)("pinner_conversion.back_button.".concat(String(null==e?void 0:e[0].pageType))):(0,f.My)("pinner_conversion.back_button.no_history"),(0,f.My)("web_back_button_click.".concat(String(O),".is_auth_").concat(String(L))),Z({action:"click",item:"back-button"}),W&&N({view_type:W,view_parameter:q,element:34,event_type:102}),w&&w(),g||((!M.key||M.state&&"redirect"===M.state.referrer||A)&&x?F?z&&R("web_unauth_backbutton_navigation").anyEnabled?(B.push(D||x),(0,f.My)("web.unauth.back_button.l1interest")):!z&&R("mweb_unauth_backbutton_navigation").anyEnabled?(B.push(D||x),(0,f.My)("mweb.unauth.back_button.l1interest")):B.push(x):B.push(x):M.pathname.includes("/password/reset/")&&M.search&&M.search.includes("?nativeShouldDismiss=true")?B.push("/login/?dismissWebview=true"):B.goBack())};return(0,b.jsx)(i.xu,{"data-test-id":"back-button",children:r?(0,b.jsx)(i.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===j?-1:-2,width:48,children:(0,b.jsx)(i.hU,{accessibilityLabel:k._('Back', 'navigation button', 'navigation button'),bgColor:_,icon:j,iconColor:!m&&(!_||["white","lightGray","transparent"].includes(_))?"gray":m,onClick:K,padding:"auto"!==S?S:2,size:E})}):(0,b.jsx)(i.hU,{accessibilityLabel:k._('Back', 'navigation button', 'navigation button'),bgColor:_,icon:j,iconColor:!m&&(!_||["white","lightGray","transparent"].includes(_))?"gray":m,onClick:K,padding:"auto"!==S?S:2,size:E})})}},94816:function(e,t,r){"use strict";r.d(t,{Z:function(){return f},o:function(){return d}});var n=r(672652),o=r(684404),i=r(587703),a=r(515278),l=r(213377),s=r(140017),c=r(149722),u=r(819267),d="AddPinRep";function f(e){var t=e.ctaText,r=e.handleClick,d=e.height,f=e.iconSize,p=e.textSize,h=e.component,b=(0,i.Z)(),y=(0,s.ZP)(),_=(0,c.Z)(),m=(0,a.Z)();return(0,n.useEffect)(function(){b({event_type:120,component:null!=h?h:0,element:10643})},[b,h]),(0,u.jsx)(o.xu,{children:(0,u.jsx)(o.Tg,{href:"/pin-builder/",onTap:function(){if(m){m();return}_.isPartner&&b({event_type:101,component:0,element:10643}),r&&r()},children:(0,u.jsxs)(o.st,{children:[(0,u.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",fit:!0,height:d||l.yF,justifyContent:"center",rounding:2,width:d||void 0,children:(0,u.jsx)(o.xu,{color:"default",height:f||40,rounding:"circle",width:f||40,children:(0,u.jsx)(o.JO,{accessibilityLabel:"",color:"error",icon:"add-circle",inline:!0,size:f||40})})}),(0,u.jsx)(o.xu,{padding:2,children:(0,u.jsx)(o.xv,{color:"subtle",size:p||"300",weight:"bold",children:t||y._('Create Pin', 'label to open create pin modal', 'label to open create pin modal')})})]})})})}},506248:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(672652),o=r(510989),i=r(608516),a=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var c=(0,n.lazy)(function(){return r.e(84131).then(r.bind(r,384131))});function u(e){return(0,a.jsx)(o.Z,{name:"SafeSuspense_EditPinModalLoader_EditPinModal",children:(0,a.jsx)(i.Z,{children:(0,a.jsx)(c,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e))})})}},174595:function(e,t,r){"use strict";var n=r(780277),o=r(214877),i=r(515278);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e){var t,r=e.pinId,s=e.carouselSlotCurrentIndexProp,c=e.component,u=e.setShowEditModal,d=(0,o.v)().logContextEvent,f=(0,i.Z)(),p=(0,n.useSelector)(function(e){return e.pins}),h=((p&&r&&p[r]||{}).carousel_data||{}).index;return void 0!==s&&(t=h||s||0),{onClick:function(e){var t=e.event;if(f){f();return}t.stopPropagation(),d(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({event_type:101,element:3},c?{component:c}:Object.freeze({}))),u(!0)},carouselSlotCurrentIndex:t}}},299351:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(780277),o=r(282008),i=r(94816),a=r(684404),l=r(819267);function s(e){var t=e.story,r=t.action,n=r.text,o=r.url,i=t.custom_properties,s=i.image,c=i.image_alt;return(0,l.jsxs)(a.xu,{position:"relative",children:[(0,l.jsx)(a.zd,{height:285,rounding:4,width:228,children:(0,l.jsx)(a.Ee,{alt:c,color:"black",fit:"cover",naturalHeight:2688,naturalWidth:2e3,src:s})}),(0,l.jsx)(a.xu,{bottom:!0,display:"flex",justifyContent:"center",padding:4,position:"absolute",width:228,children:(0,l.jsx)(a.ZP,{color:"white",fullWidth:!0,href:o,text:n})})]})}function c(e){var t=(0,n.useSelector)(function(t){return t.desktopStories[e.storyId]});if(!t)return null;switch(t.story_type){case"BUBBLE_ONE_COL":return(0,l.jsx)(o.Z,{bubbles:t.objects,id:e.storyId,referringSource:t.referring_source,slotIndex:e.slot,storyType:t.story_type,title:t.title,viewParameter:e.viewParameter,viewType:e.viewType});case"feed_card_default":case"feed_card_video":return(0,l.jsx)(s,{story:t});case"add_pin":return(0,l.jsx)(i.Z,{});default:return null}}},641285:function(e,t,r){"use strict";r.d(t,{Z:function(){return F}});var n,o=r(672652),i=r(780277);r(42279);var a=r(328038),l=r(216167),s=r(798580),c=r(515278),u=r(622888),d=r(190971),f=r(207012),p=r(901855),h=r(140017),b=r(339001),y=r(498301),_=r(825765),m=r(149722),v=r(86173),g=r(692440),x=r(180338),P=r(821419),j=r(402287),w=r(64819),S=r(767518),O=r(386129),A=r(937310),C=r(819267),E=["pinKey"];function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){M(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,r){return(t=L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==I(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}var N=void 0!==n?n:n=r(924633),Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=B(o);if(t){var n=B(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return R(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return M(R(e=n.call.apply(n,[this].concat(r))),"state",{step:"unsaved"}),M(R(e),"deletePin",function(t){return l.Z.create("PinResource",{id:t,client_tracking_params:e.clientTrackingParams}).callDelete()}),M(R(e),"repin",function(){var t,r,n,o=e.props,i=o.pin,a=o.target,s=a.board,c=a.boardSection,u=o.eventContext,d=R(e).clientTrackingParams,f=!(null!=i&&i.entityId)&&null!=i&&i.imageUrl?(0,y.Z)(null!==(t=i.imageUrl)&&void 0!==t?t:"",i.link):"",p=c&&c.id,h={board_id:s.id||"",clientTrackingParams:d,description:(null==i?void 0:i.description)||"",image_base64:null!==(r=null==i?void 0:i.imageBase64)&&void 0!==r?r:"",link:null==i?void 0:i.link,image_url:f,is_buyable_pin:!1,is_removable:!!(null!=i&&i.promotedIsRemovable),media_upload_id:null!==(n=null==i?void 0:i.mediaUploadId)&&void 0!==n?n:"",pin_id:(null==i?void 0:i.entityId)||"",section:p,title:(null==i?void 0:i.title)||"",eventContext:u};return l.Z.create("RepinResource",h).callCreate({showError:!1})}),M(R(e),"handleSave",function(){var t=e.props,r=t.requireAuth,n=t.onSave,o=t.makeCancelablePromise,i=t.mountAfterActionPlacement,a=e.state.step;if(r){r();return}if("unsaving"===a){e.setState({step:"saving"});return}e.setState({step:"saving"}),o(e.repin().then(function(t){var r,n,o=t.resource_response.data;e.shouldCompleteSave(o),i("Save",{pin_id:null===(r=e.props.pin)||void 0===r?void 0:r.entityId,is_promoted:null===(n=e.props.pin)||void 0===n?void 0:n.isPromoted})})).then(n).catch(function(t){if(!t.isCanceled){var r=e.props.target,n=r.board,o=r.boardSection;u.Z.showError(o?(0,b.nk)(e.props.i18n._('Failed to save the Pin to {{sectionName}}', 'Error message when failed to save to a section within a board', 'Error message when failed to save to a section within a board'),{sectionName:o.title}).join(""):(0,b.nk)(e.props.i18n._('Failed to save the Pin to {{boardName}}', 'Error message when failed to save to a board', 'Error message when failed to save to a board'),{boardName:n.name}).join(""))}})}),M(R(e),"shouldCompleteSave",function(t){var r=e.props,n=r.saveToBoard,o=r.pin,i=r.dispatch,a=r.target,l=a.board,s=a.boardSection,c=e.state.step,u=s&&s.id,d={pinId:(null==o?void 0:o.entityId)||"",boardId:l.id,sectionId:u,title:(null==o?void 0:o.title)||""};if("saving"===c){e.props.onPinCreate&&e.props.onPinCreate({boardId:t.board.id,pinId:t.id}),n(l),i((0,w.vX)({feedId:u||l.id,feedType:u?A.Z.BOARD_SECTION_PINS:A.Z.BOARDFEED,itemIds:[null!==(f=null==o?void 0:o.entityId)&&void 0!==f?f:""],itemType:"pin"}));var f,p=null!=o?o:{},h=p.imageUrl,b=p.imageSpec_236x,y=h||b&&b.url||"";return(s||!l.image_cover_url)&&(l.image_cover_url=y,i((0,P.yT)(l))),i((0,S.a1)(D(D({},d),{},{localPinId:t.id,nodeId:null==o?void 0:o.__id}))),i((0,P.Br)({boardId:l.id,sectionId:s?s.id:void 0,increment:1})),i((0,O.JS)({userId:t.pinner.id,increment:1})),e.setState({step:"saved"}),t}"unsaving"===c&&e.handleUnsave(t.id)}),M(R(e),"handleUnsave",function(t){var r,n=e.state.step,o=(null!==(r=e.props.pin)&&void 0!==r?r:{}).savedInfo;if("unsaved"!==n){if("saving"===n){e.setState({step:"unsaving"});return}var i=o&&o.localPinId||t;i&&(e.setState({step:"unsaving"}),e.deletePin(i).then(function(){return e.shouldCompleteUnsave()}))}}),M(R(e),"shouldCompleteUnsave",function(){var t=e.props,r=t.pin,n=t.target,o=n.board,i=n.boardSection,a=t.dispatch,l=t.onDelete,s=t.viewerId,c=e.state.step;if("unsaving"===c){if(null!=r&&r.savedInfo){var u,d=null==i?void 0:i.id;a((0,S.jg)({pinId:r.entityId,nodeId:r.__id})),a((0,P.Br)({boardId:o.id,sectionId:d,increment:-1})),a((0,O.JS)({userId:s,increment:-1})),a((0,P.xQ)(o.id)),a((0,w.EX)({feedId:d||o.id,feedType:d?A.Z.BOARD_SECTION_PINS:A.Z.BOARDFEED,itemIds:[null!==(u=r.entityId)&&void 0!==u?u:""],itemType:"pin"})),d&&a((0,j.CE)(d)),l&&l()}e.setState({step:"unsaved"})}"saving"===c&&e.handleSave()}),e}return k(o.prototype,[{key:"clientTrackingParams",get:function(){var e,t,r=this.props,n=r.location,o=r.pin,i=r.previousHistory,a=r.trackingParamsMap;return(0,s.Z)({boardUrl:null==o?void 0:null===(e=o.board)||void 0===e?void 0:e.url,location:n,pinId:null==o?void 0:o.entityId,pinnerUserName:null==o?void 0:null===(t=o.pinner)||void 0===t?void 0:t.username,previousHistory:i,storyPinDataId:null==o?void 0:o.storyPinDataId,trackingParams:null==o?void 0:o.trackingParams,trackingParamsMap:a})||"".concat((null==o?void 0:o.trackingParams)||"","-0")}},{key:"render",value:function(){var e,t=this.props.children,r=this.state.step,n=(null!==(e=this.props.pin)&&void 0!==e?e:{}).savedInfo;return t({save:this.handleSave,saved:"saved"===r||"saving"===r||!!(n&&n.localPinId),savedInfo:n,unsave:this.handleUnsave})}}]),r&&k(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent);function F(e){var t,r,n,o=e.pinKey,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,E),s=(0,p.Hv)().previous,u=(0,g.N)().saveToBoard,b=(0,i.useDispatch)(),y=null===(t=(0,x.W)())||void 0===t?void 0:t.onPinCreate,P=(0,h.ZP)(),j=(0,_.Z)(),w=(0,a.TH)(),S=(0,c.Z)(),O=(0,m.Z)(),A=(0,f.Z)(N,o),I=(0,v.Z)({hasPin:!!A,pinId:null==A?void 0:A.entityId,boardLayout:null==A?void 0:null===(r=A.board)||void 0===r?void 0:r.layout,boardUrl:null==A?void 0:null===(n=A.board)||void 0===n?void 0:n.url}),T=(0,d.c)();return(0,C.jsx)(Z,D(D({},l),{},{dispatch:b,i18n:P,location:w,makeCancelablePromise:j,mountAfterActionPlacement:T,onDelete:function(){var e;I(),null===(e=l.onDelete)||void 0===e||e.call(l)},onPinCreate:y,pin:A,previousHistory:s,requireAuth:S,saveToBoard:u,viewerId:O.isAuth?O.id:""}))}},272232:function(e,t,r){"use strict";var n,o=r(672652);r(42279);var i=r(998855),a=r.n(i),l=r(684404),s=r(207012),c=r(140017),u=r(437147),d=r(819267),f={sm:32,md:40,lg:48},p=void 0!==n?n:n=r(321046),h=(0,o.memo)((0,o.forwardRef)(function(e,t){var r=e.disabled,n=void 0!==r&&r,o=e.iconOnly,i=e.isCloseupPin,h=e.onBoardUpdated,b=e.onClick,y=e.onSavedClick,_=e.onToggleModal,m=e.onUnsaved,v=e.renderSavedStatus,g=e.saveButtonType,x=void 0===g?"classic":g,P=e.saved,j=e.size,w=e.variant,S=void 0===w?"classic":w,O=e.viewParameter,A=e.pinKey,C=(0,c.ZP)(),E=(0,s.Z)(p,A);if(P&&"controlled"===x)return(0,d.jsx)(l.zx,{disabled:!0,fullWidth:!0,size:"sm",text:C._('Saved', ' - ', ' -- ')});var I=E||{},T=I.carouselData,D=I.savedInfo;return!i&&D&&v&&m&&h&&"classic"===x?(0,d.jsx)(u.Z,{currentCarouselIndex:T&&T.index,onDeleteSavedState:m,onEditSubmit:h,onToggleModal:_,pinId:D.localPinId,variant:"pin",viewParameter:O,children:v()}):P&&"classic"===x&&i?(0,d.jsx)(l.zx,{accessibilityLabel:C._('Saved button', 'saveButton.saved.label', 'Saved state label on save button'),color:"white",fullWidth:!0,onClick:y,size:"md",text:C._('Saved!', 'saveButton.saved', 'Saved state text on save button')}):o?(0,d.jsx)(l.xu,{ref:t,"data-test-id":"SaveButton",children:(0,d.jsx)(l.hU,{accessibilityLabel:C._('Save', 'Accessibility label for the save button', 'Accessibility label for the save button'),bgColor:"white",icon:"pin",iconColor:"darkGray",onClick:function(e){return b(e.event)},size:"md"})}):(0,d.jsx)(l.xu,{display:i?void 0:"flex",justifyContent:"end",children:(0,d.jsx)("div",{ref:t,className:a()("SaveButton",n?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===S}),"data-test-id":"SaveButton",onClick:n?void 0:b,onKeyPress:n?void 0:function(e){(32===e.charCode||13===e.charCode)&&(e.preventDefault(),b(e))},role:"button",tabIndex:"0",children:(0,d.jsx)("div",{className:a()("SaveButton__background",n?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===S}),children:(0,d.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",minHeight:f[void 0===j?"md":j],children:(0,d.jsx)(l.xv,{color:n?"subtle":"inverse",size:"lego"===S?"100":"200",weight:"bold",children:(0,d.jsx)("span",{className:a()("SaveButton__label",{"SaveButton__label--lego":"lego"===S}),children:C._('Save', 'Pin save button label', 'Pin save button label')})})})})})})}));t.Z=h},349920:function(e,t,r){"use strict";r.d(t,{c:function(){return d}});var n=r(672652),o=r(684404),i=r(140017),a=r(339001),l=r(5859),s=r(819267);function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=48,f=(0,n.forwardRef)(function(e,t){var r=e.addButtonRef,n=e.collaboratorCount,u=e.nonDisplayedCollaboratorCount,f=e.displayedCollaborators,p=e.onClick,h=e.showAddButton,b=e.avatarSize,y=(0,i.ZP)(),_=(0,l.B)().isRTL,m=f.map(function(e){return e.name}),v="";switch(u?"default":m.length){case 3:v=(0,a.Wc)(y._('{{ first }}, {{ second }}, and {{ last }}', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames'),{first:"".concat(m[0]),second:"".concat(m[1]),last:"".concat(m[2])});break;case 2:v=(0,a.Wc)(y._('{{ first }} and {{ second }}', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.'),{first:"".concat(m[0]),second:"".concat(m[1])});break;default:v=m.join(", ")}var g=u?(0,a.Wc)(y.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', u, 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.aboveTwoCollaborators', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:v,leftCount:"".concat(u)}):(0,a.Wc)(y._('Collaborators: {{ userNames }}.', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.notAboveTwoCollaborators', 'Accessibility label that lists the names of collaborators'),{userNames:v}),x=f.length>1?[].concat(c(f),c(Array(u).fill({name:"",src:""}))):f,P=(f.length>1||0===n)&&h,j=y._('Invite collaborators.', 'BoardAvatarGroup.AvatarGroup.accessibilityLabel.inviteCollaborators', 'It informs the users that they can invite other collaborators.');return(0,s.jsxs)(o.xu,{"data-test-id":"user-rep-avatar",position:"relative",rounding:"pill",children:[P?(0,s.jsx)(o.xu,{ref:r,height:"sm"===b?32:d,left:_,position:"absolute",right:!_,rounding:"circle",top:!0,width:"sm"===b?32:d}):null,(0,s.jsx)(o.HE,{ref:t,accessibilityLabel:P?"".concat(g," ").concat(j):"".concat(g),addCollaborators:P,collaborators:x,onClick:p,role:"button",size:b||"md"})]})});f.displayName="BoardAvatarGroup",t.Z=f},608823:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(684404),o=r(140017),i=r(337882),a=r(847754),l=r(259078),s=r(819267);function c(e){var t,r,c,u,d,f,p,h=e.avatarSize,b=e.board,y=e.displayedCollaboratorsMaxCount,_=e.handleTapOnInviteAvatarGroup,m=e.label,v=(0,o.ZP)(),g=(0,a.Z)({boardId:null!==(t=b.id)&&void 0!==t?t:"",ownerName:null!==(r=null===(c=b.owner)||void 0===c?void 0:c.full_name)&&void 0!==r?r:"",ownerUsername:null!==(u=null===(d=b.owner)||void 0===d?void 0:d.username)&&void 0!==u?u:"",ownerImgSrc:(null===(f=b.owner)||void 0===f?void 0:f.image_medium_url)||(null===(p=b.owner)||void 0===p?void 0:p.image_small_url)||""}),x=(0,l.Z)({boardCollaboratorCount:b.collaborator_count,collaborators:g}),P=x.displayedCollaborators,j=x.nonDisplayedCollaboratorCount;return(0,s.jsx)(n.kC,{children:(0,s.jsx)(n.iP,{onMouseDown:_,onTap:_,children:(0,s.jsxs)(n.kC,{children:[(0,s.jsx)(i.Z,{avatarSize:h,board:b,displayedCollaborators:y?P.slice(0,y):P,handleShowCollabAndPermissionsModal:function(){},nonDisplayedCollaboratorCount:y?0:j,showPersonAddIconForInvite:!0}),(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},marginStart:"sm"===h?-2:-4,position:"relative",rounding:"circle",children:(0,s.jsx)(n.hU,{accessibilityLabel:v._('Board Invite Icon', 'BoardToolHeader.InviteFriends.Icon.Accessibilitylabel', 'icon showing that user can invite their friends to the board'),bgColor:"lightGray",icon:"person-add",size:h||void 0})}),m&&(0,s.jsx)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginStart:"sm"===h?1:2,children:(0,s.jsx)(n.xv,{lineClamp:1,weight:"bold",children:m})})]})})})}},337882:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(672652),o=r(328038),i=r(684404),a=r(551539),l=r(214877),s=r(510989),c=r(619370),u=r(71024),d=r(340523),f=r(608516),p=r(149722),h=r(785059),b=r(199677),y=r(349920),_=r(374030),m=r(819267);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var x=(0,n.lazy)(function(){return Promise.all([r.e(65292),r.e(69109),r.e(60265)]).then(r.bind(r,107353))});function P(e){var t,r,P,j,w,S,O,A=e.avatarSize,C=e.board,E=e.displayedCollaborators,I=e.nonDisplayedCollaboratorCount,T=e.handleShowCollabAndPermissionsModal,D=e.showPersonAddIconForInvite,k=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(r,2)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),z=k[0],R=k[1],B=(0,p.Z)(),M=(0,n.useRef)(),L=(0,n.useRef)(),N=(0,o.k6)(),Z=(0,h.Z)(),F=(0,l.v)().logContextEvent,U=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled?(0,b.KY)(B,C,Z):(0,a.Z)(B,null===(O=C.owner)||void 0===O?void 0:O.id),H=(U||C.collaborator_invites_enabled&&C.collaborated_by_me)&&!D,G=(P=function(){var e;return N.push(null!==(e=E[0].href)&&void 0!==e?e:"/")},E[0].is_ads_only_profile&&E[0].ads_only_profile_site&&(P=function(){F({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorAvatarGroup"}}),window.open(E[0].ads_only_profile_site,"_blank")}),E.length>1&&(P=function(){return R(!z)}),(U||C.collaborated_by_me)&&(P=T),P),V=[501003];U&&C.is_collaborative&&V.push(502335);var W=E.map(function(e){var t=e.name,r=e.src;return t&&r?{name:t,src:r.endsWith("/default_75.png")?"":r}:{name:t,src:r}});return(0,m.jsxs)(n.Fragment,{children:[(0,m.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[!C.collaborator_count||C.collaborator_count<=101?(0,m.jsx)(y.Z,{ref:M,addButtonRef:L,avatarSize:A,collaboratorCount:C.collaborator_count||0,displayedCollaborators:W,nonDisplayedCollaboratorCount:I,onClick:G,showAddButton:null!=H&&H}):(0,m.jsx)(_.Z,{addButtonRef:L,displayedCollaborators:W,nonDisplayedCollaboratorCount:I,onClick:G,pileRef:M,showAddButton:null!=H&&H}),(0,m.jsx)(u.Z,{anchors:(j={},w=3002,S=L.current,(t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(w,"string"),(w="symbol"===v(t)?t:String(t))in j)?Object.defineProperty(j,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):j[w]=S,j),placementId:18,positionRelativeToAnchor:!1}),(0,m.jsx)(c.default,{anchor:L.current,customWrapper:function(e){var t=e.children;return(0,m.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:new i.Ry(2),children:t})},experienceIds:V,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})]}),z&&(0,m.jsx)(s.Z,{name:"SafeSuspense_CollaboratorAvatarGroup_BoardCollabFlyout",children:(0,m.jsx)(f.Z,{children:(0,m.jsx)(x,{anchor:M.current,board:C,onDismiss:function(){R(!1),M.current&&M.current.focus()}})})})]})}},374030:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(672652),o=r(684404),i=r(140017),a=r(72461),l=r(339001),s=r(5859),c=r(349920),u=r(819267);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e){var t,r=e.addButtonRef,f=e.nonDisplayedCollaboratorCount,p=e.displayedCollaborators,h=e.onClick,b=e.pileRef,y=e.showAddButton,_=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=_[0],v=_[1],g=(0,i.ZP)(),x=(0,a.Z)(),P=(0,s.B)().locale,j=g._('Invite collaborators.', 'DeprecatedBoardCollaboratorFacepile.accessibilityLabel.inviteCollaborators', 'It informs the users that they can invite other collaborators.'),w=(0,l.Wc)(g.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', f, 'DeprecatedBoardCollaboratorFacepile.accessibilityLabel', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:p.map(function(e){return e.name}).join(", "),leftCount:"".concat(f)}),S=function(e){var t=e.children,r=e.hovered;return(0,u.jsxs)(o.xu,{position:"relative",children:[(0,u.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:r?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,rounding:"pill",top:!0}),t]})},O=p.map(function(e,t){var r=e.name,n=e.src;return(0,u.jsx)(o.xu,{"aria-hidden":"true",marginStart:0!==t?-4:void 0,children:(0,u.jsx)(S,{hovered:m&&!!h,children:(0,u.jsx)(o.xu,{color:"default",height:c.c,rounding:"circle",width:c.c,children:(0,u.jsx)(o.qE,{name:r,outline:!0,src:n})})})},"face-".concat(t))});return O.length>1&&f&&O.push((0,u.jsx)(o.xu,{"aria-hidden":"true",zIndex:new o.Ry(1),children:(0,u.jsx)(o.xu,{marginStart:-4,children:(0,u.jsx)(S,{hovered:m&&!!h,children:(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:(0,u.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:c.c,justifyContent:"center",position:"relative",rounding:"circle",width:c.c,children:(0,u.jsx)(o.xv,{size:"300",weight:"bold",children:x(P,f,{shortform:!0})})})})})})},"additionalCount")),O.length>1&&y&&O.push((0,u.jsx)(o.xu,{ref:r,"aria-hidden":"true",zIndex:new o.Ry(1),children:(0,u.jsx)(o.xu,{marginStart:-4,children:(0,u.jsx)(S,{hovered:m,children:(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:(0,u.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:c.c,justifyContent:"center",rounding:"circle",width:c.c,children:(0,u.jsx)(o.JO,{accessibilityLabel:"Add",color:"default",icon:"add",size:20})})})})})},"addIcon")),(0,u.jsx)(o.kC,{alignItems:"center",children:(0,u.jsx)(o.iP,{ref:b,accessibilityLabel:y?"".concat(w," ").concat(j):"".concat(w),onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},onTap:h,rounding:"pill",children:(0,u.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:O})})})}},847754:function(e,t,r){"use strict";r.d(t,{I:function(){return u}});var n=r(340523),o=r(995917),i=r(35222),a=["children"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var c=function(e){var t=e.boardId,r=e.ownerUsername,a=e.ownerName,c=e.ownerImgSrc,u=(0,n.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,d=(0,i.Z)(),f=(0,o.Z)({name:"BoardInvitesResource",options:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({board_id:t,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},u&&d?{orbac_subject_id:d}:{})}),p=f.data,h=f.isLoaded,b=[{name:a,src:c,href:"/".concat(r,"/"),isDim:!1}];return h&&p&&p.length>0&&p.forEach(function(e){b.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?"/".concat(e.invited_user.username,"/"):"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),b};function u(e){return(0,e.children)(c(function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,a)))}t.Z=c},569619:function(e,t,r){"use strict";r.d(t,{Z:function(){return eN}});var n=r(672652),o=r(684404),i=r(214877),a=r(515278),l=r(554786),s=r(149722),c=r(563322),u=r(761203),d=r(140017),f=r(524383),p=r(915986),h=r(995917),b=r(819267);function y(e){var t=e.selected,r=(0,d.ZP)();return(0,b.jsx)(o.JO,{accessibilityLabel:r._('Dense', 'Label for selecting the dense pin density view', 'Label for selecting the dense pin density view'),color:t?"default":"subtle",icon:"view-type-dense",size:24})}function _(e){var t=e.selected,r=(0,d.ZP)();return(0,b.jsx)(o.JO,{accessibilityLabel:r._('Regular', 'Label for selecting the regular pin density view', 'Label for selecting the regular pin density view'),color:t?"default":"subtle",icon:"view-type-default",size:24})}var m=r(54966),v=r(881157);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){A(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,r){return(t=C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=O(a);if(t){var n=O(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return S(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return A(S(e=i.call.apply(i,[this].concat(r))),"handleItemChange",function(t){var r,n,o,i,a=t.activeIndex,l=e.props,s=l.viewType,c=l.component,u=l.pinView,d=l.logContextEvent,f=0===a?"regular":"dense";(0,m.Z)({boardDensity:f,component:c,viewType:s},d),(0,v.Z)({density:f,surface:u}),"board"===u?null===(r=(n=e.props).updateBoardPinDensity)||void 0===r||r.call(n,f):null===(o=(i=e.props).updateProfilePinDensity)||void 0===o||o.call(i,f)}),e}return r=[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.metadata,r=e.pinView,n=e.updatedBoardPinDensity,o=e.updateBoardPinDensity,i=e.updateProfilePinDensity;if(t&&t.data&&""===n){var a=t.data,l=a.profile_pin_rep_view_type,s=a.board_pin_rep_view_type;"board"===r&&(l?null==o||o(l):null==o||o("regular")),"profile"===r&&(s?null==i||i(s):null==i||i("regular"))}}},{key:"render",value:function(){var e=this.props,t=e.metadata,r=e.updatedBoardPinDensity;return t&&t.data?(0,b.jsx)("div",{className:"OwnBoardSelector",children:(0,b.jsx)(o.sY,{items:[(0,b.jsx)(_,{selected:"regular"===r}),(0,b.jsx)(y,{selected:"dense"===r})],onChange:this.handleItemChange,responsive:!0,selectedItemIndex:"dense"===r?1:0})}):null}}],j(a.prototype,r),n&&j(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function I(e){var t,r=(0,c.x)(),n=(0,i.v)().logContextEvent,o=(0,s.Z)(),a=(0,h.Z)({name:"UserMetadataResource",options:{user:{id:o.isAuth?o.username:""}},noCache:!0}),l=null!==(t="board"===e.pinView?null==r?void 0:r.boardPinDensity:null==r?void 0:r.profilePinDensity)&&void 0!==t?t:"";return(0,b.jsx)(E,P(P({},e),{},{logContextEvent:n,metadata:a,updateBoardPinDensity:null==r?void 0:r.setBoardPinDensity,updatedBoardPinDensity:l,updateProfilePinDensity:null==r?void 0:r.setProfilePinDensity}))}function T(e){var t=e.board,r=e.currentView,i=e.inBoardOrganizationMode,a=e.onContentViewChange,l=e.onOrganizeClick,c=e.pinCount,u=e.showSortOptions,h=(0,d.ZP)(),y=(0,s.Z)();return(0,b.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,b.jsx)(o.xu,{flex:"grow",paddingX:1,children:(0,b.jsx)(o.X6,{children:h._('Pins', 'Heading for Pins outside of board sections on board page', 'Heading for Pins outside of board sections on board page')})}),u&&(0,f.tk)(c)&&(0,b.jsx)(o.xu,{paddingX:2,children:(0,b.jsx)(f.ZP,{board:t,currentView:r,onChange:a,viewer:y})}),c>=p.Ev&&(0,b.jsxs)(n.Fragment,{children:[c>=p.IK&&(0,b.jsx)(I,{component:13183,pinView:"board",viewType:5}),!i&&(0,b.jsx)(o.xu,{paddingX:2,children:(0,b.jsx)(o.zx,{fullWidth:!0,onClick:l,text:h._('Organize', 'The board organization button', 'The board organization button')})})]})]})}var D=r(780277),k=r(67030),z=r(466385),R=r(785059),B=r(199677),M=r(402287),L=r(937310),N=r(718545),Z=r(853703),F=r(776569),U=r(507584),H=r(477458),G=function(e){var t=e.children,r=e.shouldNavigate,n=e.to;return r?(0,b.jsx)(o.Tg,{href:n,children:t}):t},V=r(427514),W=function(e){var t=(0,d.ZP)(),r=e.numberOfSelectedPins;return(0,b.jsx)(o.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:(0,b.jsx)(o.xu,{color:"default",padding:3,rounding:"pill",children:(0,b.jsx)(o.xv,{weight:"bold",children:(0,V.Z)(t.ngettext('Move {{ count }} Pin here', 'Move {{ count }} Pins here', r, 'Call to action overlay on a section to move selected Pins', 'Call to action overlay on a section to move selected Pins'),{count:r})})})})},q={compact:157,wide:141},K={compact:118,wide:106};function Y(e){return"dense"===e?2:3}function X(e){return(("dense"===e?K.compact:K.wide)+1)*Y(e)-1}function $(e){var t=e.ariaLabel,r=e.isHovered,n=e.mode,i=e.pins,a=Y(n),l="dense"===n,s=l?q.compact:q.wide,c=l?K.compact:K.wide,u=X(n),d=Array.from(Array(a),function(e,t){var r,n,l,u=t===a-1,d=i[t]||{},f=d.description,p=d.image_large_url,h=d.image_large_size_pixels,y=d.image_medium_url,_=d.image_medium_size_pixels,m=f?f.trim():"";return(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:u?void 0:1}},"data-test-id":m?"pin-with-alt-text":"pin-missing-alt-text",children:(0,b.jsx)(o.zd,{height:s,rounding:0,wash:!0,width:c,children:h&&(0,b.jsx)(o.Ee,{alt:null!=f?f:"",color:"transparent",fit:"cover",naturalHeight:null!==(r=_?_.height:h.height)&&void 0!==r?r:1,naturalWidth:null!==(n=_?_.width:h.width)&&void 0!==n?n:1,src:null!==(l=null!=y?y:p)&&void 0!==l?l:""})})},t)});return(0,b.jsx)(o.zd,{rounding:4,width:u,children:(0,b.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,b.jsx)(o.xu,{"aria-label":t,"aria-required":"true",bottom:!0,dangerouslySetInlineStyle:{__style:r?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,top:!0}),d]})})}var J=r(5859),Q=r(748599);function ee(e){var t=e.children;return"dense"===e.mode?(0,b.jsx)(o.xv,{weight:"bold",children:t}):(0,b.jsx)(o.X6,{accessibilityLevel:2,lineClamp:1,size:"400",children:t})}function et(e){var t=e.children,r=e.displayEditIcon,n=e.mode,i=e.mouseCursor,a=e.onEditClick,l=e.onTouch,s=e.pinCount,c=e.title,u=(0,d.ZP)(),f=(0,J.B)().isRTL,p=(0,b.jsxs)(o.xu,{children:[(0,b.jsxs)(o.xu,{position:"relative",children:[t,r&&(0,b.jsx)(o.xu,{bottom:!0,left:f,position:"absolute",right:!f,children:(0,b.jsx)(o.xu,{padding:2,children:(0,b.jsx)(o.hU,{accessibilityHaspopup:!0,accessibilityLabel:u._('Edit', 'BoardSectionCard.SectionRep.EditIcon', 'accessibility label for the board section name edit button'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:a,size:"sm"})})})]}),(0,b.jsx)(o.kC,{alignItems:"start",justifyContent:"between",width:X(n),children:(0,b.jsxs)(o.xu,{flex:"grow",padding:2,children:[(0,b.jsx)(ee,{mode:n,children:c}),(0,b.jsx)(o.xu,{marginTop:1,children:(0,b.jsx)(Q.i,{count:s,size:"100"})})]})})]});return l?(0,b.jsx)(o.iP,{fullWidth:!1,mouseCursor:i,onTap:l,rounding:4,children:p}):p}var er=function(e){var t,r,i,a,l,u,d,f=e.board,p=e.boardSection,h=e.canEdit,y=e.focused,_=e.hovered,m=e.inOrganizationMode,v=e.isDragging,g=e.isMergeTarget,x=e.onBlur,P=e.oneTapMovePinsHandler,j=e.onFocus,w=e.onMouseEnter,S=e.onMouseLeave,O=e.onShowEditSectionModal,A=(0,s.Z)(),C=(0,R.Z)(),E=(0,B.lJ)(A,C),I=E&&(0,k.Z)(f.privacy)?"?orbac_subject_id=".concat(E):"",T=p.slug,D=p.title,z=p.preview_pins,M=void 0===z?[]:z,L=null!==(t=null===(r=(0,c.x)())||void 0===r?void 0:r.boardPinDensity)&&void 0!==t?t:"",N=P&&P.numberOfSelectedPins;N&&P&&(d=function(){P.moveToSection(p)});var Z="pointer";v?Z="grabbing":!N&&m&&(Z="grab");var F=P&&P.numberOfSelectedPins>0&&!!N&&_&&!v&&(0,b.jsx)(W,{numberOfSelectedPins:P.numberOfSelectedPins});return(0,b.jsx)(o.xu,{alignItems:"center",color:"default","data-test-id":"section-".concat(null!==(i=p.title)&&void 0!==i?i:""),direction:"row",display:"flex",onBlur:x,onFocus:j,onMouseEnter:w,onMouseLeave:S,position:"relative",rounding:2,children:(0,b.jsx)(G,{shouldNavigate:!m,to:"".concat(null!==(a=f.url)&&void 0!==a?a:"").concat(null!=T?T:"","/").concat(I),children:(0,b.jsx)(et,{displayEditIcon:!!h&&!v&&(_||y),mode:L,mouseCursor:Z,onEditClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),O(p)},onTouch:d,pinCount:null!==(l=p.pin_count)&&void 0!==l?l:0,title:null!=D?D:"",children:(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)($,{ariaLabel:"section-".concat(null!==(u=p.title)&&void 0!==u?u:""),isHovered:_||g||y,mode:L,pins:null!=M?M:[]}),F]})})})})};function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(r),!0).forEach(function(t){eu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ed(n.key),n)}}function el(e,t){return(el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function es(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e,t,r){return(t=ed(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ed(e){var t=function(e,t){if("object"!==en(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==en(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===en(t)?t:String(t)}var ef=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&el(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ec(a);if(t){var n=ec(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===en(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return es(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eu(es(e=i.call.apply(i,[this].concat(r))),"state",{dragDrop:null,sectionIds:e.props.sections.map(function(e){var t;return null!==(t=e.id)&&void 0!==t?t:""})}),eu(es(e),"cancelHoverTimeout",function(){var t=es(e).dragHoverTimeout;t&&clearTimeout(t.timeoutId),e.dragHoverTimeout=null}),eu(es(e),"dragHoverTimeout",null),eu(es(e),"isDragging",function(){return!!e.state.dragDrop}),eu(es(e),"handleSectionDragBegin",function(t){e.setState({dragDrop:{previewIndex:t,sourceIndex:t,target:null}})}),eu(es(e),"handleSectionDragHover",function(t,r){var n=e.state.dragDrop,o=e.props.allowReordering;if(r&&n){var i=n.previewIndex,a=(0,Z.TI)({hoverRelativePosition:r,centerEnabled:t!==i&&o}),l={itemIndex:t,regionWithinItem:a};if(!(e.dragHoverTimeout&&(0,Z.Lz)(l,e.dragHoverTimeout.hoverLocation))){e.cancelHoverTimeout();var s="center"===a?"merge":"reorder",c={action:s,index:(0,Z.X3)({hoverLocation:l,sourceIndex:i})};if(c.index===i){n.target&&n.target.index!==c.index&&e.setState({dragDrop:ei(ei({},n),{},{target:c})});return}e.dragHoverTimeout={hoverLocation:l,timeoutId:setTimeout(function(){e.dragHoverTimeout=null,"reorder"===s?e.setState(function(e){var t=e.dragDrop,r=e.sectionIds;return{dragDrop:ei(ei({},t),{},{target:c,previewIndex:c.index}),sectionIds:(0,z.Z)(r,i,c.index)}}):e.setState(function(e){return{dragDrop:ei(ei({},e.dragDrop),{},{target:c})}})},"reorder"===s?200:20)}}}}),eu(es(e),"handleSectionDragEnd",function(t){var r=e.props,n=r.sections,o=r.onShowMergeSectionsConfirmationModal,i=r.onSectionReorder,a=e.state,l=a.dragDrop,s=a.sectionIds,c=l&&l.target;if(e.cancelHoverTimeout(),!t||!l||!c||c.index===l.sourceIndex){e.setState({dragDrop:null,sectionIds:n.map(function(e){var t;return null!==(t=e.id)&&void 0!==t?t:""})});return}var u=l.previewIndex,d=l.sourceIndex,f=c.action,p=c.index;if(e.setState({dragDrop:null}),"merge"===f){var h=function(e){var t=s[e];return t&&n.find(function(e){return e.id===t})},b=h(u),y=h(p);b&&y&&o(b,y)}else i(d,p)}),eu(es(e),"renderSection",function(t,r){var n=e.props,i=n.allowReordering,a=n.board,l=n.canEdit,s=n.oneTapMovePinsHandler,c=n.onShowEditSectionModal,u=n.organizeMode,d=e.state.dragDrop,f=d&&d.target;return(0,b.jsx)(o.xu,{padding:2,children:(0,b.jsx)(H.q,{children:function(n){var o=n.focused,d=n.hovered,p=n.onBlur,h=n.onFocus,y=n.onMouseEnter,_=n.onMouseLeave;return(0,b.jsx)(er,{allowReordering:i,board:a,boardSection:t,canEdit:l,focused:o,hovered:d,inOrganizationMode:u,isDragging:e.isDragging(),isMergeTarget:!!f&&"merge"===f.action&&r===f.index,onBlur:function(e){var t=e.currentTarget;setTimeout(function(){t.contains(document.activeElement)||p()},0)},oneTapMovePinsHandler:s,onFocus:h,onMouseEnter:y,onMouseLeave:_,onShowEditSectionModal:c})}})})}),e}return r=[{key:"componentDidUpdate",value:function(e){var t=e.sections,r=this.props.sections,n=function(e){return e.map(function(e){return e.id}).join(",")};if(t.length!==r.length&&n(t)!==n(r)){this.cancelHoverTimeout();var o=r.map(function(e){var t;return null!==(t=e.id)&&void 0!==t?t:""});this.setState({dragDrop:null,sectionIds:o})}}},{key:"componentWillUnmount",value:function(){this.cancelHoverTimeout()}},{key:"render",value:function(){var e=this,t=this.props,r=t.allowReordering,n=t.connectDropTarget,i=t.isDragWithinBounds,a=t.sections,l=this.state.sectionIds,s=this.isDragging(),c=a.reduce(function(e,t){return t.id?ei(ei({},e),{},eu({},t.id,t)):e},{}),u=(0,b.jsx)(o.xu,{display:"flex",justifyContent:"center",marginEnd:6,marginStart:6,wrap:!0,children:l.map(function(e){return c[e]}).filter(function(e){return!!e}).map(function(t,n){return(0,b.jsx)(o.xu,{children:r?(0,b.jsx)(N.Z,{index:n,onDragBegin:e.handleSectionDragBegin,onDragEnd:e.handleSectionDragEnd,onDragHover:e.handleSectionDragHover,type:N.y.Section,children:(0,b.jsx)("div",{style:{opacity:s&&!i?.5:1},children:e.renderSection(t,n)})}):(0,b.jsx)(o.xu,{children:e.renderSection(t,n)})},t.id)})});return(0,b.jsxs)(o.xu,{width:"100%",children:[r&&n?n((0,b.jsx)("div",{children:u})):u,s&&(0,b.jsx)(F.Z,{})]})}}],ea(a.prototype,r),n&&ea(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component),ep=(0,U.Z)(N.y.Section)(ef);function eh(e){var t=(0,d.ZP)(),r=e.allowReordering,n=e.fetchMore,i=e.isAtEnd,a=e.isFetching;return(0,b.jsxs)(o.xu,{width:"100%",children:[(0,b.jsx)(o.gr,{fetchMore:n,isAtEnd:i,isFetching:a}),r?(0,b.jsx)(ep,ei({},e)):(0,b.jsx)(ef,ei({},e)),a&&!i&&(0,b.jsx)(o.xu,{paddingY:6,position:"relative",children:(0,b.jsx)(o.$j,{accessibilityLabel:t._('Loading sections', 'loading state for board sections', 'loading state for board sections'),show:!0})})]})}function eb(e){return(eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(r),!0).forEach(function(t){eP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ey(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function em(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ej(n.key),n)}}function ev(e,t){return(ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eg(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ex(e){return(ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eP(e,t,r){return(t=ej(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ej(e){var t=function(e,t){if("object"!==eb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eb(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eb(t)?t:String(t)}var ew=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ev(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ex(a);if(t){var n=ex(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eb(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eg(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eP(eg(e=i.call.apply(i,[this].concat(r))),"handleSectionReorder",function(t,r){var n=e.props,o=n.board,i=n.dispatch,a=n.enableReordering,l=n.sections,s=n.viewParameter;if(a){var c=l[t].id,u=l[r].id,d=(0,z.Z)(l,t,r).map(function(e){return e.id}),f=d.indexOf(c),p=function(e){return e>=0&&e<d.length},h=e_(e_({boardId:o.id,sourceSectionId:c,targetSectionId:u},p(f+1)?{sectionIdAfter:d[f+1]}:{}),p(f-1)?{sectionIdBefore:d[f-1]}:{}),b={object_id_str:c,view_type:5,view_parameter:s};i((0,M.e1)(h)).then(function(){return e.props.logContextEvent(e_({event_type:7133},b))})}}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.sectionsInvalidated,r=e.onLoadedAll,n=e.sectionsResource,o=n.isFetching,i=n.refresh,a=n.isAtEnd;t&&!o&&i(),a&&r()}},{key:"componentDidUpdate",value:function(e){!this.props.sectionsInvalidated||e.sectionsInvalidated||this.props.isFetching||this.props.refreshData(),!e.sectionsResource.isAtEnd&&this.props.sectionsResource.isAtEnd&&this.props.onLoadedAll()}},{key:"render",value:function(){var e,t=this.props,r=t.board,n=t.enableReordering,i=t.inBoardOrganizationMode,a=t.oneTapMovePinsHandler,l=t.onShowEditSectionModal,s=t.onShowMergeSectionsConfirmationModal,c=t.sections,u=t.sectionsResource,d=t.viewer,f=t.orbacActingAs,p=u.isLoaded,h=u.isFetching,y=u.fetchMore,_=u.isAtEnd;if(!p)return this.props.i18n._('Board sections loading spinner', 'BoardPage.BoardSections.loadingSpinner', 'Accessibility label for the spinner on board sections'),(0,b.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Board sections loading spinner', ' - ', ' -- '),show:!0});var m=(r.access||[]).includes("write")||(0,B.D3)(d,(null===(e=r.owner)||void 0===e?void 0:e.id)||"",f);return(0,b.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",children:(0,b.jsx)(eh,{allowReordering:n,board:r,canEdit:m,fetchMore:y,isAtEnd:_,isFetching:h,oneTapMovePinsHandler:a,onSectionReorder:this.handleSectionReorder,onShowEditSectionModal:l,onShowMergeSectionsConfirmationModal:s,organizeMode:i,sections:c})})}}],em(a.prototype,r),n&&em(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function eS(e){var t=(0,i.v)().logContextEvent,r=(0,d.ZP)(),n=(0,s.Z)(),o=(0,R.Z)(),a=(0,B.lJ)(n,o),l=e.board,c=(0,h.Z)({name:"BoardSectionsResource",options:e_({board_id:e.board.id,redux_normalize_feed:!0},(0,k.Z)(l.privacy)&&a?{orbac_subject_id:a}:{})}),u=(0,D.useSelector)(function(t){return t.feeds["".concat(L.Z.BOARD_SECTIONS,":").concat(e.board.id)]}),f=(0,D.useSelector)(function(e){return(u||[]).reduce(function(t,r){return"boardsection"===r.type&&e.boardsections[r.id]?t.concat([e.boardsections[r.id]]):t},[])}),p=(0,D.useDispatch)();return(0,b.jsx)(ew,e_(e_({},e),{},{dispatch:p,i18n:r,logContextEvent:t,orbacActingAs:o,sections:f,sectionsInvalidated:null===u,sectionsResource:c,viewer:n}))}var eO=r(693138),eA=r(747794),eC=r(730006),eE=r(313669),eI=r(163215);function eT(e){return(eT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ek(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==eT(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eT(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eT(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ez(e){var t=(0,s.Z)(),r=(0,R.Z)(),n=(0,B.lJ)(t,r),o=(0,h.Z)({name:"BoardFeedResource",options:(0,eC.q)(e.board,e.viewer,e.currentView,e.currentFilter,n)}),i=(0,D.useSelector)(function(t){var r=t.feeds,n=t.desktopStories;return(0,eI.Z)(r["".concat(L.Z.BOARDFEED,":").concat(e.board.id)],n)});return(0,b.jsx)(eE.Z,ek(ek(ek({},e),i),{},{resource:o}))}ez.displayName="BoardSectionlessPinGrid";var eR=r(276552),eB=r(653585),eM=r(915625);function eL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eN(e){var t,r,d=e.actions,f=e.board,h=e.bulkEditSelectedPins,y=e.currentFilter,_=e.currentView,m=e.displayActionBar,v=e.enableReordering,g=e.inBoardOrganizationMode,x=e.inSectionOrganizationMode,P=e.inSelectAll,j=e.isOwnBoard,w=e.isPinGridSorted,S=e.onBulkEditPinClick,O=e.onContentViewChange,A=e.oneTapMovePinsHandler,C=e.onShowEditSectionModal,E=e.onShowMergeSectionsConfirmationModal,I=e.refreshFilteredFeed,D=e.viewParameter,k=(0,u.gC)()(f.id),z=(k?k.section_count:f.section_count)||0,R=null===(r=(0,c.x)())||void 0===r?void 0:r.boardPinDensity,B=(0,i.v)().logContextEvent,M=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(0===z))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eL(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),L=M[0],N=M[1],Z=(0,a.Z)(),F=(0,eR.Z)(f.url),U=(0,s.Z)(),H=(0,l.ZP)(),G=f.is_collaborative,V=f.pin_count,W=(f.access||[]).includes("write"),q=j||f.collaborated_by_me,K=!!("number"==typeof V&&V>=p.Oj&&G&&q);return(0,b.jsxs)(o.xu,{marginBottom:12,children:[(0,b.jsx)(eA.Z,{setMaxWidth:!1,children:(0,b.jsxs)(o.xu,{children:[z>0&&(!y||y===eO.cg)&&(0,b.jsx)(eS,{board:f,enableReordering:v,inBoardOrganizationMode:g,oneTapMovePinsHandler:A,onLoadedAll:function(){return N(!0)},onShowEditSectionModal:C,onShowMergeSectionsConfirmationModal:E,viewParameter:D}),m&&L&&q&&z>0&&(0,b.jsx)(T,{board:f,currentView:_,inBoardOrganizationMode:g,onContentViewChange:O,onOrganizeClick:function(){if(Z){Z();return}var e=d.onBoardOrganizeClick;B({event_type:101,component:69,element:400}),e&&e(!0)},pinCount:null!=V?V:0,showSortOptions:K})]})}),"desktop"===H&&L&&(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"8px"}},"data-test-id":"board-feed",paddingX:3,position:"relative",children:(0,b.jsx)(ez,{board:f,bulkEditSelectedPins:h,currentFilter:y,currentView:_,denseViewSelected:W&&"dense"===R,inBoardOrganizationMode:g,inSectionOrganizationMode:x,inSelectAll:P,isOwnBoard:j,isPinGridSorted:w,onBulkEditPinClick:S,refreshFilteredFeed:I,renderFooterStory:function(e){return g||f.archived_by_me_at||!q?null:(0,b.jsx)(o.xu,{marginBottom:6,children:(0,b.jsx)(eA.Z,{children:(0,b.jsx)(eM.Z,{collection:f,storyId:e,url:F})})})},renderMoreIdeas:function(e){return(0,b.jsx)(o.xu,{marginBottom:6,children:(0,b.jsx)(eB.Z,{storyId:e})})},viewer:U,viewParameter:D})})]})}},10568:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(672652),o=r(684404),i=r(214877),a=r(140017),l=r(915986),s=r(819267);function c(e){var t=e.anchor,r=e.hideAddSectionTooltip,n=(0,a.ZP)();return(0,s.jsx)(o.mh,{children:(0,s.jsx)(o.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(o.Li,{anchor:t,idealDirection:"down",message:n._('Tap + to add a section any time', 'boardActionsButton.addIconButton.addSectionFlyout', 'Flyout to point out where you can find add section'),onDismiss:r})})})}var u=r(406718);function d(e){var t=e.anchor,r=e.idealDirection,i=e.onAddOrEditDate,l=e.onAddSection,c=e.onClose,d=e.onCreateBoard,f=e.onCreatePin,p=e.onCreateStoryPin,h=e.surface,b=e.isWithinFixedContainer,y=(0,a.ZP)(),_=(0,u.Z)(!0),m=(0,n.useMemo)(function(){return{pin:y._('Pin', 'BoardActionsButton.LegoFlyout.Pin', 'Option to create a pin'),rename:y._('Idea Pin', 'BoardActionsButton.LegoFlyout.IdeaPin', 'Option to create a Idea Pin'),board:y._('Board', 'profileHeader.actionBar.board', 'Option to create a board'),section:y._('Section', 'BoardActionsButton.LegoFlyout.Section', 'Option to create a board section'),date:y._('Date', 'BoardActionsButton.LegoFlyout.Date', 'Option to add a date to a board'),todos:y._('To-dos', 'BoardActionsButton.LegoFlyout.Note', 'Option to create a board note'),new:y._('New', 'BoardActionsButton.LegoFlyout.New', 'New option indicator')}},[y]);return(0,s.jsxs)(o.Lt,{anchor:t,id:"board_actions",idealDirection:r||"down",isWithinFixedContainer:b,onDismiss:c,zIndex:new o.Ry(1),children:[(0,s.jsx)(o.Lt.Section,{label:y._('Create', 'BoardActionsButton.LegoFlyout.Create', 'Label for a list of options to create a pin or a section'),children:[!_&&(0,s.jsx)(o.Lt.Item,{dataTestId:"Create Pin",onSelect:function(){f(),c()},option:{label:m.pin,value:m.pin}},"actions-create-0"),p&&(0,s.jsx)(o.Lt.Item,{dataTestId:"Create Story Pin",onSelect:function(){p(),c()},option:{label:_?m.pin:m.rename,value:_?m.pin:m.rename}},"actions-create-1"),"profileBoards"===h&&d&&(0,s.jsx)(o.Lt.Item,{dataTestId:"Create board",onSelect:function(){d(),c()},option:{label:m.board,value:m.board}},"actions-create-2")].filter(Boolean)}),"board"===h&&(0,s.jsx)(o.Lt.Section,{label:y._('Add', 'BoardActionsButton.LegoFlyout.Add', 'Label for a list of options to add board sections or a board date'),children:[l&&(0,s.jsx)(o.Lt.Item,{dataTestId:"addSection",onSelect:function(){l(),c()},option:{label:m.section,value:m.section}},"actions-add-1"),!!i&&(0,s.jsx)(o.Lt.Item,{onSelect:function(){i(),c()},option:{label:m.date,value:m.date}},"actions-add-2")].filter(Boolean)})]})}var f=r(619370),p=r(588380);function h(e){var t=e.anchor,r=(0,p.JI)();return(0,s.jsx)(o.mh,{children:(0,s.jsx)(o.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(f.default,{anchor:t,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:function(){r(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function b(e){var t=e.anchor;return(0,s.jsx)(o.mh,{children:(0,s.jsx)(o.xu,{position:"absolute",top:!0,zIndex:l.bW,children:(0,s.jsx)(f.default,{anchor:t,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var y=r(971504);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e){var t,r,l,u=e.children,f=e.idealDirection,p=e.onAddOrEditDate,m=e.onAddSection,v=e.onCreateBoard,g=e.onCreatePin,x=e.onCreateStoryPin,P=e.onOpen,j=void 0===P?function(){}:P,w=e.surface,S=e.isWithinFixedContainer,O=(0,a.ZP)(),A=null!==(r=(0,y.L)())&&void 0!==r?r:{},C=A.showCreateSectionTooltip,E=A.setShowCreateSectionTooltip,I=(0,i.v)().logContextEvent,T=function(){return E(!1)},D=(0,n.useRef)(),k=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),z=k[0],R=k[1],B=function(){j(),C&&T(),R(!0),I({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4})},M=function(){return R(!1)},L=function(){z?M():B()},N={board:O._('Board Actions', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget', 'button that allows user view actions on a board such as add section, create pin, create pincode, and create widget'),profileBoards:O._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),profilePins:O._('Profile Actions', 'profileHeader.actionBar.createButton', 'Button on user\'s profile to open flyout with options to create a pin or a board'),section:O._('Create Pin', 'Button to begin pin creation flow', 'Button to begin pin creation flow')},Z=u&&u({active:z,openFlyout:L})||(0,s.jsx)(o.hU,{accessibilityLabel:N[w],icon:"add",iconColor:"gray",onClick:"section"===w?g:L,size:"lg"});return!z&&"board"===w&&(C?l="addSectionTooltip":p&&(l="planningActionsExperience")),z||"profileBoards"!==w||(l="createBoardTooltip"),(0,s.jsxs)(o.xu,{"data-test-id":"boardActionsButton",children:[(0,s.jsx)(o.xu,{ref:D,children:Z}),z&&(0,s.jsx)(d,{anchor:D.current,idealDirection:f,isWithinFixedContainer:!!S,onAddOrEditDate:p,onAddSection:m,onClose:M,onCreateBoard:v,onCreatePin:g,onCreateStoryPin:x,surface:w}),"addSectionTooltip"===l&&(0,s.jsx)(c,{anchor:D.current,hideAddSectionTooltip:T}),"planningActionsExperience"===l&&(0,s.jsx)(b,{anchor:D.current}),"createBoardTooltip"===l&&(0,s.jsx)(h,{anchor:D.current})]})}},919079:function(e,t,r){"use strict";r.d(t,{Z:function(){return tF}});var n=r(672652),o=r(14583),i=r(976439),a=r(684404),l=r(930837),s=r(140017),c=r(340523),u=r(995917),d=r(149722),f=r(785059),p=r(35222),h=r(199677),b=r(388769),y=r(339001),_=r(860910),m=r(819267),v=function(e){var t=e.handleClick,r=e.selectedBoard,n=e.sourceBoard,o=e.targetBoardCandidates,i=(0,s.ZP)(),l=(0,m.jsx)(a.xv,{inline:!0,weight:"bold",children:null==n?void 0:n.name}),c=(0,m.jsx)(a.xv,{inline:!0,weight:"bold",children:null==n?void 0:n.pin_count});return 0===o.length?(0,m.jsx)(a.xv,{children:i._('There is no board to merge this board into.', 'BoardMergeModal.NoBoards.Text', 'helper text for selecting merge target board')}):n?(0,m.jsxs)(a.xu,{marginEnd:4,marginStart:4,maxHeight:532,maxWidth:540,children:[(0,m.jsx)(a.xv,{align:"center",size:"300",children:(0,y.nk)(i._('Your board {{ sourceBoardName }} and all {{ sourceBoardPinCount }} pins will be gone for good. You won\u2019t be able to get them back.', 'BoardMergeModal.Merge.Text', 'helper text for merging board'),{sourceBoardName:l,sourceBoardPinCount:c})}),(0,m.jsx)(a.xu,{marginStart:2,marginTop:4,children:(0,m.jsx)(a.xv,{size:"100",children:i._('All boards', 'MergeModal.AllBoards.Text', 'all boards section title')})}),o.map(function(e){var n,o;return(0,m.jsx)(a.iP,{onTap:function(){return t(e)},children:(0,m.jsxs)(a.xu,{alignItems:"center",color:(null==r?void 0:r.id)===e.id?"secondary":"transparent",display:"flex",height:64,justifyContent:"between",padding:2,rounding:2,children:[(0,m.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:[(0,m.jsx)(a.zd,{height:48,rounding:2,width:48,children:(0,m.jsx)(a.Ee,{alt:i._('Board Cover Image', 'MergeModal.Board.CoverImage', 'board cover image'),color:"steelblue",fit:"cover",naturalHeight:48,naturalWidth:48,src:e.image_cover_url||""})}),(0,m.jsxs)(a.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,children:[(0,m.jsx)(a.xu,{marginBottom:1,children:(0,m.jsx)(a.xv,{size:"300",weight:"bold",children:e.name})}),(0,m.jsx)(a.xv,{size:"100",children:(0,y.nk)(i.ngettext('{{ count }} Pin', '{{ count }} Pins', null !== (n = e.pin_count) && void 0 !== n ? n : 0, 'boardEdit.boardMergeModalBody.pinCount', 'label for n amount of pins'),{count:(0,m.jsx)(b.Z,{value:null!==(o=e.pin_count)&&void 0!==o?o:0})})})]})]}),(0,m.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:["secret"===e.privacy&&(0,m.jsx)(a.xu,{marginEnd:3,children:(0,m.jsx)(a.JO,{accessibilityLabel:i._('Private board icon', 'MergeModal.Board.Private.Icon', 'private board accesibility label'),color:"default",icon:"lock"})}),e.is_collaborative&&(0,m.jsx)(a.xu,{marginEnd:3,children:(0,m.jsx)(_.Z,{board:e,isCompact:!0})}),!!e.section_count&&(0,m.jsx)(a.JO,{accessibilityLabel:i._('Board section icon', 'MergeModal.Board.Section.Icon', 'board secetion accesibility label'),color:"default",icon:"arrow-forward"})]})]})},e.id)})]}):null};function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){A(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,r){return(t=C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=O(i);if(t){var n=O(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return S(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return A(S(e=o.call.apply(o,[this].concat(r))),"state",{selectedTargetBoard:null}),A(S(e),"handleChange",function(t){e.setState({selectedTargetBoard:t})}),A(S(e),"handleSubmit",function(){var t=e.props.onSubmit,r=e.state.selectedTargetBoard;r&&t(r)}),A(S(e),"renderModalBody",function(){var t=e.props,r=t.boardsResource,n=t.sourceBoardId,o=e.state.selectedTargetBoard,i=r.data;if(!i)return(0,m.jsx)(a.$j,{accessibilityLabel:e.props.i18n._('Loading board list', 'spinner accessibility label', 'spinner accessibility label'),show:!0});var l=i.find(function(e){return e.id===n}),s=i.filter(function(e){return e.id!==n&&!e.is_ads_only});return(0,m.jsx)(v,{handleClick:e.handleChange,selectedBoard:o,sourceBoard:l,targetBoardCandidates:s})}),e}return r=[{key:"render",value:function(){var e=this.props.onCancel,t=this.state.selectedTargetBoard,r=(0,m.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"between",padding:6,children:[(0,m.jsx)(a.xu,{}),(0,m.jsx)(a.X6,{size:"500",children:this.props.i18n._('Combine boards', 'BoardMergeModal.CombineBoards', 'title for board merging modal')}),(0,m.jsx)(a.iP,{accessibilityLabel:this.props.i18n._('Close merge boards modal', 'BoardMergeModal.Close.TapArea', 'close icon for board merging modal'),fullWidth:!1,onTap:e,children:(0,m.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Close merge boards modal', 'BoardMergeModal.Close.Label', 'close icon for board merging modal'),color:"default",icon:"cancel",size:18})})]});return(0,m.jsx)(l.ZP,{accessibilityModalLabel:this.props.i18n._('Move Pins to', 'BoardEdit.BoardMergeModal.accessibilityLabel', 'accessibility label for board merging modal'),footer:(0,m.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,m.jsx)(a.zx,{color:"red",disabled:!t,onClick:this.handleSubmit,size:"lg",text:this.props.i18n._('Done', 'BoardMergeModal.Button.Submit', 'button for merging a board')})}),heading:r,onDismiss:e,children:(0,m.jsx)(a.xu,{padding:8,children:this.renderModalBody()})})}}],j(i.prototype,r),n&&j(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function I(e){var t=(0,s.ZP)(),r=(0,p.Z)(),n=(0,d.Z)(),o=(0,f.Z)(),i=(0,h.Ms)(n,o),a=P({privacy_filter:"all",sort:"alphabetical",field_set_key:"detailed",username:"me"},(0,c.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled?{orbac_subject_id:r,username:i}:{}),l=(0,u.Z)({name:"BoardsResource",options:a,noCache:!0});return(0,m.jsx)(E,P(P({},e),{},{boardsResource:l,i18n:t}))}var T=r(328038),D=r(214877),k=r(213377),z=r(554786),R=r(406893),B=r(489216),M=r(272232);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){V(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}function U(e,t){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function H(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,r){return(t=W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==L(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}var q=function(){},K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=G(i);if(t){var n=G(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return H(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return V(H(e=o.call.apply(o,[this].concat(r))),"state",{isHovered:!1}),V(H(e),"hover",function(){return e.setState({isHovered:!0})}),V(H(e),"unhover",function(){return e.setState({isHovered:!1})}),V(H(e),"handlePinClick",function(t){var r=t.event,n=e.props,o=n.save,i=n.unsave,a=n.saved;r.preventDefault(),r.stopPropagation(),a?i():o()}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.children,r=e.boardName,n=e.pinDescription,o=e.saved,i=this.state.isHovered,l=n||this.props.i18n._('Save this Pin', 'jumpstartBoardPinWrapper.tapArea.accessibilityLabel', 'Accessibility label describing purpose of tap area');return(0,m.jsxs)(a.xu,{position:"relative",children:[(0,m.jsx)(R.Z,{unsafeCSS:".jumpstart-undo-icon {\n  transform: scaleX(-1) rotate(90deg);\n}"}),(0,m.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(a.iP,{accessibilityLabel:l,fullHeight:!0,fullWidth:!0,onMouseEnter:this.hover,onMouseLeave:this.unhover,onTap:this.handlePinClick,children:(i||o)&&(0,m.jsx)(a.xu,{paddingX:4,paddingY:4,position:"absolute",top:!0,width:k.yF,zIndex:new a.Ry(1),children:o?(0,m.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[(0,m.jsx)(a.xu,{flex:"grow",children:(0,m.jsx)(B.Z,{isNewlySaved:!0,name:r,url:null})}),(0,m.jsx)("div",{className:"jumpstart-undo-icon",children:(0,m.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Undo', 'Undo saving a pin to a board', 'Undo saving a pin to a board'),bgColor:"transparentDarkGray",icon:"refresh",iconColor:"white",onClick:q,size:"md"})})]}):(0,m.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,m.jsx)(a.xu,{children:(0,m.jsx)(M.Z,{onClick:q,pinKey:null,saved:o,variant:"lego"})})})})})}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:t})]})}}],F(i.prototype,r),n&&F(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);function Y(e){var t=(0,s.ZP)();return(0,m.jsx)(K,Z(Z({},e),{},{i18n:t}))}var X=r(676554),$=r(19447),J=r(641285),Q=function(e){var t=e.pin,r=e.index,n=e.board,o=(0,$.S6)(),i=(t.id?o(t.id):null)||t,a=(0,D.v)().logContextEvent,l=function(e){a({event_type:101,component:13380,element:10599,aux_data:{reason:e,board_id:n.id}})},s=function(e){if(e.description||e.grid_title){if(e.description&&e.description.trim())return e.description;if(e.grid_title&&e.grid_title.trim())return e.grid_title}return""};return(0,m.jsx)(J.Z,{eventContext:{viewType:5,viewParameter:3173,element:10599},onDelete:function(){l("delete")},onSave:function(){l("save")},pinKey:null!=i?{type:"deprecated",data:i}:null,target:{board:n},children:function(e){var t,o=e.save,a=e.unsave,l=e.saved;return(0,m.jsx)(Y,{boardName:null!==(t=n.name)&&void 0!==t?t:"",pinDescription:s(i)||"",save:o,saved:l,unsave:a,children:(0,m.jsx)(X.rX,{attributionOption:"hide",authDesktopSurface:"JumpstartBoard",blockClickEvents:!0,duploQueryRef:null,pinId:i.id,pinImageCrop:"none",pinKey:null!=i?{type:"deprecated",data:i}:null,saveButtonOptions:{type:"none"},slotIndex:r,trackingParamsMap:i.tracking_params_map,viewParameter:3173,viewType:5})})}})};function ee(e){var t=e.board,r=(0,s.ZP)(),o=(0,u.Z)({name:"BoardContentRecommendationResource",options:{type:"board",id:t.id,__track__referrer:21}}),i=(0,z.ZP)(),l=(0,n.useRef)(null);return(0,m.jsxs)(a.xu,{ref:l,maxHeight:600,maxWidth:1112,overflow:"auto",padding:4,children:["desktop"===i&&o.isLoaded&&o.data&&(0,m.jsx)(a.Rk,{columnWidth:k.yF,gutterWidth:k.$H,items:o.data,loadItems:o.fetchMore,renderItem:function(e){var r=e.data,n=e.itemIdx;return(0,m.jsx)(Q,{board:t,index:n,pin:r})},scrollContainer:function(){return l.current}}),(0,m.jsx)(a.$j,{accessibilityLabel:r._('Loading pins', 'Loading indicator', 'Loading indicator'),show:o.isFetching})]})}function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==et(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==et(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===et(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eo(e){var t=e.board,r=e.onDismiss,n=(0,s.ZP)(),o=(0,T.k6)(),i=(0,T.TH)(),c=function(){var e=en({},i&&i.state||{});e.newBoard&&(delete e.newBoard,o.replace(en(en({},i),{},{state:e}))),r()};return(0,m.jsx)(l.ZP,{accessibilityModalLabel:n._('add pins to empty board modal', 'accessibility label for modal', 'accessibility label for modal'),allowScroll:!0,footer:(0,m.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,m.jsx)(a.xu,{"data-test-id":"done-button",children:(0,m.jsx)(a.zx,{accessibilityLabel:n._('Done', 'done adding pins to empty board', 'done adding pins to empty board'),color:"red",onClick:c,text:n._('Done', 'done adding pins to empty board', 'done adding pins to empty board')})})}),heading:n._('Save some Pins to your new board', 'jumpstartBoardModal.heading', 'heading for modal to add Pins to an empty board'),onDismiss:c,size:1112,children:(0,m.jsx)(ee,{board:t})})}var ei=r(364778),ea="474x",el=function(e){return function(t){return t.replace(/pinimg\.com\/\d+x\d*\//,"pinimg.com/".concat(e,"/"))}},es=function(e){return["236x",ea,"736x"].map(function(t,r){return"".concat(el(t)(e)," ").concat(r+1,"x")}).join(", ")};function ec(e){var t=e.boardId,r=e.customizable,n=(0,u.Z)({name:"BoardFeedResource",options:{board_id:t,field_set_key:"images_only_item",filter_section_pins:!1,page_size:r?60:4}}),o=!n.isLoaded,i=(n.data||[]).filter(function(e){return"pin"===e.type}).map(function(e){return e.images["236x"]});return(0,m.jsx)(ei.ZP,{customizable:r,getDownloadImageURL:el("1200x"),getMainImageURL:el(ea),getThumbnailImageSrcSet:es,id:t,images:i,isLoadingImages:o})}var eu=r(219728),ed=r(772575),ef=r(780277),ep=r(454514),eh=r(13848),eb=r(14774),ey=r(821419);function e_(e){var t=e.shouldArchive,r=e.board,n=e.onClose,o=e.onConfirm,i=(0,s.ZP)(),l=(0,ef.useDispatch)(),u=(0,eh.F9)().showOneToast,p=(0,c.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,b=(0,d.Z)(),_=(0,f.Z)(),v=p?(0,h.lJ)(b,_):"";return(0,m.jsx)(eb.Z,{confirmButtonLabel:t?i._('Archive', 'BoardPage.ModalContents.BoardModalManager', 'button label on confirming board archive'):i._('Unarchive', 'BoardUnarchiveConfirmation.BoardEditConfirmation.buttonLabel', 'button label on confirming board unarchive'),heading:t?i._('Archive this board?', 'BoardPage.ModalContents.BoardModalManager', 'modal heading for board archive confirmation'):i._('Unarchive this board?', 'BoardUnarchiveConfirmation.BoardEditConfirmation.heading', 'modal heading for board unarchive confirmation'),message:(0,y.nk)(t?i._('If you archive {{ boardName }}, we\u2019ll hide it from your profile and you won\'t be able to save Pins to it. If you change your mind, you can restore it at the bottom of your profile, below your active boards.', 'BoardPage.ModalContents.BoardModalArchiveMessage', 'boardName:Confirmation message when archiving boards'):i._('If you unarchive {{ boardName }}, it will show up on your profile and you\u2019ll be able to save new Pins to it.', 'BoardUnarchiveConfirmation.BoardEditConfirmation.message', 'Confirmation message when unarchiving a board'),{boardName:(0,m.jsx)(a.xv,{inline:!0,weight:"bold",children:r.name},r.name)}),onCancel:n,onConfirm:function(){t?l((0,ey.xk)(r.id,v)):l((0,ey.YV)(r.id,v)),o(),n(),u(function(e){var n,o=e.hideToast;return(0,m.jsx)(ep.ZP,{imageUrl:null!==(n=r.image_cover_url)&&void 0!==n?n:"",onHide:o,text:t?(0,y.nk)(i._('Archived {{ boardName }}', 'board.BoardPage.ModalContents.BoardArchiveConfirmation', 'Toast text on complete archiving board'),{boardName:r.name}).join(""):(0,y.nk)(i._('Unarchived {{ boardName }}', 'BoardUnarchiveConfirmation.handleConfirmUnarchive.message', 'Toast text on completing unarchiving board'),{boardName:r.name}).join("")})})}})}var em=r(481177),ev=r(410389),eg=r(526776);function ex(e){var t=e.fetchMore,r=e.followers,o=e.followersCount,i=e.isFetching,c=e.onDismiss,u=(0,s.ZP)();return(0,m.jsx)(l.ZP,{accessibilityModalLabel:u._('Board Followers', 'boardFollowersList.modal.accessibilityLabelForModal', 'Accessibility label for modal'),heading:(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",padding:8,children:(0,m.jsx)(a.X6,{accessibilityLevel:1,size:"500",children:(0,y.nk)(u.ngettext('{{ followersCount }} Follower', '{{ followersCount }} Followers', o, 'Label for the number of people following a board', 'Label for the number of people following a board'),{followersCount:o.toLocaleString()})})}),onDismiss:c,size:"sm",children:(0,m.jsx)(a.xu,{maxHeight:600,overflow:"auto",paddingX:6,children:r&&r.length>0?(0,m.jsxs)(n.Fragment,{children:[r.map(function(e){return(0,m.jsx)(eg.Z,{user:e},e.id)}),o-r.length>0?(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,padding:5,children:(0,m.jsx)(a.zx,{disabled:i,onClick:t,size:"lg",text:u._('See more', 'BoardFollowerList.SeeMore', 'Button to load more items in the board follower list')})}):null]}):(0,m.jsx)(a.xu,{marginBottom:8,children:(0,m.jsx)(a.$j,{accessibilityLabel:u._('Loading board followers', 'BoardModalManager.Spinner', 'Spinner which shows when loading board followers'),show:!0})})})})}function eP(e){var t=e.boardId,r=e.followersCount,n=e.onDismiss,o=(0,ev.Z)({boardId:t});if(!o)throw Error("Board URL: Required arguments are missing. ".concat(JSON.stringify({boardId:t})));var i=(0,u.Z)({name:"ApiResource",options:{url:o.concat("followers/"),data:{page_size:em.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE}}}),a=i.data,l=i.fetchMore,s=i.isFetching;return(0,m.jsx)(ex,{fetchMore:l,followers:void 0===a?[]:a,followersCount:r,isFetching:s,onDismiss:n})}function ej(e){var t=e.onCompleteBulkDelete,r=e.onClearModal,n=e.pinCountToDelete,o=(0,s.ZP)(),i=1===n?o._('Delete this Pin', ' - ', ' -- '):o._('Delete these Pins', ' - ', ' -- '),c=1===n?o._('Are you sure you want to permanently delete this Pin?', ' - ', ' -- '):o._('Are you sure you want to permanently delete these Pins?', ' - ', ' -- ');return(0,m.jsx)(l.ZP,{accessibilityModalLabel:o._('delete Pins', 'accessibility label for bulk delete modal', 'accessibility label for bulk delete modal'),footer:(0,m.jsxs)(a.xu,{children:[(0,m.jsx)(a.xu,{marginBottom:2,children:(0,m.jsx)(a.zx,{fullWidth:!0,onClick:r,text:o._('Cancel', ' - ', ' -- ')})}),(0,m.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:function(){t(),r()},text:o._('Delete', ' - ', ' -- ')})]}),heading:i,onDismiss:r,children:(0,m.jsx)(a.xu,{paddingX:8,children:(0,m.jsx)(a.xv,{children:c})})})}var ew=r(24066);function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(t){eD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ek(n.key),n)}}function eE(e,t){return(eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eI(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eT(e){return(eT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eD(e,t,r){return(t=ek(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ek(e){var t=function(e,t){if("object"!==eS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eS(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eS(t)?t:String(t)}var ez=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eE(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eT(i);if(t){var n=eT(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eS(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eI(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eD(eI(e=o.call.apply(o,[this].concat(r))),"state",{chosenBoardId:null}),eD(eI(e),"handleChosenBoardChange",function(t){e.setState({chosenBoardId:t.id})}),eD(eI(e),"handleConfirm",function(){var t=e.props,r=t.onCopyToBoard,n=t.onClearModal,o=e.state.chosenBoardId;o&&(r(o),n())}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.onClearModal,r=e.pinCountToCopy,n=this.state.chosenBoardId,o=1===r?this.props.i18n._('Pick another board for this Pin', ' - ', ' -- '):this.props.i18n._('Pick another board for these Pins', ' - ', ' -- ');return(0,m.jsx)(l.ZP,{accessibilityModalLabel:this.props.i18n._('Copy your pins to a different board', 'BoardPage.ModalContents.BulkEditBoardPicker.accessibilityModalLabel', 'Accessiblilty modal label'),footer:(0,m.jsxs)(a.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,m.jsx)(a.xu,{paddingX:1,children:(0,m.jsx)(a.zx,{fullWidth:!0,onClick:t,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,m.jsx)(a.xu,{paddingX:1,children:(0,m.jsx)(a.zx,{color:"red",disabled:!n,fullWidth:!0,onClick:this.handleConfirm,text:this.props.i18n._('Copy', ' - ', ' -- ')})})]}),heading:o,onDismiss:t,children:(0,m.jsx)(a.xu,{minHeight:400,padding:8,children:(0,m.jsx)(ew.Z,{onBoardChosen:this.handleChosenBoardChange})})})}}],eC(i.prototype,r),n&&eC(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function eR(e){var t=(0,s.ZP)();return(0,m.jsx)(ez,eA(eA({},e),{},{i18n:t}))}var eB=r(113208),eM=r(849118),eL=r(827625),eN=r(430408),eZ=r(761203),eF=r(886612);function eU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eH(e){var t=e.previewPin,r=e.extraPinCount,n=e.showFullImage;if(!t)return(0,m.jsx)(eF.Z,{height:214,pin:null,rounded:!0,width:142});var o=t.description,i=t.images,a=t.dominant_color,l=(void 0===i?{}:i)["474x"],s=Math.min(217*l.height/l.width,450);return(0,m.jsx)(eF.Z,{additionalPinCount:r,height:n?s:214,pin:{description:o,dominantColor:a,imageUrl:l.url},rounded:!0,width:n?217:142})}function eG(e){var t,r=e.pins,n=r.length>0&&r.length<=2?r.length:4,o=((function(e){if(Array.isArray(e))return eU(e)})(t=Array(n).keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return eU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eU(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{padding:3}},display:"inlineBlock",children:(0,m.jsx)(eH,{extraPinCount:3===e?Math.max(r.length-n,0):0,previewPin:r[e],showFullImage:1===r.length})},e)});return(0,m.jsx)(a.xu,{alignItems:"center",display:0===r.length||r.length>2?"inlineBlock":"flex",height:440,justifyContent:"center",width:296,children:o})}var eV=r(730006),eW=r(916964),eq=r(160390),eK=r(416049),eY=r(175597),eX=r(673463);function e$(e){return(e$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eJ(Object(r),!0).forEach(function(t){e3(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e0(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e4(n.key),n)}}function e2(e,t){return(e2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e6(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e8(e){return(e8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e3(e,t,r){return(t=e4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e4(e){var t=function(e,t){if("object"!==e$(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e$(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e$(t)?t:String(t)}var e7=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e2(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=e8(o);if(t){var n=e8(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===e$(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e6(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return e3(e6(e=n.call.apply(n,[this].concat(r))),"getSections",function(t){var r,n,o,i=e.props,a=i.board,l=i.canMoveToOtherBoards,s=null!==(r=null===(n=e.props.boardsResource.data)||void 0===n?void 0:n.all_boards)&&void 0!==r?r:[],c=null!==(o=e.props.sectionsResource.data)&&void 0!==o?o:[],u=s.filter(function(e){return e.id!==a.id});return t.length>=eK.Z?[c.length?{items:(0,eX.j)([a],t),customProps:{inSectionSelection:!0,isDisabled:e.isDisabled}}:{items:[]},{items:(0,eX.j)(c,t,"title"),customProps:{inSectionSelection:!0,isDisabled:e.isDisabled}},l?{items:(0,eX.j)(u,t)}:{items:[]}]:[c.length?{title:e.props.i18n._('Current board', 'title in move pins flow', 'title in move pins flow'),items:[a].concat(function(e){if(Array.isArray(e))return e0(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return e0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e0(e,t)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),customProps:{inSectionSelection:!0,isDisabled:e.isDisabled}}:{items:[]},l?{title:e.props.i18n._('Other boards', 'heading text for a list of a user\'s other boards in the move pins flow', 'heading text for a list of a user\'s other boards in the move pins flow'),items:u}:{items:[]}]}),e3(e6(e),"isDisabled",function(t){return t.id===e.props.selectedRowId}),e}return e1(o.prototype,[{key:"render",value:function(){var e=this.props,t=e.board,r=e.boardsResource,n=r.error,o=r.isLoaded,i=e.boardSavedTo,a=e.onRowSelected,l=e.onSectionCreate,s=e.pinId,c=e.sectionsResource,u=c.error,d=c.isLoaded,f=e.selectedRowId,p=e.createButtonLabel;return(0,m.jsx)(eY.Z,{boardSavedTo:i,createButtonLabel:p,disabledRowId:f,getSections:this.getSections,hasLoadError:!!n||!!u,isLoaded:o&&d,onCreate:l,onSelected:a,pinId:s},t.id)}}]),r&&e1(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component);function e5(e){var t=(0,s.ZP)(),r=(0,p.Z)(),n=(0,d.Z)(),o=(0,f.Z)(),i=(0,c.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,a=(0,h.Ms)(n,o),l=(0,u.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id,orbac_subject_id:i?r:""}}),b=(0,u.Z)({name:"BoardPickerBoardsResource",options:eQ({field_set_key:"board_picker",onlyFetchBoards:!0,orbac_subject_id:i?r:""},i&&i?{username:a}:{})});return(0,m.jsx)(e7,eQ(eQ({},e),{},{boardsResource:b,i18n:t,sectionsResource:l}))}function e9(e){var t=e.board,r=e.boardSavedTo,n=e.onMove,o=e.onSectionedBoardSelect,i=e.onSectionCreate,l=e.selectedRowId,c=e.showOtherBoards,u=(0,s.ZP)(),d=c&&!t.section_count?u._('Choose board', ' - ', ' -- '):u._('Choose section', 'Repin title for choosing a board section', 'Repin title for choosing a board section'),f=u._('Add section', 'Button for creating a board section', 'Button for creating a board section');return(0,m.jsx)(a.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:"relative",right:!0,rounding:2,top:!0,width:330,children:!t.section_count&&t.is_ads_only?(0,m.jsxs)(a.kC,{direction:"column",flex:"grow",overflow:"auto",children:[(0,m.jsx)(a.kC,{direction:"column",flex:"grow",justifyContent:"center",children:(0,m.jsx)(a.xu,{padding:4,children:(0,m.jsx)(a.xv,{align:"center",size:"400",weight:"bold",children:u._('Add a section to organize your Ad-only Pins', 'moveSectionPane.sections.adOnly', 'Description for empty list of sections for Ad Only Pins board')})})}),(0,m.jsx)(a.xu,{borderStyle:"shadow",children:(0,m.jsx)(eq.Z,{buttonLabel:f,hasHoverState:!0,onClick:function(){return i("")}})})]}):(0,m.jsxs)(a.kC,{direction:"column",flex:"grow",children:[(0,m.jsx)(a.xu,{paddingX:3,paddingY:3,children:(0,m.jsx)(a.X6,{size:"400",children:d})}),(0,m.jsx)(e5,{board:t,boardSavedTo:r,canMoveToOtherBoards:c,createButtonLabel:f,onRowSelected:function(e){"board_section"===e.type?n(t,e):"board"===e.type&&(e&&e.id!==t.id&&(e.section_count||0)>0?o(e):n(e,null))},onSectionCreate:i,selectedRowId:l})]})})}var te=r(691010);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(r),!0).forEach(function(t){ts(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function to(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tc(n.key),n)}}function ti(e,t){return(ti=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ta(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tl(e){return(tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ts(e,t,r){return(t=tc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tc(e){var t=function(e,t){if("object"!==tt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tt(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tt(t)?t:String(t)}var tu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ti(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tl(i);if(t){var n=tl(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tt(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ta(e)}(this,e)});function i(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),ts(ta(r=o.call(this,e)),"showSuccessToast",function(){var e=r.state,t=e.movedBoard,n=e.movedSection,o=r.props,i=o.board,a=o.inSelectAll,l=o.toastManagerContext;if(a)l.showOneToast(function(e){var t=e.hideToast;return(0,m.jsx)(ep.ZP,{duration:te.A,onHide:t,text:r.props.i18n._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.')})});else if(t){var s,c,u=n?(0,y.nk)(r.props.i18n._('Moved to {{sectionName}} in {{boardName}}', 'Toast for successfully moving pins to a section within a board', 'Toast for successfully moving pins to a section within a board'),{sectionName:n.title,boardName:t.name}).join(""):(0,y.nk)(r.props.i18n._('Moved to {{boardName}}', 'Toast for successfully moving pins to a different board', 'Toast for successfully moving pins to a different board'),{boardName:t.name}).join(""),d=n?"".concat(null!==(s=t.url)&&void 0!==s?s:"").concat(null!==(c=n.slug)&&void 0!==c?c:""):t.url;l.showOneToast(function(e){var t,r=e.hideToast;return(0,m.jsx)(ep.ZP,{duration:te.A,href:d,imageUrl:null!==(t=i.image_cover_url)&&void 0!==t?t:"",onHide:r,text:u})})}}),ts(ta(r),"handleMove",function(e,t){var n=r.props,o=n.board,i=n.boardSection,a=n.dispatch,l=n.inSelectAll,s=n.onCompleteMove,c=n.selectedPinIds,u=n.orbacSubjectId,d={boardId:o.id,sectionId:i&&i.id||null},f={boardId:e.id,sectionId:t&&t.id||null};if(d.boardId!==f.boardId||d.sectionId!==f.sectionId){var p=f.sectionId||f.boardId;r._setBoardSavedTo(p,te.S.LOADING),a((0,eN.Z)({inverseSelection:l,selectedPinIds:c,source:d,target:f,orbacSubjectId:u},r.props.i18n)).then(function(){r._setBoardSavedTo(p,te.S.SUCCESS),r.setState({movedBoard:e,movedSection:t}),s()})}}),ts(ta(r),"handleSectionedBoardSelect",function(e){r.setState({initialBoardName:"",selectedBoard:e})}),ts(ta(r),"handleSectionCreateComplete",function(e){var t,n,o,i=r.props,a=i.onCompleteMove,l=i.toastManagerContext;e.preview_pins&&e.preview_pins[0]&&(o=e.preview_pins[0].image_square_url),a();var s=(0,y.nk)(r.props.i18n._('Moved to {{sectionName}} in {{boardName}}', 'moveSectionModal.handleSectionCreate.toast', 'Toast for successfully moving pins to a section within a board'),{sectionName:e.title,boardName:null!==(t=null===(n=e.board)||void 0===n?void 0:n.name)&&void 0!==t?t:""});l.showOneToast(function(t){var r,n,i,a,l=t.hideToast;return(0,m.jsx)(ep.ZP,{duration:te.A,href:"".concat(null!==(r=null===(n=e.board)||void 0===n?void 0:n.url)&&void 0!==r?r:"").concat(null!==(i=e.slug)&&void 0!==i?i:""),imageUrl:null!==(a=o)&&void 0!==a?a:"",onHide:l,text:s.join("")})})}),ts(ta(r),"handleShowCreate",function(e){r.setState({initialBoardName:e,showCreate:!0})}),ts(ta(r),"handleHideCreate",function(){var e=r.props,t=e.onClearModal;0===e.sectionCount?t():r.setState({initialBoardName:"",showCreate:!1})});var t,r,n=e.board,a=e.viewer,l=e.showCreateOnly,s=e.orbacSubjectId;return r.state={boardSavedTo:null,initialBoardName:"",movedBoard:null,movedSection:null,selectedBoard:e.board,showCreate:l||![a.id,s].includes(null===(t=n.owner)||void 0===t?void 0:t.id)&&0===n.section_count},r}return r=[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.dispatch,r=e.viewer,n=this.state,o=n.movedBoard,i=n.movedSection;o&&(!i&&r.isAuth&&t((0,eL.jB)("BoardFeedResource",(0,eV.q)(o,r))),this.showSuccessToast())}},{key:"_setBoardSavedTo",value:function(e,t){this.setState({boardSavedTo:{board:e,state:t}})}},{key:"render",value:function(){var e=this.props,t=e.board,r=e.boardSection,n=e.inSelectAll,o=e.onClearModal,i=e.selectedPinIds,s=e.selectedPins,c=e.shouldShowOtherBoards,u=this.state,d=u.boardSavedTo,f=u.initialBoardName,p=u.selectedBoard,h=u.showCreate,b=n?330:660;return(0,m.jsx)(l.ZP,{accessibilityModalLabel:this.props.i18n._('Choose the section or board you want to move pins to', 'moveSectionModal.modal.accessibilityLabelForModal', 'Accessibility label for modal'),onDismiss:o,size:b,children:(0,m.jsxs)(a.xu,{color:"default",display:"flex",height:540,rounding:2,width:b,children:[!n&&(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:60}},marginBottom:6,paddingX:2,children:(0,m.jsx)(eG,{pins:s})}),h?(0,m.jsx)(eW.Z,{board:p,completeCreateSectionAction:this.handleSectionCreateComplete,initialName:f,onClearModal:this.handleHideCreate,pinImport:{all:n,pinIds:i},showTitle:!0,sourceBoard:t,sourceSection:r}):(0,m.jsx)(e9,{board:p,boardSavedTo:d,onMove:this.handleMove,onSectionCreate:this.handleShowCreate,onSectionedBoardSelect:this.handleSectionedBoardSelect,selectedRowId:r&&r.id||t&&t.id,showOtherBoards:c})]})})}}],to(i.prototype,r),n&&to(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function td(e){var t,r=(0,s.ZP)(),n=(0,ef.useDispatch)(),o=(0,d.Z)(),i=o.isAuth?o.id:"",a=(0,$.S6)(),l=(0,c.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,u=(0,p.Z)(),b=(0,f.Z)(),y=e.selectedPinIds.reduce(function(e,t){var r=a(t);return r?e.concat([r]):e},[]).filter(Boolean),_=e.board,v=(0,eM.Z)({boardKey:{type:"deprecated",data:_}}).canPerformAction,g=!_.is_ads_only&&(v({action:2,viewer:o})||!e.selectedPinIds.some(function(e){var t,r=a(e);return(null==r?void 0:null===(t=r.pinner)||void 0===t?void 0:t.id)!==i})||l&&(0,h.KY)(o,_,b)),x=(0,eZ.gC)()(_.id),P=null!==(t=null==x?void 0:x.section_count)&&void 0!==t?t:0;return(0,m.jsx)(tu,tn(tn({},e),{},{dispatch:n,i18n:r,orbacSubjectId:l?u:"",sectionCount:P,selectedPins:y,shouldShowOtherBoards:g,toastManagerContext:(0,eh.F9)(),viewer:o}))}var tf=r(622888),tp=r(828763),th=r(402287),tb=r(23254);function ty(e){return(ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(t){tj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tw(n.key),n)}}function tg(e,t){return(tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tx(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tP(e){return(tP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tj(e,t,r){return(t=tw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tw(e){var t=function(e,t){if("object"!==ty(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ty(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ty(t)?t:String(t)}var tS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tg(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tP(i);if(t){var n=tP(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ty(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tx(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return tj(tx(e=o.call.apply(o,[this].concat(r))),"state",{section:null}),tj(tx(e),"handleSectionChange",function(t){e.setState({section:t})}),tj(tx(e),"handleSubmit",function(){var t=e.props.onSubmit,r=e.state.section;r&&t(r)}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.board,r=e.boardSection,n=e.onCancel,o=this.state.section;return(0,m.jsx)(l.ZP,{accessibilityModalLabel:this.props.i18n._('Move Pins', 'BoardPage.ModalContents.SectionMergeModal', 'accessibility label for merging modal'),footer:(0,m.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,m.jsxs)(a.hE,{children:[(0,m.jsx)(a.zx,{onClick:n,size:"lg",text:this.props.i18n._('Cancel', ' - ', ' -- ')}),(0,m.jsx)(a.zx,{color:"red",disabled:!o,onClick:this.handleSubmit,size:"lg",text:this.props.i18n._('Move Pins and delete section', 'button for merging a board section', 'button for merging a board section')})]})}),heading:o?this.props.i18n._('Move Pins and delete section?', 'title for board section merging modal', 'title for board section merging modal'):this.props.i18n._('Move all Pins to...', 'title for board section merging modal', 'title for board section merging modal'),onDismiss:function(){n()},size:"md",children:(0,m.jsx)(a.xu,{minHeight:400,padding:8,children:(0,m.jsx)(tb.Z,{board:t,mergingFromSectionId:r.id,onSectionChange:this.handleSectionChange,selectedSectionId:o?o.id:null})})})}}],tv(i.prototype,r),n&&tv(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function tO(e){var t=(0,s.ZP)();return(0,m.jsx)(tS,tm(tm({},e),{},{i18n:t}))}function tA(e){return(tA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(t){tz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tR(n.key),n)}}function tT(e,t){return(tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tD(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tk(e){return(tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tz(e,t,r){return(t=tR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tR(e){var t=function(e,t){if("object"!==tA(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tA(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tA(t)?t:String(t)}var tB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tT(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tk(i);if(t){var n=tk(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tA(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tD(e)}(this,e)});function i(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var e,t,r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return tz(tD(t=o.call.apply(o,[this].concat(n))),"state",{deleting:!1,editMode:"main",title:null!==(e=t.props.boardSection.title)&&void 0!==e?e:""}),tz(tD(t),"handleSaveSection",function(e){if(e.preventDefault(),!t.saveDisabled()){var r,n=t.props,o=n.board,i=n.boardSection,a=n.dispatch,l=n.onSaveSection,s=n.viewer,c=n.orbacActingAs,u=t.state.title,d=(0,h.lJ)(s,c);a((0,th.$n)(o.id,null!==(r=i.id)&&void 0!==r?r:"",u.trim(),d)).then(l).catch(function(e){return t.setState({titleErrorMessage:e.message||t.props.i18n._('Invalid section name', 'error message of section name input field', 'error message of section name input field')})})}}),tz(tD(t),"saveDisabled",function(){return t.state.title===t.props.boardSection.title||""===t.state.title.trim()}),tz(tD(t),"handleChangeTitle",function(e){var r=e.value;t.setState({title:r,titleErrorMessage:void 0})}),tz(tD(t),"handleDeleteSectionButtonClick",function(){t.setState({editMode:"confirmDelete"})}),tz(tD(t),"handleMergeButtonClick",function(){t.setState({editMode:"merge"})}),tz(tD(t),"handleBackToMainMenu",function(){t.setState({editMode:"main"})}),tz(tD(t),"handleDeleteSection",function(){var e=t.props,r=e.board,n=e.boardSection,o=e.dispatch,i=e.onDeleteSection,a=e.toastManagerContext,l=e.viewer,s=e.orbacActingAs;if(!t.state.deleting){var c=n.id;t.setState({deleting:!0}),o((0,th.F$)(r.id,null!=c?c:"",(0,h.lJ)(l,s))).then(function(){i(),a.showToast(function(e){var r=e.hideToast;return(0,m.jsx)(ep.ZP,{onHide:r,text:t.props.i18n._('Section deleted!', 'Toast for successfully deleting a board section', 'Toast for successfully deleting a board section')})})}).catch(function(e){return tf.Z.showError(e.message||t.props.i18n._('Failed to delete the section', 'error message for failed to delete section', 'error message for failed to delete section'))})}}),tz(tD(t),"handleMergeSection",function(e){var r,n,o=t.props,i=o.board,a=o.boardSection,l=o.dispatch,s=o.showBlockingActionToast,c=o.onDeleteSection;t.state.deleting||(t.setState({deleting:!0}),t.props.logContextEvent({event_type:7173,object_id_str:a.id,aux_data:{merge_flow:"menu"}}),l((0,th.d9)(i.id,null!==(r=a.id)&&void 0!==r?r:"",null!==(n=e.id)&&void 0!==n?n:"")).then(c).then(function(){s({actionType:"merge",board:i,section:e})}).catch(function(e){return tf.Z.showError(e.message||t.props.i18n._('Failed to merge the section', 'error message for failed to merge section', 'error message for failed to merge section'))}))}),t}return r=[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame(function(){var t=e._textField;t&&(t.focus(),t.select())})}},{key:"render",value:function(){var e=this,t=this.props,r=t.board,n=t.boardSection,o=t.onClearModal,i=t.viewer,s=t.orbacActingAs,c=t.canPerformAction,u=this.state,d=u.title,f=u.titleErrorMessage,p=u.editMode,b=c({action:10,viewer:i})||(0,h.KY)(i,r,s),y=r.section_count>1&&c({action:13,viewer:i});return"confirmDelete"===p?(0,m.jsx)(eb.Z,{confirmButtonLabel:this.props.i18n._('Delete section', 'button for deleting a board section', 'button for deleting a board section'),message:this.props.i18n._('Once you delete a section and all its Pins, you can\'t undo it!', ' - ', ' -- '),onCancel:this.handleBackToMainMenu,onConfirm:this.handleDeleteSection}):"merge"===p?(0,m.jsx)(tO,{board:r,boardSection:n,onCancel:this.handleBackToMainMenu,onSubmit:this.handleMergeSection}):(0,m.jsx)(l.ZP,{accessibilityModalLabel:this.props.i18n._('Edit your section', ' - ', ' -- '),footer:(0,m.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,m.jsx)(a.sg,{span:6,children:(b||y)&&(0,m.jsxs)(a.xu,{display:"flex",marginEnd:-1,marginStart:-1,children:[b&&(0,m.jsx)(a.xu,{"data-test-id":"delete-section-button",paddingX:1,children:(0,m.jsx)(a.zx,{onClick:this.handleDeleteSectionButtonClick,text:this.props.i18n._('Delete', 'Delete button', 'Delete button')})}),y&&(0,m.jsx)(a.xu,{paddingX:1,children:(0,m.jsx)(a.zx,{onClick:this.handleMergeButtonClick,text:this.props.i18n._('Merge', 'button for merging a board section', 'button for merging a board section')})})]})}),(0,m.jsx)(a.sg,{span:6,children:(0,m.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,m.jsx)(a.xu,{marginEnd:3,children:(0,m.jsx)(a.zx,{onClick:o,text:this.props.i18n._('Cancel', ' - ', ' -- ')})}),(0,m.jsx)(a.zx,{color:"red",disabled:this.saveDisabled(),onClick:function(t){var r=t.event;e.handleSaveSection(r)},text:this.props.i18n._('Save', ' - ', ' -- '),type:"submit"})]})})]}),heading:this.props.i18n._('Edit your section', ' - ', ' -- '),onDismiss:o,size:"md",children:(0,m.jsx)("form",{onSubmit:this.handleSaveSection,children:(0,m.jsx)(a.xu,{direction:"column",display:"flex",padding:8,children:(0,m.jsx)(a.nv,{ref:function(t){e._textField=t},errorMessage:f,id:"title",label:this.props.i18n._('Name', ' - ', ' -- '),onChange:this.handleChangeTitle,size:"lg",value:d})})})})}}],tI(i.prototype,r),n&&tI(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function tM(e){var t=e.board,r=(0,D.v)().logContextEvent,n=(0,s.ZP)(),o=(0,d.Z)(),i=(0,f.Z)(),a=(0,tp.Z)().showBlockingActionToast,l=(0,ef.useDispatch)(),c=(0,eM.Z)({boardKey:{type:"deprecated",data:t}}).canPerformAction;return(0,m.jsx)(tB,tE(tE({},e),{},{canPerformAction:c,dispatch:l,i18n:n,logContextEvent:r,orbacActingAs:i,showBlockingActionToast:a,toastManagerContext:(0,eh.F9)(),viewer:o}))}function tL(e){var t=e.source,r=e.target,n=e.onConfirm,o=e.onCancel,i=(0,s.ZP)();return(0,m.jsx)(l.ZP,{accessibilityModalLabel:i._('Move Pins and delete section?', 'title for board section merging confirmation', 'title for board section merging confirmation'),footer:(0,m.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,m.jsxs)(a.hE,{children:[(0,m.jsx)(a.zx,{onClick:o,text:i._('Cancel', ' - ', ' -- ')}),(0,m.jsx)(a.zx,{color:"red",onClick:n,text:i._('Move Pins and delete section', 'button for merging a board section', 'button for merging a board section')})]})}),heading:i._('Move Pins and delete section?', 'title for board section merging confirmation', 'title for board section merging confirmation'),onDismiss:o,children:(0,m.jsx)(a.xu,{padding:8,children:(0,m.jsx)(a.xv,{children:(0,y.nk)(i._('You\'re about to move all Pins from your {{ sourceName }} section to your {{ targetName }} section.', 'helper text for section merge confirmation modal', 'helper text for section merge confirmation modal'),{sourceName:(0,m.jsx)(a.xv,{inline:!0,weight:"bold",children:t.title},"source"),targetName:(0,m.jsx)(a.xv,{inline:!0,weight:"bold",children:r.title},"target")})})})})}var tN=r(654773),tZ=(0,n.lazy)(function(){return Promise.all([r.e(93810),r.e(10472),r.e(65292),r.e(15502),r.e(19373)]).then(r.bind(r,219373))});function tF(e){var t,r,n=e.actions,a=e.board,l=e.boardSection,s=e.bulkEditSelectedPins,c=e.currentModal,u=e.groupPinsData,d=e.inSelectAll,f=e.onClearModal,p=e.mergeConfirmationModalProps,h=n.completeCreateSectionAction,b=n.completeMoveAction,y=n.onBoardArchiveChange,_=n.onBoardDelete,v=n.onBoardLeave,g=n.onBoardSectionDelete,x=n.onBoardSectionSave,P=n.onConfirmMergeSection,j=n.onCopyPinsToBoard,w=n.onDeletePins,S=n.onBoardMerge;switch(c){case eB.s.boardArchiveConfirmation:return y?(0,m.jsx)(e_,{board:a,onClose:f,onConfirm:y,shouldArchive:!0}):null;case eB.s.boardUnarchiveConfirmation:return y?(0,m.jsx)(e_,{board:a,onClose:f,onConfirm:y,shouldArchive:!1}):null;case eB.s.boardEdit:return(0,m.jsx)(i.default,{boardId:a.id,onBoardDelete:_,onBoardLeave:v,onClose:f});case eB.s.bulkDelete:return w?(0,m.jsx)(ej,{onClearModal:f,onCompleteBulkDelete:w,pinCountToDelete:s&&s.length||0}):null;case eB.s.bulkCopy:return j?(0,m.jsx)(eR,{currentBoardId:a.id,onClearModal:f,onCopyToBoard:j,pinCountToCopy:s&&s.length||0}):null;case eB.s.collaboratorsAndPermissions:return(0,m.jsx)(o.Z,{children:(0,m.jsx)(tZ,{board:a,onDismiss:f})});case eB.s.editSection:return l?(0,m.jsx)(tM,{board:a,boardSection:l,onClearModal:f,onDeleteSection:g,onSaveSection:x}):null;case eB.s.mergeBoard:return S?(0,m.jsx)(I,{onCancel:f,onSubmit:S,sourceBoardId:a.id}):null;case eB.s.createSection:case eB.s.moveSection:return!!s&&!!b&&(0,m.jsx)(td,{board:a,boardSection:l,inSelectAll:!!d,onClearModal:f,onCompleteMove:b,selectedPinIds:s,showCreateOnly:c===eB.s.createSection});case eB.s.sectionMergeConfirm:return p&&P?(0,m.jsx)(tL,{onCancel:f,onConfirm:P,source:p.source,target:p.target}):null;case eB.s.followers:return(0,m.jsx)(eP,{boardId:a.id,followersCount:null!==(t=a.follower_count)&&void 0!==t?t:0,onDismiss:f});case eB.s.pincode:return(0,m.jsx)(eu.Z,{objectId:a.id,onHide:f,children:(0,m.jsx)(ec,{boardId:a.id,customizable:!!(null!==(r=a.owner)&&void 0!==r&&r.is_partner)})});case eB.s.jumpstartBoard:return(0,m.jsx)(eo,{board:a,onDismiss:f});case eB.s.simpleCreateSection:return h?(0,m.jsx)(ed.Z,{onClose:f,onSectionCreate:h,selectedBoard:a}):null;case eB.s.groupPins:return(0,m.jsx)(tN.Z,{boardId:a.id,clusterId:null==u?void 0:u.clusterId,onDismiss:f,suggestedSectionTitle:(null==u?void 0:u.suggestedSectionName)||""});default:return null}}},113208:function(e,t,r){"use strict";r.d(t,{s:function(){return n}});var n={addOrEditDate:"addOrEditDate",boardArchiveConfirmation:"boardArchiveConfirmation",boardEdit:"boardEdit",boardUnarchiveConfirmation:"boardUnarchiveConfirmation",bulkCopy:"bulkCopy",bulkDelete:"bulkDelete",collaboratorsAndPermissions:"collaboratorsAndPermissions",createSection:"createSection",editSection:"editSection",followers:"followers",groupPins:"groupPins",jumpstartBoard:"jumpstartBoard",mergeBoard:"mergeBoard",moveSection:"moveSection",pincode:"pincode",sectionMergeConfirm:"sectionMergeConfirm",sendBoard:"sendBoard",simpleCreateSection:"simpleCreateSection"}},8874:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(672652),o=r(780277),i=r(328038),a=r(579814),l=r(927177);function s(){var e=(0,o.useDispatch)(),t=(0,i.k6)(),r=(0,i.TH)().pathname,s=(0,o.useSelector)(function(e){return e.ui.mainComponent.locationToErrorMap});(0,n.useEffect)(function(){(0,a.Z)();var n=r.split("/"),o="/".concat(n[1],"/");s[r]&&(e((0,l.m)(o,s[r])),t.replace(o))},[])}},250634:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(672652),o=r(780277),i=r(214877),a=r(515278),l=r(622888),s=r(140017),c=r(828763),u=r(402287);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e){var t,r=e.board,f=(0,i.v)().logContextEvent,p=(0,s.ZP)(),h=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=h[0],y=h[1],_=(0,o.useDispatch)(),m=(0,c.Z)().showBlockingActionToast,v=(0,a.Z)();return{handleShowMergeSectionsConfirmationModal:function(e,t){if(v){v();return}y({source:e,target:t})},mergeConfirmationModalProps:b,onConfirm:function(){if(v){v();return}if(b){var e,t,n=b.source,o=b.target;y(null),f({event_type:7173,object_id_str:n.id,aux_data:{merge_flow:"dnd"}}),_((0,u.d9)(r.id,null!==(e=n.id)&&void 0!==e?e:"",null!==(t=o.id)&&void 0!==t?t:"")).then(function(){m({actionType:"merge",board:r,section:o})}).catch(function(e){l.Z.showError(e.message||p._('Failed to merge sections', 'useSectionMergeAction.errorMessage', 'Error message when failed to merge sections'))})}}}}},636362:function(e,t,r){"use strict";r.d(t,{Z:function(){return t3}});var n=r(672652),o=r(780277),i=r(328038),a=r(684404),l=r(334589),s=r(406718),c=r(822311),u=r(67030),d=r(580716),f=r(214877),p=r(515278),h=r(970521),b=r(901855),y=r(340523),_=r(627408),m=r(13848),v=r(494125),g=r(149722),x=r(785059),P=r(199677),j=r(801690),w=r(239821),S=r(401429),O=r(406893),A=r(819267);function C(e){var t=e.layoutType,r=e.thumbnails;switch(t){case 4:var n=r&&r[0]&&r[0]["236x"];return(0,A.jsx)(a.zd,{height:80,rounding:4,width:80,children:n?(0,A.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url||""}):(0,A.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,A.jsx)(a.xu,{color:"secondary",height:80,width:39.4}),(0,A.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,A.jsx)(a.xu,{color:"secondary",height:39.4,width:39.4}),(0,A.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,A.jsx)(a.zd,{height:80,rounding:4,width:80,children:(0,A.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(function(e){var t=!!r&&r.length>0&&r[e];return(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,A.jsx)(a.xu,{height:80,width:39.4,children:t&&(0,A.jsx)(a.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:t["236x"].url||""})})},e)})})});default:return null}}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t,r){var n;return(n=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===E(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var D=[502043,502085];function k(e){var t,r,o=e.boardId,i=e.displayData,l=e.complete,s=e.dismiss,c=e.handleShowArchiveConfirmation,u=e.handleShowGroupPinsModal,d=(0,f.v)().logContextEvent,p=i.custom_properties,h=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=h[0],y=h[1],_=function(e){b||y(setTimeout(function(){e()},2e4))};(0,n.useEffect)(function(){return function(){return clearTimeout(b)}},[b]);var m=(I(r={},2,c),I(r,3,function(){p&&u(p.cluster_id,p.section_name)}),r);return(0,n.useEffect)(function(){_(s),d({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(i.experience.experience_id),aux_data:{board_id:o}})},[]),(0,A.jsxs)(a.mh,{children:[(0,A.jsx)(O.Z,{unsafeCSS:"\n.BoardActionUpsellCard {\n  animation-duration: 0.5s;\n  animation-fill-mode: forwards;\n  animation-name: slideUp;\n  animation-timing-function: ease-out;\n  background-color: #fff;\n  border-radius: 16px;\n  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: between;\n  left: 50%;\n  margin-left: -210px; // half of width\n  padding: 24px;\n  position: fixed;\n  transition: bottom 1s;\n  width: 420px;\n}\n\n@keyframes slideUp {\n  from {\n    bottom: -200px;\n  }\n\n  to {\n    bottom: 14px;\n  }\n}\n"}),(0,A.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,A.jsx)(a.xu,{flex:"none",children:(0,A.jsx)(C,{layoutType:i.layout_type,thumbnails:i.thumbnail_image_urls})}),(0,A.jsxs)(a.xu,{marginStart:4,children:[(0,A.jsx)(a.xv,{inline:!0,children:(0,A.jsx)(a.X6,{size:"400",children:i.text})}),(0,A.jsxs)(a.xu,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,A.jsx)(a.zx,{color:"gray",onClick:function(){d({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(i.experience.experience_id),aux_data:{board_id:o}}),s()},text:i.dismiss_button.text}),(0,A.jsx)(a.xu,{paddingX:2,children:(0,A.jsx)(a.zx,{color:"red",onClick:function(){m[i.complete_button.action_type](),d({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(i.experience.experience_id),aux_data:{board_id:o}}),l()},text:i.complete_button.text})})]})]})]})]})}function z(e){var t=e.boardId,r=e.handleShowArchiveConfirmation,n=e.handleShowGroupPinsModal;return(0,A.jsx)(S.Z,{eligibleIds:D,placementId:18,children:function(e){var o=e.experience,i=e.complete,a=e.dismiss;return(0,A.jsx)(k,{boardId:t,complete:i,dismiss:a,displayData:o.display_data,handleShowArchiveConfirmation:r,handleShowGroupPinsModal:n})}})}var R=r(943114),B=r(524383),M=r(509603),L=r(115429),N=r(821419),Z=r(919079),F=r(113208),U=r(250634),H=r(930837),G=r(140017),V=r(339001);function W(){var e=(0,G.ZP)(),t=(0,A.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingX:8,children:(0,A.jsx)(a.xv,{children:(0,V.nk)(e._('Add a {{ star }} to show collaborators your favorite Pins', 'groupBoardFavoriteEducationModal.text', 'Text for modal informing users of changes from group board reactions to board favorites'),{star:(0,A.jsx)(a.xu,{display:"inlineBlock",children:(0,A.jsx)(a.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.bodyFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:12})})})})});return(0,A.jsx)(S.Z,{eligibleIds:[503077],placementId:18,children:function(r){var n=r.complete,o=r.dismiss;return(0,A.jsx)(H.ZP,{accessibilityModalLabel:e._('Group board reaction', 'groupBoardFavoriteEducationModal.modalAccessibilityLabel', 'Accessiblility label for modal used to educate group board collaborators about favorite button'),footer:(0,A.jsx)(a.kC,{justifyContent:"end",children:(0,A.jsx)(a.zx,{onClick:function(){return n()},text:e._('Got it', 'groupBoardFavoriteEducationModal.doneButton', 'Done button for modal')})}),heading:(0,A.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,A.jsx)(a.xu,{maxWidth:400,children:(0,A.jsx)(a.X6,{align:"center",size:"500",children:(0,V.nk)(e._('{{ heart }}  is now  {{ star }}', 'groupBoardFavoriteEducationModal.heading', 'Heading for modal informing users of changes from group board reactions to board favorites'),{heart:(0,A.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,A.jsx)(a.JO,{accessibilityLabel:e._('Heart icon', 'groupBoardFavoriteEducationModal.headingHeartIcon', 'Accessibility label for heart icon'),color:"default",icon:"heart",size:16})}),star:(0,A.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,A.jsx)(a.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.headingFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star",size:16})})})})}),(0,A.jsx)(a.xu,{padding:6,position:"absolute",right:!0,top:!0,children:(0,A.jsx)(a.hU,{accessibilityLabel:e._('Close', 'groupBoardFavoriteEducationModal.closeModalButton', 'Accessibility label for close modal button'),icon:"cancel",iconColor:"darkGray",onClick:o,size:"md"})})]}),onDismiss:o,size:"sm",children:t})}})}var q=r(563322),K=r(64819),Y=r(937310),X=r(569619),$=r(693138),J=r(54966),Q=r(881157);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t,r){var n;return(n=function(e,t){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ee(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===ee(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function en(e){var t,r,o=e.board,i=e.currentFilter,l=e.eligibleFilters,s=e.isOwnBoard,c=e.surface,u=e.setCurrentFilter,d=e.setTitle,p=(0,q.x)(),h=(0,f.v)().logContextEvent,b=(0,G.ZP)(),y=(0,n.useRef)(null),_=null==p?void 0:p.boardPinDensity,m=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=m[0],g=m[1],x=function(){g(!1)},P=function(e){(0,J.Z)({boardDensity:e,component:"board"===c?13183:13187,viewType:"board"===c?5:164},h),(0,Q.Z)({density:e,surface:"board"}),null==p||p.setBoardPinDensity(e)},j=[],w=(et(r={},$.cg,12111),et(r,$.c7,12110),et(r,$.Ac,12227),r);if(l){var S={items:l.map(function(e){var t;return{isSelected:e.pin_type===i,onClick:function(){var t,r;h({event_type:101,component:13475,element:w[null!==(t=e.pin_type)&&void 0!==t?t:-1],object_id_str:o.id,view_type:5,view_parameter:s?3069:3070}),u(null!==(r=e.pin_type)&&void 0!==r?r:-1),d(e.pin_type===$.cg?null:e.text),x()},text:null!==(t=e.text)&&void 0!==t?t:""}}),label:b._('Filter by type', 'board.experimentalBoardActionBar.filterOptions', 'List of board filter options')};j.push(S)}return j.push({items:[{isSelected:"regular"===_,onClick:function(){x(),P("regular")},text:b._('Default', 'BoardHeader.ActionBar.DensityOption-Default', 'Clickable text to set board view density to default mode')},{isSelected:"dense"===_,onClick:function(){x(),P("dense")},text:b._('Compact', 'BoardHeader.ActionBar.DensityOption-Compact', 'Clickable text to set board view density to compact mode')}],label:b._('View options', 'BoardHeader.ActionBar.ViewOptions', 'List of board view options')}),(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(a.xu,{ref:y,children:(0,A.jsx)(a.hU,{accessibilityLabel:b._('Board Filter', 'board.experimentalBoardActionBar.boardFilter', 'Filter to select specific Pins on board'),icon:"filter",iconColor:"darkGray",onClick:function(){h({event_type:101,element:12020,object_id_str:o.id,view_type:5,view_parameter:s?3069:3070}),g(!v)},selected:v,size:"lg"})}),v&&(0,A.jsx)(a.Lt,{anchor:y.current,disableMobileUI:!0,id:"filter_board",onDismiss:x,children:j.map(function(e){var t=e.items,r=e.label;return(0,A.jsx)(a.Lt.Section,{label:r,children:t.map(function(e){var t=e.isSelected,r=e.onClick,n=e.text;return(0,A.jsx)(a.Lt.Item,{onSelect:r,option:{label:n,value:n},selected:t?{label:n,value:n}:null},n)})},r)})})]})}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ei=(0,h.Z)(1000332)(function(e){var t,r=e.board,o=e.currentFilter,i=e.isOwnBoard,l=e.section,s=e.setCurrentFilter,c=e.showExperienceTooltip,u=(0,G.ZP)(),d=(null!=l?l:r).eligible_pin_type_filters,f=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eo(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=f[0],h=f[1],b=(0,n.useRef)(null),y=l?l.pin_count:r.pin_count,_=function(e,t){if(b){var r;null===(r=b.current)||void 0===r||r.scrollIntoView(!1)}return(0,A.jsx)(a.Li,{anchor:b.current,idealDirection:"down",message:t.text,onDismiss:e})};return(0,A.jsxs)(n.Fragment,{children:[(0,A.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",paddingX:8,children:[(0,A.jsx)(a.xu,{flex:"grow",children:(0,A.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:o>0&&p?p:(0,V.nk)(u.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null != y ? y : 0, 'board.experimentalBoardActionBar.pinCount', 'Number of Pins on board or section'),{pinCount:y})})}),(0,A.jsx)(a.xu,{ref:b,children:(0,A.jsx)(en,{board:r,currentFilter:o,eligibleFilters:d,isOwnBoard:i,setCurrentFilter:s,setTitle:h,surface:l?"section":"board"})})]}),c&&b&&(0,A.jsx)(a.mh,{children:(0,A.jsx)(S.Z,{eligibleIds:[502974],placementId:1000332,children:function(e){return _(e.dismiss,e.experience.display_data)}})})]})}),ea=r(805579),el=r(254305),es=r(747794),ec=r(60352),eu=r(635842),ed=r(276552),ef=r(915625);function ep(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eh(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eb=function(){};function ey(e){var t,r=e.board,i=e.currentView,l=e.handleContentViewChange,s=e.handleSetCurrentModal,c=e.handleShowEditSectionModal,u=e.handleShowMergeSectionsConfirmationModal,d=e.isOwnerOrCollaborator,f=e.isOwnBoard,p=e.isPinGridSorted,h=e.refreshBoardData,b=void 0===h?eb:h,y=e.refreshSectionData,_=void 0===y?eb:y,m=e.section,v=(0,g.Z)(),x=(0,el.Z)({board:r,viewer:v}),P=(r.access||[]).includes("write"),j=null===(t=(0,q.x)())||void 0===t?void 0:t.boardPinDensity,w=(0,ed.Z)(m?(0,eu.Z)(r,m):""),S=ep((0,n.useState)($.cg),2),O=S[0],C=S[1],E=ep((0,n.useState)(!1),2),I=E[0],T=E[1],D=(0,o.useDispatch)();(0,n.useEffect)(function(){return function(){if(O!==$.cg){if(m){var e;D((0,K.N8)(Y.Z.BOARD_SECTION_PINS,null!==(e=m.id)&&void 0!==e?e:""))}else D((0,K.N8)(Y.Z.BOARDFEED,r.id))}}},[r,O,D,m]);var k=(0,n.useCallback)(function(){O>0&&(C($.cg),m?_():b())},[O,_,b,m]),z=(0,n.useMemo)(function(){return m?{currentFilter:O,eligibleFilters:m.eligible_pin_type_filters,refreshData:_,sectionId:m.id}:{currentFilter:O,eligibleFilters:r.eligible_pin_type_filters,refreshData:b,setShowExperienceTooltip:T}},[m,r.eligible_pin_type_filters,O,b,_]);return m?(0,A.jsx)(ea.k,{value:z,children:(0,A.jsxs)(n.Fragment,{children:[d&&(0,A.jsx)(ei,{board:r,currentFilter:O,isOwnBoard:f,section:m,setCurrentFilter:C,showExperienceTooltip:!1}),(0,A.jsx)(ec.Z,{board:r,boardSectionId:m.id,currentFilter:O,denseViewSelected:P&&"dense"===j,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:f,refreshFilteredFeed:k,renderFooterStory:function(e){return!r.archived_by_me_at&&d&&(0,A.jsx)(a.xu,{marginBottom:12,children:(0,A.jsx)(es.Z,{children:(0,A.jsx)(ef.Z,{collection:m,storyId:e,url:w})})})},viewer:v,viewParameter:x})]})}):(0,A.jsx)(ea.k,{value:z,children:(0,A.jsxs)(n.Fragment,{children:[d&&(0,A.jsx)(ei,{board:r,currentFilter:O,isOwnBoard:f,setCurrentFilter:C,showExperienceTooltip:I}),(0,A.jsx)(X.Z,{actions:{onBoardOrganizeClick:eb},board:r,currentFilter:O,currentView:i,enableReordering:d,isOwnBoard:f,isPinGridSorted:p,onContentViewChange:l,onShowEditSectionModal:c,onShowMergeSectionsConfirmationModal:function(e,t){s(F.s.sectionMergeConfirm),u(e,t)},refreshFilteredFeed:k,viewParameter:x}),d&&(0,A.jsx)(W,{})]})})}var e_=r(35222),em=r(212890),ev=r(143953),eg=r(373395),ex=r(200154),eP=r(420240),ej=r(329456),ew=r(302607);function eS(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function eO(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){eS(i,n,o,a,l,"next",e)}function l(e){eS(i,n,o,a,l,"throw",e)}a(void 0)})}}function eA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eC(e){var t,r,o=e.onDismiss,i=e.boardId,a=(0,ew.Z)(),l=a.showErrorToast,s=a.showSuccessToast,c=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1];(0,v.Z)(function(){var e;(e=eO(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,eP.Z)(i);case 3:(t=e.sent)?d(t):l(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l();case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return e.apply(this,arguments)})()});var f=(r=eO(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reasonKey,e.prev=1,n={reason:r},e.next=5,(0,ej.Z)(i,n);case 5:o(),s(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),o(),l();case 13:case"end":return e.stop()}},e,null,[[1,9]])})),function(e){return r.apply(this,arguments)});return(0,A.jsx)(ex.ZP,{handleSubmitReport:f,objectToReport:{type:"board",id:i},onDismiss:o,reportingReasons:u})}var eE=r(995917),eI=r(410389);function eT(e){var t,r=e.boardId,n=e.ownerUsername,o=e.ownerName,i=e.ownerImgSrc,a=e.ownerIsAdsOnlyProfile,l=e.ownerAdsOnlyProfileSite,s=e.children,c=(0,eE.Z)({name:"ApiResource",options:{url:null===(t=(0,eI.Z)({boardId:r}))||void 0===t?void 0:t.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0}),u=c.data,d=c.isLoaded,f=[{name:o,src:i,href:"/".concat(n,"/"),is_ads_only_profile:a,ads_only_profile_site:l}];return d&&u&&u.length>0&&u.forEach(function(e){var t,r=e.image_medium_url||e.image_small_url;f.push({name:null!==(t=e.full_name)&&void 0!==t?t:"",src:null!=r?r:"",href:"/".concat(e.username,"/")})}),s(f)}var eD=r(847754),ek=r(587703),ez=r(452364),eR=r(454514);function eB(e){var t=e.boardImage,r=e.boardName,n=e.boardUrl,o=e.onHide,i=(0,G.ZP)(),l=(0,A.jsx)(a.xv,{children:(0,V.nk)(i._('Now following {{ boardName }}', 'BoardFollowButton.FollowingToast.nowFollowing', 'Toast text displayed when a user follows a board'),{boardName:(0,A.jsx)(a.xv,{weight:"bold",children:r},"boardName")})});return(0,A.jsx)(eR.ZP,{href:n,imageUrl:t,onHide:o,text:l})}var eM=r(321083),eL=r(898233);function eN(e){return(eN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eZ(Object(r),!0).forEach(function(t){eW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eq(n.key),n)}}function eH(e,t){return(eH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eG(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eV(e){return(eV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eW(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=function(e,t){if("object"!==eN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eN(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eN(t)?t:String(t)}var eK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eH(e,t)}(l,e);var t,r,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eV(l);if(t){var n=eV(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eN(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eG(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eW(eG(e=i.call.apply(i,[this].concat(r))),"state",{flyoutOpen:!1}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.board,o=t.bgColor,i=t.children,l=t.iconColor,s=t.onCreatePincode,c=this.state.flyoutOpen,u={description:r.description,id:r.id,imageUrl:r.image_cover_url,name:r.name,type:"board",url:r.url},d=function(t){var r=e.props.requireAuth;if(r){t&&t.preventDefault(),r();return}e.state.flyoutOpen||e.props.onOpen(),e.setState(function(e){return{flyoutOpen:!e.flyoutOpen}})},f=i&&i({active:c,onClick:function(){return d()}})||(0,A.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:void 0===o?"white":o,icon:"share",iconColor:void 0===l?"gray":l,onClick:function(e){return d(e.event)},size:"lg"});return(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(a.xu,{ref:function(t){e.anchor=t},children:f}),this.state.flyoutOpen&&(0,A.jsx)(a.mh,{children:(0,A.jsx)(a.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:function(){return d()},positionRelativeToAnchor:!1,size:"flexible",children:(0,A.jsx)(eL.Z,{component:13216,onCreatePincodeClick:s?function(){d(),s()}:void 0,onHide:function(){return d()},sendType:"board",sharedObject:u,viewType:5})})})]})}}],eU(l.prototype,r),o&&eU(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function eY(e){var t=(0,G.ZP)(),r=(0,p.Z)();return(0,A.jsx)(eK,eF(eF({},e),{},{i18n:t,requireAuth:r}))}function eX(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e$(e){var t,r=(0,G.ZP)(),i=e.bgColor,l=e.board,s=e.canCreatePincode,c=e.canEdit,u=e.handleCreatePincode,d=e.handleOpenSendBoardFlyout,f=e.onEditClick,h=e.onReportClick,b=e.showFollow,_=e.showShare,v=e.size,g=(0,(0,y.F)().checkExperiment)("web_board_user_reporting").anyEnabled,x=l.id,P=l.name,j=l.url,w=l.image_cover_url,S=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(l.followed_by_me))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eX(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eX(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=S[0],C=S[1],E=(0,m.F9)().showOneToast,I=(0,o.useDispatch)(),T=(0,p.Z)(),D=(0,ek.Z)(),k=function(e){var t=e.event;if(T){t.stopPropagation(),T();return}O?(I((0,eM.f)(x,D)),C(!1)):(I((0,eM.Z)(x,D)),C(!0),E(function(e){var t=e.hideToast;return(0,A.jsx)(eB,{boardImage:null!=w?w:"",boardName:P,boardUrl:j,onHide:t})}))},z={edit:r._('Edit', 'BoardPage.ActionBar.PartnerEdit', 'Clickable text to enter board editing mode'),create_pincode:r._('Create Pincode', 'BoardPage.ActionBar.PartnerPincode', 'Clickable text to trigger Pincode modal'),share:r._('Share', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to share board'),unfollow:r._('Unfollow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to unfollow board'),follow:r._('Follow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to follow board'),report:r._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user')};return(0,A.jsx)(ez.Z,{bgColor:i,icon:"ellipsis",id:"more-board-options",label:r._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),size:v,children:function(){return(0,A.jsxs)(a.Lt.Section,{label:r._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[c&&f&&(0,A.jsx)(a.Lt.Item,{onSelect:function(){f()},option:{label:z.edit,value:z.edit}}),c&&s&&u&&(0,A.jsx)(a.Lt.Item,{onSelect:function(){u()},option:{label:z.create_pincode,value:z.create_pincode}}),_&&d&&(0,A.jsx)(eY,{board:l,onCreatePincode:u,onOpen:d,children:function(e){var t=e.onClick;return(0,A.jsx)(a.Lt.Item,{onSelect:t,option:{label:z.share,value:z.share}})}}),b&&(0,A.jsx)(n.Fragment,{children:O?(0,A.jsx)(a.Lt.Item,{onSelect:k,option:{label:z.unfollow,value:z.unfollow}}):(0,A.jsx)(a.Lt.Item,{onSelect:k,option:{label:z.follow,value:z.follow}})}),g&&(0,A.jsx)(a.Lt.Item,{onSelect:h,option:{label:z.report,value:z.report}})]})}})}var eJ=r(182160),eQ=r(551539),e0=r(481177),e1=r(629650),e2=(r(282405),r(608823)),e6=r(337882),e8=r(748599),e3=r(624797),e4=r(216167),e7=r(757017),e5=r(827625),e9=r(554786),te=r(205841),tt=r(873955);function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tn(e){var t=e.faces,r=e.maxFaces,n=e.numFaces,o=e.onOverflowClick,i=e.shouldNavigate,l=void 0===i||i,s=((function(e){if(Array.isArray(e))return tr(e)})(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return tr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tr(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse(),c=t.length>r?s.slice(0,r+1):s,u=n-r;return(0,A.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:c.map(function(e,t){var r=e.name,n=e.src,i=e.href,s=e.isDim;if(0===t&&u>0)return(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:(0,A.jsx)(a.Ee,{alt:r,fit:"contain",naturalHeight:44,naturalWidth:44,src:n||"",children:(0,A.jsx)(a.iP,{fullHeight:!0,fullWidth:!0,onTap:o,rounding:"circle",children:(0,A.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,A.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:u>99?"99+":u})})})})},t);var c=(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:s?.5:1}},marginStart:-2,children:(0,A.jsx)(te.qE,{name:r,outline:!0,size:"sm",src:n})},t);return l?(0,A.jsx)(a.Tg,{href:i,rounding:"circle",children:c},t):c})})}function to(e){var t=e.invitedByUser,r=e.isAccepted,n=e.onDecline,o=e.onAccept,i=e.createdAt,l=(0,G.ZP)(),s=(0,g.Z)(),c=t||{},u=c.first_name,d=c.full_name,f=c.username,p=c.image_medium_url,h=u||d||l._('others', 'Default text when board colalborator name is not known.', 'Default text when board colalborator name is not known.');return(0,A.jsx)(a.W2,{children:r?(0,A.jsxs)(a.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:2,width:"100%",children:[(0,A.jsx)(tn,{faces:[{href:s.isAuth?"/".concat(s.username):"",name:s.isAuth?s.fullName:"",src:s.isAuth?s.imageMediumUrl:""},{href:"/".concat(f),name:d,src:p}],maxFaces:2,numFaces:2}),(0,A.jsxs)(a.xu,{marginStart:2,children:[(0,A.jsx)(a.xv,{weight:"bold",children:l._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,A.jsx)(a.xv,{children:(0,tt.Z)(l._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:h})})]})]}):(0,A.jsx)(a.xu,{borderStyle:"shadow",color:"default",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:6,width:540,children:(0,A.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,A.jsx)(a.xu,{marginEnd:2,children:(0,A.jsx)(te.qE,{name:d,size:"md",src:p})}),(0,A.jsx)(a.xu,{flex:"grow",children:(0,A.jsx)(a.xv,{color:"default",inline:!0,children:(0,V.nk)(l._('{{ user }} invited you to collaborate on this board {{ createdAt }}', 'web.boardView.inviteCard.text', 'Label used to indicate a Pinner has invited you to join a board'),{user:(0,A.jsx)(a.xv,{color:"default",inline:!0,weight:"bold",children:(0,A.jsx)(a.rU,{display:"inlineBlock",href:"/".concat(f),underline:"hover",children:d})},f),createdAt:(0,A.jsx)(a.xv,{color:"subtle",inline:!0,children:i})})})}),(0,A.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,A.jsx)(a.xu,{display:"inlineBlock",marginEnd:2,children:(0,A.jsx)(a.zx,{color:"gray",onClick:n,size:"lg",text:l._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,A.jsx)(a.zx,{color:"red",onClick:o,size:"lg",text:l._('Accept', 'Text to accept a board collaboration invite', 'Text to accept a board collaboration invite')})]})]})})})}var ti=r(823813);function ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tl(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ts(e){var t=e.boardId,r=e.inviteCode,i=e.shouldAutoAcceptBoardInvite,l=e.userInviterId,s=(0,G.ZP)(),c=(0,m.F9)(),u=(0,e7.Z)(),d=ta((0,n.useState)(!1),2),f=d[0],p=d[1],h=ta((0,n.useState)(null),2),b=h[0],_=h[1],v=(0,y.F)().checkExperiment,x=(0,e9.HG)(),P=(0,g.Z)(),j=P.isAuth?x&&v("web_board_invite_landing_fix").anyEnabled:x&&v("dweb_unauth_board_invite_landing").anyEnabled,w=(0,o.useDispatch)(),S={board_id:t,field_set_key:"boardBanner",invite_code:r,invited_user_id:P.isAuth&&P.id},O=(0,ti.RZ)(),C=(0,ti.CQ)();(0,n.useEffect)(function(){l&&i&&(O(t).then(function(){w((0,ti.A8)(t)),j&&c.showToast(function(e){var t=e.hideToast;return(0,A.jsx)(eR.ZP,{duration:5e3,onHide:t,text:s._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})})}),e4.Z.create("UserResource",{field_set_key:"grid_item",user_id:l}).callGet().then(function(e){var t=e.resource_response,r=t&&t.data;r&&_(r)}))},[i,l]);var E=(0,eE.Z)({name:"BoardInviteResource",options:S}).data,I=!!(l&&i)||f,T=!["new","contact_request_not_approved"].includes(null==E?void 0:E.status),D=function(e){(e?O(t):C(t,S.invited_user_id||"")).then(function(){e&&(w((0,ti.A8)(t)),p(!0),c.showToast(function(e){var t=e.hideToast;return(0,A.jsx)(eR.ZP,{duration:5e3,onHide:t,text:s._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})})),w((0,e5.jB)("BoardInviteResource",S))})},k=(null==E?void 0:E.invited_by_user)||b;return!k||T&&!I||j&&I?null:(0,A.jsx)(a.xu,{marginTop:3,paddingY:0,children:(0,A.jsx)(to,{createdAt:u((null==E?void 0:E.created_at)||"",!0),invitedByUser:k,isAccepted:I,onAccept:function(){return D(!0)},onDecline:function(){return D(!1)}})})}function tc(e){var t=e.boardId,r=(0,i.TH)(),n=r&&r.search?(0,e3.mB)(r.search):{},o=n.invite_code,a=n.accept_invite,l=n.inviter_user_id;return(0,A.jsx)(ts,{boardId:t,inviteCode:o,shouldAutoAcceptBoardInvite:a,userInviterId:l})}var tu=function(e){var t=e.board,r=t.id,o=t.owner,i=t.sensitivity,l=(0,g.Z)(),s=l.isAuth?l.id:"",c=(null==o?void 0:o.id)===s,u=(0,em.Uz)(i);return(0,A.jsxs)(n.Fragment,{children:[!u&&(0,A.jsx)(tc,{boardId:r}),u&&(0,ev.ZP)(i)&&i&&(0,A.jsx)(a.xu,{paddingY:10,children:(0,A.jsx)(eg.Z,{boardId:r,notices:i.notices,sensitivity:i,viewParameter:c?3069:3070,viewType:5})})]})};function td(e){var t=(0,G.ZP)(),r=e.color,n=e.size;return(0,A.jsx)(a.JO,{accessibilityLabel:t._('secret board', 'accessible label for secret board icon', 'accessible label for secret board icon'),color:r,icon:"lock",size:n})}function tf(e){var t=e.color,r=e.paddingX;return(0,A.jsx)(a.xu,{display:"inlineBlock",paddingX:r,children:(0,A.jsx)(a.xv,{color:t,inline:!0,size:"200",weight:"bold",children:"\xb7"})})}function tp(e){var t=e.archived,r=e.secret,n=(0,G.ZP)();return(0,A.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[r&&(0,A.jsx)(td,{color:"subtle",size:16}),r&&(0,A.jsx)(a.xu,{"data-test-id":"secret-board",paddingX:1,children:(0,A.jsx)(a.xv,{color:"subtle",inline:!0,size:"300",children:n._('Secret board', 'LegoBoardPageHeader.BoardStatus.secret', 'Label for a secret board')})}),r&&t&&(0,A.jsx)(tf,{color:"subtle",paddingX:1}),t&&(0,A.jsx)(a.xu,{paddingX:1,children:(0,A.jsx)(a.xv,{color:"subtle",inline:!0,size:"300",children:n._('Archived board', 'LegoBoardPageHeader.BoardStatus.archived', 'Label for a secret board')})})]})}var th=r(259078),tb=r(717203),ty=r(107353);function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tm(e){var t,r=e.board,o=e.collaborators,i=e.overflowNumber,l=(0,G.ZP)(),s=(0,n.useRef)(),c=(0,f.v)().logContextEvent,u=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],p=u[1],h=o.map(function(e,t){if(e.isDim)return null;var r=e.is_ads_only_profile&&e.ads_only_profile_site,n=(r?e.ads_only_profile_site:e.href)||"",o=e.href?e.href:e.name+t;return(0,A.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,A.jsx)(a.rU,{display:"inlineBlock",href:n,onClick:function(){r&&c({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorNames"}})},rel:r?"nofollow":"none",target:r?"blank":null,underline:"none",children:e.name})},o)}).filter(Boolean);return i&&h.push((0,A.jsx)(a.xu,{ref:s,display:"inlineBlock",children:(0,A.jsx)(a.iP,{onTap:function(){return p(!0)},children:(0,A.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,V.nk)(l.ngettext('{{ overflowNumber }} other', '{{ overflowNumber }} others', i, 'legoBoardPageHeader.collaboratorNames.others', 'number of additional collaborators not listed, overflowNumber:number of collaborators'),{overflowNumber:i})})})},"overflowText")),(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(a.xv,{inline:!0,children:(0,tb.Z)(h,l)}),d&&(0,A.jsx)(ty.default,{anchor:s.current,board:r,onDismiss:function(){return p(!1)}})]})}var tv=r(553319);function tg(e){var t=e.board,r=e.handleCreatePincode,n=(0,f.v)().logContextEvent,o=(0,G.ZP)(),i=(0,p.Z)();return(0,A.jsx)(eY,{board:t,onCreatePincode:r,onOpen:function(){if(i){i();return}(0,tv.Z)(n)},children:function(e){var t=e.onClick;return(0,A.jsx)(a.xu,{"data-test-id":"board-share-button-auth",children:(0,A.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:t,size:"lg",text:o._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board')})})}})}var tx=r(422827);function tP(e){var t=(0,G.ZP)(),r=e.onClick,n=e.requested,o=e.size,i=e.useAlternateText;return(0,A.jsx)(a.zx,{fullWidth:!0,onClick:r,size:o||"md",text:(n?function(e,t){return t?e._('Cancel', 'BoardPage.BoardJoinButton.cancel', '[Button] Cancel request to join a group board as a collaborator'):e._('Cancel request', '[Button] Cancel request to join a group board as a collaborator', '[Button] Cancel request to join a group board as a collaborator')}:function(e,t){return t?e._('Join', 'BoardPage.BoardJoinButton.join', '[Button] Request to join a group board as a collaborator'):e._('Request to join', '[Button] Request to join a group board as a collaborator', '[Button] Request to join a group board as a collaborator')})(t,i)})}function tj(e){var t=(0,G.ZP)(),r=e.boardImage,n=e.boardName,o=e.boardUrl,i=e.onHide,l=(0,A.jsx)(a.xv,{children:(0,V.nk)(t._('You\'ve cancelled the request to collaborate on {{ boardName }}', 'Board.JoinButton.CancelToast', 'Toast text stating that a user has cancelled a request to join a board'),{boardName:(0,A.jsx)(a.xv,{inline:!0,weight:"bold",children:n})})});return(0,A.jsx)(eR.ZP,{duration:3e3,href:o,imageUrl:r,onHide:i,text:l})}function tw(e){var t=(0,G.ZP)(),r=e.boardImage,n=e.boardName,o=e.boardUrl,i=e.onHide,l=(0,A.jsx)(a.xv,{children:(0,V.nk)(t._('You\'ve requested to join {{ boardName }}', 'Board.JoinButton.RequestToast', 'Toast text stating that a user has requested to join a board'),{boardName:(0,A.jsx)(a.xv,{inline:!0,weight:"bold",children:n})})});return(0,A.jsx)(eR.ZP,{href:o,imageUrl:r,onHide:i,text:l})}function tS(e){var t=e.boardId,r=e.boardImage,n=e.boardName,i=e.boardUrl,l=e.isRequestedByMe,s=e.showPulsar,c=e.size,u=e.variant,d=(0,f.v)().logContextEvent,h=(0,o.useDispatch)(),b=(0,g.Z)(),y=(0,m.F9)(),_=b.isAuth&&b.id||"",v=(0,p.Z)(),x=(0,ti.tV)(),P=function(e){var o,a,s,c=e.event;c.preventDefault(),c.stopPropagation(),v?v():l?(h((0,ti.GJ)(t,_)),y.showOneToast(function(e){var t=e.hideToast;return(0,A.jsx)(tj,{boardImage:r,boardName:n,boardUrl:i,onHide:t})})):(h(x(t)),y.showOneToast(function(e){var t=e.hideToast;return(0,A.jsx)(tw,{boardImage:r,boardName:n,boardUrl:i,onHide:t})})),a=(o={action:l?"request":"cancel",id:t,logContextEvent:d,url:i}).action,s=o.id,(0,o.logContextEvent)({event_type:101,component:1,element:"request"===a?7499:7547,object_id_str:s,view_type:4,aux_data:{current_page_url:o.url}})};return _?(0,A.jsxs)(a.xu,{display:"flex",position:"relative",children:[(0,A.jsx)(tP,{onClick:P,requested:l,size:c,useAlternateText:"lego"===u}),s&&(0,A.jsx)(a.iP,{onTap:function(e){P(e)},children:(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,A.jsx)(a.o3,{paused:l})})})]}):null}function tO(e){var t,r,n,o=e.board,i=e.collaborators,l=e.handleCreatePincode,s=e.handleShowCollabAndPermissionsModal,c=e.hideFollowers,u=e.isToolsBoard,f=e.onFollowersClick,p=e.overFlowActionsButton,h=e.showPulsar,b=e.userBlocked,_=o.access,m=o.archived_by_me_at,v=o.collaborator_requests_enabled,j=o.description,w=o.follower_count,S=o.id,O=o.image_cover_url,C=o.name,E=o.privacy,I=o.url,T=o.viewer_collaborator_join_requested,D=(0,th.Z)({boardCollaboratorCount:o.collaborator_count,collaborators:i}),k=D.displayedCollaborators,z=D.nonDisplayedCollaboratorCount,R=(0,g.Z)(),B=(0,y.F)().checkExperiment,M=(0,x.Z)(),L=(0,P.D3)(R,(null===(t=o.owner)||void 0===t?void 0:t.id)||"",M),N=_&&_.includes("write")||L,Z=(0,d.Z)(o.collaborated_by_me,null===(r=o.owner)||void 0===r?void 0:r.id,R)||L,F=(0,eQ.Z)(R,null===(n=o.owner)||void 0===n?void 0:n.id),U=!!m,H=E===e0.Z.BoardPrivacy.PROTECTED,G=E===e0.Z.BoardPrivacy.SECRET,V=!N&&!b,W=V&&v&&!R.isPrivateProfile,q=V&&!!l,K=(F||o.collaborator_invites_enabled&&o.collaborated_by_me)&&B("web_update_board_invite_icon").anyEnabled,Y="A stub for board subtitle. A stub for board subtitle. A stub",X=Y&&B("dweb_curated_articles_to_board_shift").anyEnabled;return(0,A.jsx)(a.xu,{direction:"column",display:"flex",justifyContent:"center",marginBottom:u?4:7,paddingX:8,width:"100%",children:(0,A.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,A.jsxs)(a.xu,{"data-test-id":"LegoBoardHeader__main",direction:"column",display:"flex",maxWidth:488,children:[(0,A.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,A.jsx)(a.xu,{maxWidth:800,children:(0,A.jsx)(tu,{board:o})})}),(0,A.jsxs)(a.xu,{marginTop:4,maxWidth:440,children:[Y&&X&&(0,A.jsx)(a.xu,{marginBottom:2,children:(0,A.jsx)(a.xv,{align:"center",children:Y})}),(0,A.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,A.jsx)(a.X6,{align:"center",children:(0,A.jsxs)(a.xu,{"data-test-id":"board-title",display:"inlineBlock",children:[C,(0,A.jsx)(a.xu,{display:"inlineBlock",paddingX:2,position:"absolute",children:p})]})})})]}),(0,A.jsx)(tx.Z,{children:(0,A.jsx)(a.xu,{marginTop:2,children:K?(0,A.jsx)(e2.Z,{board:o,handleTapOnInviteAvatarGroup:s}):(0,A.jsx)(e6.Z,{board:o,displayedCollaborators:k,handleShowCollabAndPermissionsModal:s,nonDisplayedCollaboratorCount:z})})}),!1,(!Z||j)&&(0,A.jsx)(tx.Z,{children:(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},marginTop:2,children:(0,A.jsx)(e1.Z,{inline:!0,items:[Z?null:(0,A.jsx)(tm,{board:o,collaborators:k,overflowNumber:z},"collaborators"),j?(0,A.jsx)(a.xv,{inline:!0,children:j}):null]})})}),(0,A.jsx)(tx.Z,{children:(0,A.jsx)(a.xu,{marginTop:2,children:(U||G)&&(0,A.jsx)(tp,{archived:U,secret:G})})}),(0,A.jsx)(tx.Z,{children:!!w&&!c&&!U&&!G&&!H&&(0,A.jsx)(e8.P,{bold:!0,count:null!=w?w:0,onClick:f,shortform:!0,size:"300"})}),(0,A.jsx)(tx.Z,{children:(W||q)&&(0,A.jsxs)(a.xu,{direction:"row",display:"flex",justifyContent:"center",marginTop:5,width:"100%",children:[W&&(0,A.jsx)(a.xu,{paddingX:1,children:(0,A.jsx)(tS,{boardId:S,boardImage:null!=O?O:"",boardName:C,boardUrl:I,isRequestedByMe:!!T,showPulsar:h,size:"lg",variant:"lego"})}),q&&!!l&&(0,A.jsx)(a.xu,{paddingX:1,children:(0,A.jsx)(tg,{board:o,handleCreatePincode:l})})]})})]})})})}var tA=r(477458),tC=(0,n.forwardRef)(function(e,t){var r=e.boardName,n=e.boardUrl,o=e.children,i=e.overFlowActionsButton,l=e.sectionName,s="A stub for board section description.",c=(0,y.F)().checkExperiment;return(0,A.jsxs)(a.xu,{ref:t,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,A.jsxs)(a.kC,{alignItems:"stretch",direction:"column",gap:2,justifyContent:"start",maxWidth:488,children:[(0,A.jsx)(tx.Z,{children:(0,A.jsx)(a.xu,{marginTop:4,children:(0,A.jsx)(tA.q,{children:function(e){var t=e.active,o=e.focused,i=e.hovered,l=e.onBlur,s=e.onFocus,c=e.onMouseEnter,u=e.onMouseLeave;return(0,A.jsx)(a.Tg,{href:null!=n?n:"",onBlur:l,onFocus:s,onMouseEnter:c,onMouseLeave:u,children:(0,A.jsx)(a.X6,{align:"center",color:t||o||i?"default":"subtle",children:r})})}})})}),(0,A.jsx)(tx.Z,{children:(0,A.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,children:[(0,A.jsx)(a.X6,{align:"center",children:l}),!!i&&(0,A.jsx)(a.xu,{paddingX:1,children:i})]})}),!!s&&c("dweb_curated_articles_to_board_shift").anyEnabled&&(0,A.jsx)(tx.Z,{children:(0,A.jsx)(a.xv,{align:"center",children:s})})]}),o&&(0,A.jsx)(a.xu,{marginTop:8,children:o})]})});function tE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tI(e){var t,r,o,i,l,s,c,f,p,h,b,y=e.board,_=e.handleBoardEditClick,m=e.handleFollowersClick,v=e.handleSectionEditClick,j=e.handleShowBoardArchiveConfirmation,w=e.handleShowBoardUnarchiveConfirmation,S=e.handleShowCollabAndPermissionsModal,O=e.handleShowCreatePincodeModal,C=e.handleShowMergeModal,E=e.section,I=e.showPulsar,T=(0,g.Z)(),D=(0,x.Z)(),k=(0,e_.Z)(),z=k&&(0,u.Z)(y.privacy)?"?orbac_subject_id=".concat(k):"",R=y.name,B=y.sensitivity,M=y.access,L=y.url,N=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Z=N[0],F=N[1],U=(0,P.D3)(T,(null===(r=y.owner)||void 0===r?void 0:r.id)||"",D),H=M&&M.includes("write")||U?eD.I:eT,G=(0,em.Uz)(B),V=(0,d.Z)(y.collaborated_by_me,null===(o=y.owner)||void 0===o?void 0:o.id,T)||U,W=null;W=V?(0,A.jsx)(eJ.Z,{board:y,onArchiveClick:j,onCreatePincode:O,onEditBoardClick:_,onEditSectionClick:v,onMergeClick:C,onUnarchiveClick:w,showCreatePinCodeOption:T.isAuth&&T.isPartner,surface:E?"section":"board"}):(0,A.jsx)(e$,{bgColor:"lightGray",board:y,onReportClick:function(){return F(!0)},showFollow:!0,size:"sm"});var q=G&&(0,ev.ZP)(B);return(0,A.jsxs)(n.Fragment,{children:[Z&&(0,A.jsx)(eC,{boardId:y.id,onDismiss:function(){return F(!1)}}),E?(0,A.jsxs)(n.Fragment,{children:[q&&(0,A.jsx)(tx.Z,{children:(0,A.jsx)(a.xu,{maxWidth:800,paddingY:10,children:B&&(0,A.jsx)(eg.Z,{boardId:y.id,boardSectionId:E.id,notices:B.notices,sensitivity:B,viewParameter:U?3069:3070,viewType:5})})}),(0,A.jsx)(tC,{boardName:R,boardUrl:"".concat(void 0===L?"":L).concat(z),overFlowActionsButton:W,sectionName:null!==(i=E.title)&&void 0!==i?i:""})]}):(0,A.jsx)(a.xu,{"data-test-id":"board-header",children:(0,A.jsx)(H,{boardId:y.id,ownerAdsOnlyProfileSite:(null===(l=y.owner)||void 0===l?void 0:l.ads_only_profile_site)||"",ownerImgSrc:(null===(s=y.owner)||void 0===s?void 0:s.image_key)||(null===(c=y.owner)||void 0===c?void 0:c.image_medium_url)||(null===(f=y.owner)||void 0===f?void 0:f.image_small_url)||"",ownerIsAdsOnlyProfile:(null===(p=y.owner)||void 0===p?void 0:p.is_ads_only_profile)||!1,ownerName:(null===(h=y.owner)||void 0===h?void 0:h.full_name)||"",ownerUsername:(null===(b=y.owner)||void 0===b?void 0:b.username)||"",children:function(e){var t;return(0,A.jsx)(tO,{board:y,collaborators:e,handleCreatePincode:O,handleShowCollabAndPermissionsModal:S,hideFollowers:U,isToolsBoard:!0,onFollowersClick:m,overFlowActionsButton:W,showPulsar:I,userBlocked:!!(null!==(t=y.owner)&&void 0!==t&&t.blocked_by_me)})}})})]})}tC.displayName="SectionHeader";var tT=r(107366);function tD(e){var t=e.boardId,r=e.collaboratorId,n=e.collaboratorUsername,l=(0,o.useDispatch)(),s=(0,i.k6)(),c=(0,G.ZP)();return(0,A.jsx)(a.kC,{justifyContent:"center",width:"100%",children:(0,A.jsx)(a.xu,{marginTop:8,maxWidth:960,paddingX:8,children:(0,A.jsx)(a.XA,{message:c._('You\u2019ve been requested to take over ownership of this board', 'boardOwnershipTransferUpsell.message', 'Message informing user they have received an ownership transfer request'),primaryAction:{accessibilityLabel:c._('Accept', 'boardOwnershipTransferUpsell.acceptAccessibilityLabel', 'Accessibility label for accept button on upsell'),label:c._('Accept', 'boardOwnershipTransferUpsell.acceptLabel', 'Label for accept button on upsell'),onClick:function(){(0,tT.Z)({url:"/v3/boards/".concat(t,"/collaborators/requests/ownership/"),method:"PUT",data:{collaborator:r}}),l((0,N.K8)(n)),s.push("/".concat(n,"/"))}},secondaryAction:{accessibilityLabel:c._('Decline', 'boardOwnershipTransferUpsell.declineAccessibilityLabel', 'Accessibility label for decline button on upsell'),label:c._('Decline', 'boardOwnershipTransferUpsell.declineLabel', 'Label for decline button on upsell'),onClick:function(){l((0,ti.xx)(t,r))}},title:c._('Board ownership request pending', 'boardOwnershipTransferUpsell.title', 'Title for board ownership transfer upsell')})})})}var tk=r(71024),tz=r(10568);function tR(e){return(tR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tB(e){var t=e.handleAddSection,r=e.handleCreatePin,o=e.handleCreateStoryPin,i=e.surface,l=(0,f.v)().logContextEvent,s=(0,G.ZP)(),c=(0,n.useRef)(),u="board"===i?s._('Create a Pin or add a Section', 'BoardPage.ActionBar.AddPinOrSection', 'button triggering a flyout to create a pin or add a section'):s._('Create Pin', 'BoardPage.ActionBar.AddPin', 'button triggering a flyout to create a pin');return(0,A.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,A.jsx)(tz.Z,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:t,onCreatePin:r,onCreateStoryPin:o,onOpen:function(){l({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})},surface:i,children:function(e){var t,r,n,o,i=e.active,l=e.openFlyout;return(0,A.jsxs)(a.xu,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,A.jsx)(a.xG,{ref:c,accessibilityExpanded:i,accessibilityLabel:u,accessibilityPopupRole:"dialog",icon:"add",onClick:l,selected:i,tooltip:{text:u}}),(0,A.jsx)(tk.Z,{anchors:(r={},n=3006,o=c.current,(t=function(e,t){if("object"!==tR(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tR(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"),(n="symbol"===tR(t)?t:String(t))in r)?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r),idealDirection:"up",placementId:18})]})}})})}var tM=r(549629),tL=r(623501).HW+1;function tN(e){var t=e.handleGoBack,r=e.hideSensitivityScreen,n=e.sensitivityScreenAuxData,o=(0,G.ZP)();return(0,tM.Q)({component:13860,view_type:5,aux_data:n}),(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(tL),children:(0,A.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,A.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,A.jsx)(a.X6,{align:"center",color:"light",children:o._('This board may contain sensitive content', 'boardPageContainer.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,A.jsxs)(a.kC,{gap:{row:6,column:0},children:[(0,A.jsx)(a.zx,{color:"red",onClick:t,size:"lg",text:o._('Go back', 'boardPageContainer.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,A.jsx)(a.zx,{color:"white",onClick:r,size:"lg",text:o._('View anyway', 'boardPageContainer.sensitivityScreen.viewButton', 'Text on button that lets user past sensitivity screen')})]}),(0,A.jsx)(a.xu,{paddingY:4,children:(0,A.jsx)(a.xv,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,V.nk)(o._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'boardPageContainer.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,A.jsx)(a.xv,{color:"light",inline:!0,size:"200",underline:!0,children:(0,A.jsx)(a.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:o._('Community Guidelines', 'boardPageContainer.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})})}var tZ=r(527700),tF=r(622888),tU=r(828763),tH=r(5859),tG=r(161672),tV=r(734513),tW=r(761203);function tq(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tK=(0,n.forwardRef)(function(e,t){var r,o=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(r,2)||function(e,t){if(e){if("string"==typeof e)return tq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tq(e,t)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],s=o[1],c=e.boardTool,u=e.boardId,d=e.boardSectionId,p=e.index,h=c.icon,b=c.link,y=c.text,_=(0,tH.B)().isRTL,m=(0,f.v)().logContextEvent,x=(0,tW.gC)()(u)||{},P=x.owner,j=x.pin_count,w=x.section_count,S=(0,g.Z)(),O=S.isAuth?S.id:"",C=(null==P?void 0:P.id)===O?3069:3070,E=function(e){b.includes("more-ideas")&&m({event_type:e,view_type:d?164:5,view_parameter:C,element:10600,aux_data:{board_id:u,board_pin_count:j,board_section_count:w,board_section_id:d,grid_index:p}})};(0,v.Z)(function(){return E(120)});var I=(0,n.useRef)(null),T=(0,tV.b)().setGroupBoardMessageButton,D=(0,tG.Z5)(),k=D.conversations.showConversationsDropdown,z=D.conversationOpen,R=D.dropdownOpen,B=D.dropdownClose,M=(0,i.TH)(),L=(0,e3.mB)(M.search),N=L.conversation_id,Z=L.tab,F="Message"===y&&!!N&&"inbox"===Z;return F&&T(I.current),(0,A.jsx)(a.Tg,{ref:F?I:t,accessibilityLabel:y,href:F?"":b,onBlur:function(){return s(!1)},onFocus:function(){return s(!0)},onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},onTap:function(){F&&(E(102),k?B():(R(),z(N)))},rounding:6,children:(0,A.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,A.jsx)(a.xu,{alignItems:"center",alignSelf:"center",color:l?"lightWash":"secondary",display:"flex",height:88,justifyContent:"center",rounding:6,width:88,children:(0,A.jsx)(a.JO,{accessibilityLabel:y,color:"default",icon:"text-align-left"===h&&_?"text-align-right":h,size:30})}),(0,A.jsx)(a.xu,{paddingY:1,width:88,children:(0,A.jsx)(a.xv,{align:"center",overflow:"normal",size:"100",weight:"bold",children:y})})]})})});function tY(e){return(tY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tX(e,t,r){var n;return(n=function(e,t){if("object"!==tY(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tY(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===tY(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t$(e){var t,r=e.boardId,o=e.sectionId,i=(0,n.useRef)(),l=(0,n.useRef)(),s=(0,n.useRef)(),c=(0,n.useRef)(),u=(0,y.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,d=(0,e_.Z)(),f=!!o,p=(0,eE.Z)({name:f?"SectionToolsFeedResource":"BoardToolsFeedResource",options:f?{sectionId:o,orbacSubjectId:u?d:""}:{boardId:r,orbacSubjectId:u?d:""}}),h=p.data,b=p.isLoaded;if(b&&(!h||!h.length))return null;var _=[i,l,s,c],m=null==h?void 0:h.filter(function(e){var t=e.tool;return!(u&&d)||2===t}),v=null==m?void 0:m.map(function(e){var t=e.id.split("-");return t&&t.length>1?Number(t[1]):-1});return b&&null!=m&&m.length?(0,A.jsx)(a.xu,{"data-test-id":"board-tools",children:(0,A.jsxs)(a.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:[m.map(function(e,t){var n=v?v[t]:-1;return(0,A.jsx)(a.xu,{"data-test-id":e.text,padding:1,children:(0,A.jsx)(tK,{ref:_[n],boardId:r,boardSectionId:o,boardTool:e,index:t})},e.id)}),(0,A.jsx)(tk.Z,{anchors:(tX(t={},3003,i.current),tX(t,3004,l.current),tX(t,3005,s.current),tX(t,3007,c.current),t),placementId:18,positionRelativeToAnchor:!1})]})}):null}function tJ(e){var t=(0,G.ZP)(),r=e.boardUrl,n=e.onHide,o=e.slug;return(0,A.jsx)(eR.ZP,{duration:2e3,href:"".concat(void 0===r?"":r).concat(o),onHide:n,text:t._('Section added!', 'Toast for successfully creating a new board section', 'Toast for successfully creating a new board section')})}function tQ(e){return(tQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t0(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tQ(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tQ(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tQ(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return t6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t6(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t6(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}tK.displayName="BoardTool";var t8=function(){},t3=(0,h.Z)(18,function(e){var t;return{board_id:e.board.id,pin_count:null!==(t=e.board.sectionless_pin_count)&&void 0!==t?t:0}})(function(e){var t,r,h,S,O,C,E,I,T,D,k=e.board,H=e.experience,V=e.initialModalType,W=e.refreshBoardData,K=void 0===W?t8:W,Y=e.refreshSectionData,X=e.setPlacementExtraContext,$=e.section,J=e.showPulsar,Q=(0,f.v)().logContextEvent,ee=(0,o.useDispatch)(),et=(0,p.Z)(),er=(0,w.I)().setFooterPlusButtonVisible,en=(0,g.Z)(),eo=(0,x.Z)(),ei=(0,R.W$)(en,k),ea=k.collaborated_by_me,es=k.id,ec=k.owner,eu=k.pending_ownership_transfer,ed=k.pin_count,ef=k.privacy,ep=(null==ec?void 0:ec.id)||"",eh=(0,P.q6)(en,ep,eo),eb=(0,d.Z)(ea,ep,en)||eh,em=en.isAuth&&en.id===eu,ev=(0,y.F)().checkExperiment,eg=!eb&&ev("web_board_sensitivity_screen").anyEnabled,ex=(0,P.lJ)(en,eo),eP=ex&&(0,u.Z)(ef)?"?orbac_subject_id=".concat(ex):"",ej=(0,s.Z)(!0);(0,n.useEffect)(function(){var e="other";ei?e="own":(0,R.Df)(en,k)&&(e="collaborator"),X({board_ownership:e})},[H]),(0,n.useEffect)(function(){return eb&&er(!1),function(){er(!0)}},[er,eb]);var ew=(0,m.F9)().showOneToast,eS=(0,i.k6)(),eO=0===(0,b.Hv)().previous.length;t=(0,q.x)(),r=(0,g.Z)(),h=(0,eE.Z)({name:"UserMetadataResource",options:{user:r}}),(0,n.useEffect)(function(){if(h&&h.data&&!(null!=t&&t.boardPinDensity)){var e=h.data.profile_pin_rep_view_type,r=null!=e?e:"regular";null==t||t.setBoardPinDensity(r)}});var eA=(0,U.Z)({board:k}),eC=eA.handleShowMergeSectionsConfirmationModal,eI=eA.mergeConfirmationModalProps,eT=eA.onConfirm,eD=(S=(0,G.ZP)(),O=(0,f.v)().logContextEvent,C=(0,o.useDispatch)(),E=(0,tU.Z)().showBlockingActionToast,I=(0,e_.Z)(),function(e){var t=e.board,r=e.targetBoard;O({event_type:7172,object_id_str:t.id,aux_data:{merge_flow:"menu"}}),C((0,N.xH)(t.id,r.id,I)).then(function(){E({actionType:"merge",board:r})}).catch(function(e){tF.Z.showError(e.message||S._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})}),ek={board_id:k.id,reason:(null===(T=k.sensitivity_screen)||void 0===T?void 0:T.reason)||""},ez=t2((0,n.useState)(!!(null!==(D=k.sensitivity_screen)&&void 0!==D&&D.show_warning)&&eg),2),eR=ez[0],eB=ez[1],eM=t2((0,n.useState)(null),2),eL=eM[0],eN=eM[1],eZ=t2((0,n.useState)(V||null),2),eF=eZ[0],eU=eZ[1],eH=t2((0,n.useState)(null),2),eG=eH[0],eV=eH[1],eW=t2((0,n.useState)(k&&(0,B.VV)(en,k)||"custom"),2),eq=eW[0],eK=eW[1],eY=function(){return eU(F.s.boardArchiveConfirmation)},eX=function(){return eU(F.s.boardUnarchiveConfirmation)},e$=function(){var e=en.isAuth?"/".concat((0,P.Ms)(en,eo)):"/";eS.replace(e)},eJ=function(e){if(et){et();return}eU(F.s.editSection),eN(e)},eQ=function(e){ew(function(t){var r,n=t.hideToast;return(0,A.jsx)(tJ,{boardUrl:k.url,onHide:n,slug:null!==(r=e.slug)&&void 0!==r?r:""})})},e0={board_id:k.id,board_pin_count:ed};return(0,v.Z)(function(){(eS.location.state||Object.freeze({})).shouldOpenCollaboratorsModal&&(eU(F.s.collaboratorsAndPermissions),eS.replace(t1(t1({},eS.location),{},{state:t1(t1({},eS.location.state),{},{shouldOpenCollaboratorsModal:!1})})))}),(0,A.jsx)(j.Z,{objectIdStr:es,viewParameter:ei?3069:3070,viewType:5,children:(0,A.jsx)(_.Z,{auxData:e0,objectId:es,view:5,viewParameter:(0,el.Z)({board:k,viewer:en}),children:(0,A.jsxs)(n.Fragment,{children:[(0,A.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:eR?{filter:"blur(30px)"}:{}},children:[k.is_temporarily_disabled?(0,A.jsx)(tZ.Z,{board:k,boardName:k.name||"",handleShowBoardArchiveConfirmation:eY,handleShowBoardUnarchiveConfirmation:eX,isOwnerOrCollaborator:eb,showOverflowButton:eb}):(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(tI,{board:k,handleBoardEditClick:function(){Q({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),eU(F.s.boardEdit)},handleFollowersClick:function(){eU(F.s.followers)},handleSectionEditClick:function(){return eJ()},handleShowBoardArchiveConfirmation:eY,handleShowBoardUnarchiveConfirmation:eX,handleShowCollabAndPermissionsModal:function(){return eU(F.s.collaboratorsAndPermissions)},handleShowCreatePincodeModal:function(){if(et){et();return}Q({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),eU(F.s.pincode)},handleShowMergeModal:function(){if(et){et();return}eU(F.s.mergeBoard)},section:$,showPulsar:J}),eb&&(0,A.jsx)(a.xu,{marginBottom:6,marginTop:6,children:(0,A.jsx)(t$,{boardId:k.id,sectionId:null==$?void 0:$.id})}),em&&(0,A.jsx)(tD,{boardId:k.id,collaboratorId:en.isAuth?en.id:"",collaboratorUsername:en.isAuth?en.username:""}),eF!==F.s.jumpstartBoard&&(0,A.jsx)(_.Z,{auxData:e0,component:178,objectId:k.id,view:5,viewParameter:ei?3069:3070,children:(0,A.jsx)(ey,{board:k,currentView:eq,handleContentViewChange:function(e){return eK(e)},handleSetCurrentModal:eU,handleShowEditSectionModal:eJ,handleShowMergeSectionsConfirmationModal:eC,isOwnBoard:ei,isOwnerOrCollaborator:eb,isPinGridSorted:"custom"!==eq,refreshBoardData:K,refreshSectionData:void 0===Y?t8:Y,section:$})}),(0,A.jsx)(z,{boardId:k.id,handleShowArchiveConfirmation:eY,handleShowGroupPinsModal:function(e,t){eU(F.s.groupPins),eV({clusterId:e,suggestedSectionName:t})}}),eb&&(0,A.jsx)(tB,{handleAddSection:function(){if(et){et();return}Q({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),eU(F.s.simpleCreateSection)},handleCreatePin:function(){if(et){et();return}Q({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),eS.push({pathname:"/pin-builder/",state:{board:k,boardSection:$}})},handleCreateStoryPin:function(){if(et){et();return}Q({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),eS.push({pathname:(0,l.Z)(ej),state:{board:k,entry_type:"board_plus_button",boardSection:$}})},surface:$?"section":"board"})]}),eF&&(0,A.jsx)(Z.Z,{actions:{completeCreateSectionAction:function(e){if(et){et();return}eU(null),eQ(e)},onBoardArchiveChange:function(){ee((0,N.K8)(en.isAuth?en.username:""))},onBoardDelete:function(){K(),e$()},onBoardLeave:function(){ee((0,N.K8)(en.isAuth?en.username:"")),e$()},onBoardMerge:function(e){eD({board:k,targetBoard:e}),e$()},onBoardSectionDelete:function(){if(eN(null),eU(null),$){var e,t=null!==(e=k.url)&&void 0!==e?e:"";eS.replace("".concat(t).concat(eP))}},onBoardSectionSave:function(e){var t=e.slug;if(eN(null),eU(null),$){var r,n="".concat(null!==(r=k.url)&&void 0!==r?r:"").concat(t,"/").concat(eP);eS.replace(n)}},onConfirmMergeSection:eT},board:k,boardSection:$||eL,currentModal:eF,groupPinsData:eG,mergeConfirmationModalProps:eI,onClearModal:function(){return eU(null)}}),(0,A.jsx)(M.Z,{placementId:18}),(0,A.jsx)(L.Z,{placementId:18}),(0,A.jsx)(c.Z,{placementId:18})]}),eR&&(0,A.jsx)(tN,{handleGoBack:function(){Q({event_type:101,component:13860,element:73,view_type:5,aux_data:t1({},ek)}),eO&&eS.replace("/"),eS.goBack()},hideSensitivityScreen:function(){ee((0,N.of)(k.id)),Q({event_type:101,component:13860,element:12448,view_type:5,aux_data:t1({},ek)}),eB(!1)},sensitivityScreenAuxData:ek})]})})})})},805579:function(e,t,r){"use strict";r.d(t,{k:function(){return i},s:function(){return a}});var n=r(672652),o=(0,n.createContext)(Object.freeze({})),i=o.Provider;function a(){return(0,n.useContext)(o)}},527700:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(684404),o=r(827265),i=r(140017),a=r(339001),l=r(182160),s=r(819267);function c(e){var t=e.board,r=e.boardName,c=e.handleShowBoardArchiveConfirmation,u=e.handleShowBoardUnarchiveConfirmation,d=e.isOwnerOrCollaborator,f=e.showOverflowButton,p=(0,i.ZP)(),h=function(){};return(0,s.jsx)(n.xu,{height:"100%",width:"100%",children:(0,s.jsxs)(n.kC,{alignItems:"center",direction:"column",children:[(0,s.jsx)(n.xu,{marginTop:4,children:(0,s.jsxs)(n.kC,{alignItems:"center",direction:"row",gap:4,children:[f&&(0,s.jsx)(n.xu,{width:44}),(0,s.jsx)(n.X6,{align:"center",children:r}),f&&!!t&&!!c&&!!u&&(0,s.jsx)(n.xu,{marginTop:2,children:(0,s.jsx)(l.Z,{board:t,onArchiveClick:c,onCreatePincode:h,onEditBoardClick:h,onEditSectionClick:h,onMergeClick:h,onUnarchiveClick:u,showArchiveOnly:!0,showCreatePinCodeOption:!1,surface:"board"})})]})}),(0,s.jsx)(n.xu,{height:105}),(0,s.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:8,children:[(0,s.jsx)(n.xu,{"aria-hidden":!0,color:"default",height:160,width:160,children:(0,s.jsx)(n.Ee,{alt:"",naturalHeight:1,naturalWidth:1,src:o})}),(0,s.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,s.jsx)(n.X6,{align:"center",size:"400",children:p._('Sorry, this board is currently unavailable', 'temporarilyDisabledBoard.unavailableText', 'Unavailable board text')}),d&&(0,s.jsx)(n.xv,{children:(0,a.nk)(p._('Learn more about some of our {{ recentUpdates }}', 'temporarilyDisabledBoard.descriptionText', 'text explaining why board is unavailable. recentUpdates:link to recent privacy policy updates'),{recentUpdates:(0,s.jsx)(n.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/teen-safety-options",target:"blank",underline:"always",children:p._('recent updates', 'temporarilyDisabledBoard.link', 'Text for link to view teen safety options')},"helpLink")})})]})]})]})})}},693138:function(e,t,r){"use strict";r.d(t,{Ac:function(){return i},c7:function(){return o},cg:function(){return n}});var n=-1,o=5,i=6},254305:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(551539);function o(e){var t,r=e.board,o=e.viewer;return(0,n.Z)(o,null===(t=r.owner)||void 0===t?void 0:t.id)?3069:3070}},730006:function(e,t,r){"use strict";r.d(t,{q:function(){return a}});var n=r(693138);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t,r,a,l){var s,c,u=e.owner,d=(null==u?void 0:u.id)===t.id,f="react_grid_pin";return t.isPartner&&d&&(f="partner_react_grid_pin"),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({board_id:e.id,board_url:null!==(s=e.url)&&void 0!==s?s:"",currentFilter:a,field_set_key:f,filter_section_pins:!a||a===n.cg,sort:"most_reactions"===r?"most_reactions":"default",layout:null!==(c=e.layout)&&void 0!==c?c:"",page_size:25,redux_normalize_feed:!0},l?{orbac_subject_id:l}:Object.freeze({}))}},747794:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(684404),o=r(819267);function i(e){var t=e.children,r=e.setMaxWidth;return(0,o.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:void 0===r||r?(0,o.jsx)(n.xu,{maxWidth:774,paddingX:2,width:"100%",children:t}):(0,o.jsx)(n.xu,{width:"100%",children:t})})}},313669:function(e,t,r){"use strict";r.d(t,{Z:function(){return eo}});var n=r(672652),o=r(684404),i=r(892254),a=r(611311),l=r(718545),s=r(67288),c=r(676554),u=r(891162),d=function(e){return null===e},f=function(e){return e?164:5},p=function(e){return"story"===e.type&&["recommended_searches","search_related_queries","BUBBLE_ONE_COL"].includes(e.story_type)},h=function(e,t){return e+(e>=t?1:0)},b=(0,u.Q6)(function(e){return e}),y=r(819267);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e){var t=e.allowReordering,r=e.auxData,n=e.boardSectionId,o=e.gridItem,i=e.handlePinDragBegin,u=e.handlePinDragEnd,d=e.handlePinDragHover,p=e.index,h=e.lfvExperiences,b=e.onBulkEditPinClick,_=e.source,m=e.target,g=e.viewParameter,x=o.inBulkEditMode,P=o.isCollaborator,j=o.isGroupBoard,w=o.isOwnBoard,S=o.isSelected,O=o.itemKey.id,A=m===p,C={pinId:O,duploQueryRef:null,imageOnlyOption:!w&&(0,s.Z)(h)?"image-only":"default",attributionOption:j?"show":"hide",pinImageCrop:"none",authDesktopSurface:x?"BulkEditMode":"BaseBoardPinGrid",slotIndex:p,viewParameter:g,viewType:f(n),auxData:r};if(!w&&!P)return(0,y.jsx)(c.ZP,v({},C));var E="no-selection";x&&(E=S?"selected":"deselected");var I=(0,y.jsx)(c.ZP,v(v({},C),{},{authDesktopSelectionState:E,disableHover:-1!==_||x}));return x&&(I=(0,y.jsx)(a.Z,{isSelected:S,onClick:function(){return b(O)},children:I})),t&&(I=(0,y.jsx)(l.Z,{index:p,isDragging:A,onDragBegin:i,onDragEnd:u,onDragHover:d,type:l.y.Pin,children:I})),I}var x=r(214877),P=r(776569),j=r(970521),w=r(107366),S=r(775089),O=r(213377),A=r(140017),C=r(340523),E=r(493538),I=r(466385),T=r(830889),D=r(35222),k=r(422827);function z(e){var t=e.isSection,r=(0,A.ZP)(),n=t?r._('There aren\u2019t any Pins in this section yet', 'EmptyBoard.EmptyText.section', 'Statement that there are no pins in the section'):r._('There aren\u2019t any Pins on this board yet', 'EmptyBoard.EmptyText.board', 'Statement that there are no pins on the board');return(0,y.jsx)(k.Z,{children:(0,y.jsx)(o.xu,{"data-test-id":"empty-text",paddingY:8,children:(0,y.jsx)(o.xv,{color:"default",size:"300",children:n})})})}function R(e){var t=e.hasSections,r=e.isSection;return(0,y.jsx)(o.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:!r&&t?null:(0,y.jsx)(z,{isSection:r})})}var B=r(180338),M=r(821419),L=r(402287),N=r(64819),Z=r(937310),F=r(299351);function U(e){var t=e.boardSectionId,r=e.gridItem,n=e.index,i=e.paddingBottom,a=e.renderPinItem,l=e.viewParameter,s=r.itemKey,c=null;switch(s.type){case"story":c=(0,y.jsx)(F.Z,{slot:n,storyId:s.id,viewParameter:l,viewType:f(t)});break;case"pin":c=(0,y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:i}},children:a(r,n)});break;default:c=null}return(0,y.jsx)(o.xu,{children:c},"".concat(s.type,":").concat(s.id))}var H=(0,r(507584).Z)(l.y.Pin)(function(e){var t=e.allowReordering,r=e.children,n=e.connectDropTarget,o=e.index,i=e.isDragWithinBounds;return t&&n?n((0,y.jsx)("div",{style:{opacity:-1===o||i?1:.5},children:r})):r});function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(t){ee(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function K(e,t){if(e){if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,et(n.key),n)}}function $(e,t){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function J(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,r){return(t=et(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function et(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==G(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===G(t)?t:String(t)}var er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}(l,e);var t,r,i,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=Q(l);if(t){var n=Q(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return J(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ee(J(e=a.call.apply(a,[this].concat(r))),"state",{reorderSource:-1,reorderTarget:-1}),ee(J(e),"handlePinAdded",function(t){var r=e.props,n=r.board,o=r.boardSectionId,i=r.dispatch;t===n.id&&(i((0,M.xQ)(n.id)),o&&i((0,L.CE)(o)))}),ee(J(e),"handlePinDragBegin",function(t){return e.setState({reorderSource:t})}),ee(J(e),"handlePinDragHover",function(t){t!==e.state.reorderTarget&&e.setState({reorderTarget:t})}),ee(J(e),"handlePinDragEnd",function(t){var r=e.props,n=r.board,o=r.boardSectionId,i=r.dispatch,a=r.feed,l=r.viewParameter,s=r.orbacSubjectId,c=e.state,u=c.reorderSource,d=c.reorderTarget;if(a&&t&&-1!==d&&-1!==u&&d!==u){var p,b=e.hiddenItemIndex,y=function(e){if(Array.isArray(e))return e}(p=-1===b?[u,d]:[h(u,b),h(d,b)])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(p,2)||K(p,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=y[0],m=y[1],v=(0,I.Z)(a,_,m),g=a[_].id;i((0,N._f)({feedType:o?Z.Z.BOARD_SECTION_PINS:Z.Z.BOARDFEED,feedId:o||n.id,itemType:"pin",targetItemId:a[m].id,sourceItemId:a[_].id}));var x=v.filter(function(e){return"pin"===e.type}).map(function(e){return e.id}),P=x.indexOf(g),j=P-1,S=P+1,O={pin:g};j>=0&&j<x.length&&(O=q(q({},O),{},{before_pin:x[j]})),S>=0&&S<x.length&&(O=q(q({},O),{},{after_pin:x[S]})),s&&(O=q(q({},O),{},{orbac_subject_id:s})),(0,w.Z)({url:"/v3/boards/".concat(n.id,"/reorder_pin/"),method:"POST",data:O}).then(function(){return e.props.logContextEvent({event_type:7122,object_id_str:g,view_type:f(o),view_parameter:l})})}e.setState({reorderSource:-1,reorderTarget:-1})}),ee(J(e),"handleFetchMore",function(){var t=e.props.resource,r=t.fetchMore,n=t.isAtEnd,o=t.isFetching;n||o||r()}),ee(J(e),"renderPinItem",function(t,r){var n=e.props,o=n.lfvExperiences,i=n.onBulkEditPinClick,a=n.viewer,l=n.viewParameter,s=n.boardSectionId,c=n.board,u=e.state,d=u.reorderSource,f=u.reorderTarget,p={board_id:c.id,board_pin_count:c.pin_count};return(0,y.jsx)(g,{allowReordering:e.allowReordering,auxData:p,boardSectionId:s,gridItem:t,handlePinDragBegin:e.handlePinDragBegin,handlePinDragEnd:e.handlePinDragEnd,handlePinDragHover:e.handlePinDragHover,index:r,lfvExperiences:o,onBulkEditPinClick:i,source:d,target:f,viewer:a,viewParameter:l})}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.feed,r=e.resource,n=r.isFetching,o=r.refresh;d(t)&&!n&&o()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.feed,n=t.resource,o=n.isFetching,i=n.refresh;!d(r)||d(e.feed)||o||i()}},{key:"allowReordering",get:function(){var e=this.props,t=e.board.collaborated_by_me,r=e.isOwnBoard;return!e.isPinGridSorted&&(r||void 0!==t&&t)}},{key:"hiddenItemIndex",get:function(){var e=this.props,t=e.denseViewSelected,r=e.feed;return t?(r||[]).findIndex(p):-1}},{key:"render",value:function(){var e=this,t=this.props,r=t.bulkEditSelectedPins,i=t.board,a=t.boardSectionId,l=t.feed,s=t.feedStoryId,c=t.footerStoryId,u=t.denseViewSelected,d=t.hasSimplifiedPinGridExpLoaded,f=t.inBoardOrganizationMode,p=t.inSectionOrganizationMode,h=t.isDragWithinBounds,_=t.inSelectAll,m=t.renderFooterStory,v=t.renderMoreIdeas,g=t.resource,x=g.isAtEnd,j=g.isFetching,w=g.refresh,A=g.isLoaded,C=t.isOwnBoard,T=t.refreshFilteredFeed,D=i.access,k=i.collaborated_by_me,z=void 0!==k&&k,M=i.collaborator_count,L=i.section_count,N=this.state,Z=N.reorderSource,F=N.reorderTarget;if(!l||!l.find(function(e){return"pin"===e.type}))return j?(0,y.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Board Pins grid', ' - ', ' -- '),show:!0}):(A&&l&&0===l.length&&T&&T(),z&&!(null!=l&&l.length)&&(i.pin_count||0)>0&&w(),(0,y.jsxs)(n.Fragment,{children:[A&&l&&0===l.length&&(0,y.jsx)(R,{hasSections:!!L,isSection:!!a}),m&&c&&m(c),v&&s&&v(s)]}));var G=this.allowReordering,W=G&&Z!==F&&-1!==Z&&-1!==F,K=l||[],Y=this.hiddenItemIndex;if(-1!==Y&&(K=[].concat(V(K.slice(0,Y)),V(K.slice(Y+1)))),W&&(K=(0,I.Z)(K,Z,F)),!K.length)return(0,y.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Board Pins grid', ' - ', ' -- '),show:!0});var X={inBulkEditMode:f||p,inDenseView:u||!1,isGroupBoard:(void 0===M?0:M)>0,userCanEdit:(D||[]).includes("write"),isOwnBoard:C,isCollaborator:z},$=K.map(function(e){return b(q(q({},X),{},{itemKey:e}))});return(0,y.jsx)(B.H,{value:{onPinCreate:function(t){var r=t.boardId;return e.handlePinAdded(r)}},children:(0,y.jsxs)(o.xu,{"data-test-id":"base-board-pin-grid",minHeight:u?800:"",children:[(0,y.jsx)(H,{allowReordering:G,index:F,isDragWithinBounds:h,children:d&&(0,y.jsx)(E.Z,{isAtEndOfFeed:x,itemCount:$.length,children:(0,y.jsx)(S.default,{columnWidth:u?O.Lo:O.yF,gutterWidth:u?2*O.$H/3:void 0,items:$,layout:"basic",loadItems:this.handleFetchMore,renderItem:function(t){var n=t.data,i=t.itemIdx,a=X.inBulkEditMode,l="pin"===n.itemKey.type&&!!(null!=r&&r.includes(n.itemKey.id));return(0,y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:u?-10:0}},children:(0,y.jsx)(U,{boardSectionId:e.props.boardSectionId,gridItem:q(q({},n),{},{isSelected:a&&(_?!l:l)}),index:i,paddingBottom:e.props.denseViewSelected?6:0,renderPinItem:e.renderPinItem,viewParameter:e.props.viewParameter})})}},"".concat(String(u),"-").concat(String(f),"-").concat(String(p)))})}),G&&-1!==Z&&(0,y.jsx)(P.Z,{}),(j||!d)&&(0,y.jsx)(o.xu,{paddingY:3,position:"relative",children:(0,y.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Loading Board Feed', ' - ', ' -- '),show:!0})}),x&&c&&m&&m(c),x&&s&&v&&v(s)]})})}}],X(l.prototype,r),i&&X(l,i),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component),en=(0,j.Z)(1000182)(function(e){var t=(0,x.v)().logContextEvent,r=(0,A.ZP)(),o=(0,(0,C.F)().checkExperiment)("web_m10n_business_access_orbac_ga").anyEnabled,a=(0,D.Z)(),l=(0,i.$)().hasSimplifiedPinGridExpLoaded,s=(0,T.Z)(),c=e.board,u=e.boardSectionId,d=e.isOwnBoard,f=e.resource;return(0,n.useEffect)(function(){f.isAtEnd&&t({event_type:15145,view_type:u?164:5,view_parameter:d?3069:3070,aux_data:{board_id:c.id,board_pin_count:c.pin_count,board_section_id:u,board_section_count:c.section_count}})},[c,u,d,t,f]),(0,y.jsx)(er,q(q({},e),{},{hasSimplifiedPinGridExpLoaded:l,i18n:r,lfvExperiences:s,logContextEvent:t,orbacSubjectId:o?a:""}))});en.displayName="BaseBoardPinGrid";var eo=en},60352:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(780277),o=r(995917),i=r(149722),a=r(785059),l=r(199677),s=r(281871),c=r(937310),u=r(313669),d=r(163215),f=r(653585),p=r(819267);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e){var t=(0,i.Z)(),r=(0,a.Z)(),h=(0,l.lJ)(t,r),b=(0,o.Z)({name:"BoardSectionPinsResource",options:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{currentFilter:r,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:n}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,h)}),_=(0,o.Z)({name:"BoardsResource",options:(0,s.Z)(e.viewer.username,!0)}),m=(0,n.useSelector)(function(t){var r=t.feeds,n=t.desktopStories;return(0,d.Z)(r["".concat(c.Z.BOARD_SECTION_PINS,":").concat(e.boardSectionId)],n)});return(0,p.jsx)(u.Z,y(y(y({},e),m),{},{boardsResource:_,renderMoreIdeas:function(t){return e.isOwnBoard?null:(0,p.jsx)(f.Z,{storyId:t})},resource:b}))}_.displayName="BoardSectionPinGrid";var m=_},163215:function(e,t){"use strict";t.Z=function(e,t){return e?e.reduce(function(e,r){var n,o=e.feed,i=e.feedStoryId,a=e.footerStoryId,l="story"===r.type&&(null===(n=t[r.id])||void 0===n?void 0:n.story_type),s="board_ideas_preview_detailed"===l,c="board_ideas_feed"===l;return{feed:o.concat(s||c?[]:[r]),footerStoryId:s?r.id:a,feedStoryId:c?r.id:i}},{feed:[],feedStoryId:void 0,footerStoryId:void 0}):{feed:e,feedStoryId:void 0,footerStoryId:void 0}}},635842:function(e,t,r){"use strict";function n(e,t){var r=e.url,n=t.slug;return"".concat(null!=r?r:"").concat(null!=n?n:"","/")}r.d(t,{Z:function(){return n}})},276552:function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"_tools/more-ideas/")}r.d(t,{Z:function(){return n}})},775265:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(672652),o=r(684404),i=r(676554),a=r(819267);function l(e){var t=e.index,r=e.isSelected,l=e.pin,s=e.handlePinSelectionChanged,c=l.id,u=(0,n.useCallback)(function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),s(c,!r)},[c,r]);return(0,a.jsx)(o.iP,{onTap:u,rounding:4,children:(0,a.jsx)(i.ZP,{attributionOption:"hide",authDesktopSelectionState:r?"selected-image-only":"deselected-image-only",authDesktopSurface:"SectionSuggestedPins",blockClickEvents:!0,duploQueryRef:null,pin:l,pinId:l.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},slotIndex:t})})}},654773:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(672652),o=r(780277),i=r(684404),a=r(214877),l=r(930837),s=r(140017),c=r(340523),u=r(995917),d=r(35222),f=r(821419),p=r(402287),h=r(430408),b=r(775265),y=r(971504),_=r(819267);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||x(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function j(e){var t,r=e.boardId,j=e.clusterId,w=e.handleAddClick,S=e.isBoardOrganizeFeed,O=e.onDismiss,A=e.suggestedSectionTitle,C=(0,a.v)().logContextEvent,E=(0,s.ZP)(),I=(0,n.useRef)(null),T=g((0,n.useState)([]),2),D=T[0],k=T[1],z=g((0,n.useState)(A),2),R=z[0],B=z[1],M=(0,d.Z)(),L=(0,c.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,N=(0,u.Z)({name:"SectionSuggestionsPinsResource",options:{boardId:r,clusterId:j}}),Z=N.data,F=N.fetchMore,U=N.isFetching,H=N.isLoaded,G=S?3541:3069,V=(0,o.useDispatch)(),W=(null!==(t=(0,y.L)())&&void 0!==t?t:{}).setShowCreateSectionTooltip,q=(0,n.useCallback)(function(){if(Z){var e=Z.map(function(e){return e.id}),t=e.length,n=e.filter(function(e){return!D.includes(e)});w&&w(R),V((0,p.vB)({boardId:r,name:R},E,L?M:"",C)).then(function(e){V((0,h.Z)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({inverseSelection:!1,selectedPinIds:n,source:{boardId:r,sectionId:null},target:{boardId:r,sectionId:e.id}},L&&M?{orbacSubjectId:M}:Object.freeze({})),E))}).then(function(){V((0,f.Tq)(r,"pin_count",L?M:"")),C({event_type:8606,object_id_str:r,view_type:5,view_parameter:G,aux_data:{number_pins_suggested:t,number_pins_selected:n.length,section_title:R,suggested_section_name:A}}),O(),S||W(!0)})}},[D,R,Z]),K=function(e,t){var r=function(e){if(Array.isArray(e))return P(e)}(D)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(D)||x(D)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r.indexOf(e);t&&-1!==n?r.splice(n,1):t||-1!==n||r.push(e),k(r)};return(0,_.jsx)(l.ZP,{accessibilityModalLabel:E._('Add suggested pins to your newly created section modal', 'sectionSuggestionPinsModal.modal.accessibilityLabelForModal', 'Accessibility label for modal'),allowScroll:!0,footer:(0,_.jsxs)(i.xu,{display:"flex",justifyContent:"end",paddingX:2,children:[(0,_.jsx)(i.xu,{display:"inlineBlock",marginEnd:2,children:(0,_.jsx)(i.zx,{onClick:function(){O(),S||W(!0),C({event_type:8607,object_id_str:r,view_type:5,view_parameter:G,aux_data:{suggested_section_name:A}})},text:E._('Not now', 'sectionSuggestionPinsModal.footer.cancelButton', 'Cancel creating a board section')})}),(0,_.jsx)(i.xu,{display:"inlineBlock",children:(0,_.jsx)(i.zx,{color:"red",onClick:q,text:E._('Add section', 'sectionSuggestionPinsModal.footer.addSectionButton', 'Add pins and section')})})]}),heading:E._('Pick your Pins and you\'re all set!', 'sectionSuggestionPinsModal.modal.heading', 'Heading for modal to add suggested pins to your newly created section'),onDismiss:O,size:704,children:(0,_.jsxs)(i.xu,{ref:I,maxHeight:600,maxWidth:704,overflow:"auto",children:[(0,_.jsxs)(i.xu,{padding:4,paddingX:2,children:[(0,_.jsx)(i.xv,{size:"200",children:E._('Section name', 'sectionSuggestionPinsModal.modal.sectionNameTitle', 'Title for section name')}),(0,_.jsx)(i.xu,{paddingY:2,children:(0,_.jsx)(i.nv,{id:"SectionSuggestionPinsTitle",onChange:function(e){B(e.value)},placeholder:E._('Add a name for this group', 'sectionSuggestionPinsModal.modal.sectionNameTitle.placeholder', 'Placeholder for section name'),size:"lg",value:R})})]}),H&&Z&&(0,_.jsx)(i.Rk,{columnWidth:152,gutterWidth:16,items:Z,loadItems:F,renderItem:function(e){var t=e.data,r=e.itemIdx;return(0,_.jsx)(b.Z,{handlePinSelectionChanged:K,index:r,isSelected:!D.includes(t.id),pin:t})},scrollContainer:function(){return I.current}}),(0,_.jsx)(i.$j,{accessibilityLabel:E._('Loading pins', 'sectionSuggestionPinsModal.modal.spinner', 'Loading indicator'),show:U})]})})}},748599:function(e,t,r){"use strict";r.d(t,{P:function(){return d},i:function(){return f}});var n=r(684404),o=r(388769),i=r(140017),a=r(72461),l=r(339001),s=r(5859),c=r(819267),u=function(e){var t=e.bold,r=e.count,i=e.shortform,a=e.size,l=e.text;return(0,c.jsx)(n.xu,{children:(0,c.jsxs)(n.xv,{align:"center",color:"default",size:void 0===a?"200":a,weight:void 0!==t&&t?"bold":"normal",children:[(0,c.jsx)(o.Z,{shortform:void 0!==i&&i,value:r})," ",l]})})},d=function(e){var t=e.bold,r=e.count,o=e.onClick,a=e.shortform,l=e.size,s=(0,i.ZP)();return(0,c.jsx)(n.xu,{children:(0,c.jsx)(n.iP,{onTap:o,children:(0,c.jsx)(u,{bold:t,count:r,shortform:a,size:l,text:s.ngettext('follower', 'followers', r, 'label for n follower(s)', 'label for n follower(s)')})})})},f=function(e){var t=e.count,r=e.size,o=(0,i.ZP)(),u=(0,s.B)().locale,d=(0,a.Z)(),f=(0,l.nk)(o.ngettext('{{ count }} Pin', '{{ count }} Pins', t, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:d(u,t,{})});return(0,c.jsx)(n.xu,{children:(0,c.jsx)(n.xv,{color:"default",inline:!0,size:r,children:f})})}},971504:function(e,t,r){"use strict";r.d(t,{L:function(){return c},M:function(){return u}});var n=r(672652),o=r(342513),i=r(819267);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=(0,o.Z)("CreateSectionTooltip"),s=l.Provider,c=l.useMaybeHook;function u(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],c=o[1],u=(0,n.useMemo)(function(){return{showCreateSectionTooltip:l,setShowCreateSectionTooltip:c}},[l]);return(0,i.jsx)(s,{value:u,children:r})}},182160:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(672652),o=r(684404),i=r(214877),a=r(71024),l=r(140017),s=r(983983),c=r(553319),u=r(898233),d=r(819267);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,r){var n;return(n=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===f(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e){var t,r,f,b,y,_,m,v,g,x,P,j,w,S,O,A,C,E,I=e.board,T=e.onArchiveClick,D=e.onCreatePincode,k=e.onEditBoardClick,z=e.onEditSectionClick,R=e.onMergeClick,B=e.onUnarchiveClick,M=e.showArchiveOnly,L=e.showCreatePinCodeOption,N=e.surface,Z=(0,l.ZP)(),F=(0,n.useRef)(null),U=(0,i.v)().logContextEvent,H=h((0,n.useState)(!1),2),G=H[0],V=H[1],W=h((0,n.useState)("boardOptions"),2),q=W[0],K=W[1],Y=function(){V(!1),K("boardOptions")},X={description:I.description,id:I.id,imageUrl:I.image_cover_url,name:I.name,type:"board",url:I.url,ownerId:null===(E=I.owner)||void 0===E?void 0:E.id},$=function(){V(function(e){return!e}),K("boardOptions")},J=!!I.archived_by_me_at,Q=["section"===N?(r=(t={handleClose:Y,onEditClick:z,setMenuType:K}).handleClose,f=t.onEditClick,b=t.setMenuType,{items:[{dataTestId:"edit-section-button",text:Z._('Edit Section', 'BoardHeader.getSectionOptionsCategory.EditOption', 'Clickable text to enter board editing mode'),onClick:function(){f(),r()}},{text:Z._('Share', 'BoardHeader.getSectionOptionsCategory.ShareOption', 'Clickable text to show share options'),onClick:function(){(0,c.Z)(U),b("boardShare")}}],label:Z._('Section options', 'BoardHeader.getSectionOptionsCategory.OptionsCategory', 'Category of section options in section flyout')}):(y={handleClose:Y,isArchived:J,onArchiveClick:T,onCreatePincode:D,onEditClick:k,onMergeClick:R,onUnarchiveClick:B,setMenuType:K,showCreatePinCodeOption:L,isAdOnlyPins:I.is_ads_only},_=void 0!==M&&M,m=y.handleClose,v=y.isArchived,g=y.onArchiveClick,x=y.onCreatePincode,P=y.onEditClick,j=y.onMergeClick,w=y.onUnarchiveClick,S=y.setMenuType,O=y.showCreatePinCodeOption,A=y.isAdOnlyPins,C=_?[]:[{dataTestId:"editBoardButton",text:Z._('Edit board', 'BoardHeader.BoardOptionsFlyout.EditOption', 'Clickable text to enter board editing mode'),onClick:function(){P(),m()}},{text:Z._('Share', 'BoardHeader.BoardOptionsFlyout.ShareOption', 'Clickable text to show share options'),onClick:function(){(0,c.Z)(U),S("boardShare")}}],A||C.push({text:Z._('Merge', 'BoardHeader.BoardOptionsFlyout.MergeOption', 'Clickable text to open merge board modal'),onClick:function(){j(),m()}}),v?C.push({text:Z._('Unarchive', 'BoardHeader.BoardOptionsFlyout.UnarchiveOption', 'Clickable text to open unarchive modal'),onClick:function(){w(),m()}}):C.push({text:Z._('Archive', 'BoardHeader.BoardOptionsFlyout.ArchiveOption', 'Clickable text to open archive modal'),onClick:function(){g(),m()}}),O&&!_&&C.push({text:Z._('Create Pincode', 'BoardHeader.BoardOptionsFlyout.PincodeOption', 'Clickable text to trigger Pincode modal'),onClick:function(){x(),m()}}),{items:C,label:Z._('Board options', 'BoardHeader.BoardOptionsFlyout.OptionsCategory', 'Category of board options in board flyout')})];return(0,d.jsxs)(o.xu,{position:"relative",zIndex:new o.Ry(s.fe-1),children:[(0,d.jsx)(o.xu,{ref:F,"data-test-id":"more-board-options",children:(0,d.jsx)(o.hU,{accessibilityLabel:Z._('More Board options', 'BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel', 'Accessibility label on icon button'),bgColor:"lightGray",icon:"ellipsis",iconColor:"darkGray",onClick:$,selected:G,size:"sm"})}),(0,d.jsx)(a.Z,{anchors:p({},3001,F.current),onCompleteByAnchor:p({},3001,$),placementId:18}),G&&("boardOptions"===q?(0,d.jsx)(o.Lt,{anchor:F.current,disableMobileUI:!0,id:"board_options",onDismiss:Y,children:Q.map(function(e){var t=e.items,r=e.label;return(0,d.jsx)(o.Lt.Section,{label:r,children:t.map(function(e){var t=e.dataTestId,r=e.isSelected,n=e.onClick,i=e.text;return(0,d.jsx)(o.Lt.Item,{dataTestId:t,onSelect:n,option:{label:i,value:i},selected:r?{label:i,value:i}:null},i)})},r)})}):(0,d.jsx)(o.J2,{anchor:F.current,onDismiss:Y,size:"flexible",children:(0,d.jsx)(u.Z,{component:13216,onCreatePincodeClick:D,onHide:Y,sendType:"board",sharedObject:X,viewType:5})}))]})}},259078:function(e,t){"use strict";t.Z=function(e){var t=e.boardCollaboratorCount,r=e.collaborators,n=t?t+1:r.length,o=n>3,i=r.slice(0,o?2:3),a=o?n-i.length:0;return{displayedCollaborators:i,nonDisplayedCollaboratorCount:a}}},422827:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(684404),o=r(819267);function i(e){var t=e.children;return(0,o.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:t})}},653585:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(780277),o=r(412116),i=r(819267),a=(0,o.ZP)({resolved:{},chunkName:function(){return"app-www-BoardMoreIdeasPage-MoreIdeasTabContentPageDefault"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return Promise.all([r.e(97270),r.e(84404),r.e(40127),r.e(72006)]).then(r.bind(r,487087))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then(function(e){return t.resolved[r]=!0,e})},requireSync:function(e){return r(this.resolve(e))},resolve:function(){return 487087}});function l(e){var t=e.storyId,r=(0,n.useSelector)(function(e){return e.desktopStories[t]});return(r&&"board_ideas_feed"===r.story_type?r:void 0)?(0,i.jsx)(a,{surface:"board"}):null}},915625:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n,o=r(780277);r(42279);var i=r(684404),a=r(214877),l=r(207012),s=r(140017),c=r(334688),u=r(886612),d=r(819267);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var y=void 0!==n?n:n=r(106622);function _(e){var t,r,n,o,a=e.pin;return(0,d.jsx)(i.zd,{rounding:4,width:138,children:(0,d.jsx)(u.Z,{height:207,pin:a&&{imageUrl:null!==(t=null===(r=a.imageSpec_474x)||void 0===r?void 0:r.url)&&void 0!==t?t:"",dominantColor:null!==(n=a.dominantColor)&&void 0!==n?n:"",description:null!==(o=a.description)&&void 0!==o?o:""},width:138})})}function m(e){var t,r,n=e.collection,o=e.storyKey,u=e.url,f=(0,a.v)().logContextEvent,p=(0,s.ZP)(),h=(0,c.Z)(),m=h.isHovering,v=h.hoverHandlers,g=(0,l.Z)(y,o);if(!g)return null;var x=g.objects&&g.objects.filter(function(e){return"pin"===e.type})||[];return(0,d.jsx)("div",{className:"moreIdeasOnBoard",children:(0,d.jsx)(i.Tg,{fullWidth:!1,href:"".concat(u,"?ideas_referrer=").concat(null!==(r=g.referringSource)&&void 0!==r?r:""),onMouseEnter:v.onMouseOver,onMouseLeave:v.onMouseLeave,onTap:function(){return f({event_type:101,element:10600,view_type:"boardsection"===n.type?164:5,object_id_str:n.id,view_parameter:3069})},rounding:4,children:(0,d.jsxs)(i.xu,{alignItems:"start",color:m?"secondary":"default",direction:"column",display:"flex",justifyContent:"start",marginEnd:-3,paddingX:3,paddingY:2,rounding:4,width:"100%",children:[(0,d.jsx)(i.xu,{padding:2,children:(0,d.jsx)(i.X6,{lineClamp:1,size:"400",children:"boardsection"===n.type?p._('Find some ideas for this section:', 'Call-to-action text that upsells more ideas tab for an empty section', 'Call-to-action text that upsells more ideas tab for an empty section'):p._('Find some ideas for this board:', 'Call-to-action text that upsells more ideas tab for an empty board', 'Call-to-action text that upsells more ideas tab for an empty board')})}),(0,d.jsx)(i.xu,{display:"flex",justifyContent:"between",padding:2,width:"100%",children:((function(e){if(Array.isArray(e))return b(e)})(t=[,,,,,].keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){var t=x[e],r=t&&t.description?t.description.trim():"";return(0,d.jsx)(i.xu,{"data-test-id":r?"pin-with-alt-text":"pin-missing-alt-text",children:(0,d.jsx)(_,{pin:t})},"".concat(t&&t.entityId?t.entityId:e))})})]})})})}function v(e){var t=(0,o.useSelector)(function(t){return t.desktopStories[e.storyId]}),r="board_ideas_preview_detailed"===t.story_type?t:void 0;return(0,d.jsx)(m,h(h({},e),{},{storyKey:void 0!==r?{type:"deprecated",data:r}:null}))}},54966:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e,t){var r=e.boardDensity,i=e.component,a=e.viewType,l=function(e){var t=e.boardDensity;switch(e.viewType){case 164:return"regular"===t?10618:10619;case 5:return"regular"===t?10607:10608;default:return 10607}}({boardDensity:r,viewType:a}),s=4===a?3106:3069;t(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var o,i;o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({event_type:101,component:i,element:l},a?{view_type:a,view_parameter:s}:Object.freeze({})))}r.d(t,{Z:function(){return i}})},881157:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(216167);function o(e){var t=e.density,r="board"===e.surface?{profile_pin_rep_view_type:t}:{board_pin_rep_view_type:t};n.Z.create("UserMetadataResource",r).callUpdate()}},886612:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(684404),o=r(140017),i=r(427514),a=r(819267);function l(e){var t=e.pinCount,r=e.height,l=e.size,s=(0,o.ZP)(),c=(0,i.Z)(s._('+{{ pinCount }}', '+N count overlay on pin selections', '+N count overlay on pin selections'),{pinCount:t});return(0,a.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,.2)"}},display:"flex",height:r,justifyContent:"center",children:"sm"===l?(0,a.jsx)(n.xv,{color:"light",size:"200",weight:"bold",children:c}):(0,a.jsx)(n.X6,{color:"light",size:"500",children:c})})}function s(e){var t=e.additionalPinCount,r=e.additionalPinCountSize,o=e.pin,i=e.width,s=e.height,c=e.rounded;return(0,a.jsx)(n.zd,{height:s,rounding:c?4:0,wash:!0,width:i,children:o&&(0,a.jsx)(n.Ee,{alt:o.description,color:o.dominantColor,fit:"cover",naturalHeight:s,naturalWidth:i,src:o.imageUrl,children:!!t&&(0,a.jsx)(l,{height:s,pinCount:t,size:void 0===r?"lg":r})})})}},915986:function(e,t,r){"use strict";r.d(t,{A3:function(){return c},C1:function(){return d},Cw:function(){return h},Ev:function(){return i},IK:function(){return o},Jk:function(){return s},Kx:function(){return p},Oj:function(){return a},PM:function(){return b},VD:function(){return f},bW:function(){return l},kz:function(){return u},p8:function(){return y}});var n=r(684404),o=1,i=1,a=2,l=new n.Ry(5e3),s=15,c=15,u=18,d=24,f=31,p=30,h=40,b=50,y=60},553319:function(e,t,r){"use strict";function n(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}r.d(t,{Z:function(){return n}})},581349:function(e,t,r){"use strict";r.d(t,{W:function(){return u}});var n=r(684404),o=r(481177),i=r(140017),a=r(267508),l=r(319510),s=r(327540),c=r(819267);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e&&e.length>1?RegExp(e,"i"):"";return e&&e.length>1?t.split(r).reduce(function(r,n,o){if(r.length>0&&e&&e.length){var i=t.toLowerCase().indexOf(e.toLowerCase());return r.concat((0,c.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(i,i+e.length)},o),n)}return[n]},[]):t}t.Z=function(e){var t,r,d,f,p,h,b=(0,i.ZP)(),y=e.disabled,_=e.item,m=e.isSection,v=e.isSelectMode,g=e.isWithinSectionPicker,x=e.saveState,P=e.searchQuery,j=e.selected,w=m?null:_,S=m?_:null,O=S&&S.title||w&&w.name||"",A="",C=!1,E="",I=0;if(w){A=w.image_cover_url,C=w.is_collaborative,E=w.privacy;var T=w.section_count;I=void 0===T?0:T}var D=u(P,O),k=E===o.Z.BoardPrivacy.SECRET,z=!y&&(j||!!x),R=!g&&"number"==typeof I&&I>0,B="number"==typeof I&&I>0?"boardWithSection":"boardWithoutSection",M=v?b._('Select', 'Board select button label', 'Board select button label'):b._('Save', 'Pin save button label', 'Pin save button label');return(0,c.jsxs)(n.xu,{alignItems:"center",color:z?"secondary":"default","data-test-id":B,display:"flex",height:64,marginEnd:2,marginStart:2,marginTop:1,padding:2,rounding:3,children:[w&&(0,c.jsx)(n.xu,{color:"secondary",flex:"none",height:48,marginEnd:2,overflow:"hidden",rounding:2,width:48,children:A?(0,c.jsx)(n.Ee,{alt:b._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:A}):(0,c.jsx)("span",{})}),S&&!!(null!==(t=S.preview_pins)&&void 0!==t&&t.length)&&(0,c.jsx)(l.Z,{image_url:null!==(r=S.preview_pins[0].image_square_url)&&void 0!==r?r:"",naturalHeight:null!==(d=null===(f=S.preview_pins[0].image_square_size_pixels)||void 0===f?void 0:f.height)&&void 0!==d?d:1,naturalWidth:null!==(p=null===(h=S.preview_pins[0].image_square_size_pixels)||void 0===h?void 0:h.width)&&void 0!==p?p:1}),(0,c.jsxs)(n.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,c.jsx)(n.xv,{color:y?"subtle":"default",lineClamp:1,size:"300",weight:"bold",children:D}),(R||!z)&&(0,c.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[k&&(0,c.jsx)(s.Z,{type:"secret"}),C&&(0,c.jsx)(a.Z,{board:w,showCollaborativeIcon:C,useLegoLayout:!0}),R&&(0,c.jsx)(s.Z,{type:"sections"})]}),!R&&z&&!x&&(0,c.jsx)(n.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,c.jsx)(n.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:M})}),!R&&z&&"loading"===x&&(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,c.jsx)(n.$j,{accessibilityLabel:b._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},503500:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(672652),o=r(684404),i=r(214877),a=r(140017),l=r(995917),s=r(819267);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=p(i);if(t){var n=p(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return h(f(e=n.call.apply(n,[this].concat(r))),"state",{isHovering:!1}),h(f(e),"onHover",function(){e.setState({isHovering:!0})}),h(f(e),"offHover",function(){e.setState({isHovering:!1})}),e}return u(i.prototype,[{key:"render",value:function(){var e,t,r,n=this.props,i=n.name,a=n.selected,l=n.image;return n.inFlyoutExp?(0,s.jsxs)(o.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",onMouseOut:this.offHover,onMouseOver:this.onHover,paddingX:4,paddingY:2,children:[(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.zd,{height:40,rounding:2,width:40,children:this.state.isHovering&&l?(0,s.jsx)(o.Ee,{alt:"",color:"",fit:"cover",naturalHeight:null!==(e=l.height)&&void 0!==e?e:1,naturalWidth:null!==(t=l.width)&&void 0!==t?t:1,src:null!==(r=l.url)&&void 0!==r?r:""}):(0,s.jsx)(o.xu,{color:"secondary",height:40,width:40})})}),(0,s.jsx)(o.xu,{padding:2,children:(0,s.jsx)(o.X6,{size:"400",children:i})})]}):(0,s.jsxs)(o.xu,{alignItems:"center",color:a?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.JO,{accessibilityLabel:"",color:a?"default":"subtle",icon:"add"})}),(0,s.jsx)(o.xu,{marginStart:3,children:(0,s.jsx)(o.xv,{color:a?"default":"subtle",weight:"bold",children:i})})]})}}]),r&&u(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t,r,c=e.inFlyoutExp,u=e.inFirstBoardCreateGestaltExp,d=e.pinId,f=e.image,p=e.minHeight,h=e.onBoardSelected,b=(0,i.v)().logContextEvent,m=(0,a.ZP)(),v=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(-1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=v[0],x=v[1],P=(0,l.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(String(d),"/board_title_suggestions/"),pin_id:d}}),j=P.data,w=P.isLoaded,S=(r=void 0===j?[]:j,(0,n.useMemo)(function(){return r&&r.length?r.map(function(e){return e.title}):[]},[r])),O=function(e){h(S[e],!1),b({event_type:101,component:13025,element:23})},A=function(e){x(e)},C=function(){x(-1)},E=function(e,t){var r=g===t;return(0,s.jsx)("li",{children:(0,s.jsx)(o.iP,{onMouseEnter:function(){return A(t)},onMouseLeave:C,onTap:function(){return O(t)},children:(0,s.jsx)(y,{image:f,inFlyoutExp:c,name:e,selected:r})})},t)};return w?S&&S.length?c?(0,s.jsx)(o.xu,{children:(0,s.jsx)("ul",{children:S.map(E)})}):u?(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.xu,{marginBottom:3,marginStart:6,marginTop:5,children:(0,s.jsx)(o.xv,{children:m._('Suggested board names', 'text above suggested board names list', 'text above suggested board names list')})}),(0,s.jsx)("ul",{children:S.map(E)})]}):(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.xu,{marginTop:2,paddingX:5,children:(0,s.jsx)(o.xv,{children:m._('Suggested board names', ' - ', ' -- ')})}),(0,s.jsx)("ul",{children:S.map(E)})]}):null:(0,s.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:p||"",children:(0,s.jsx)(o.$j,{accessibilityLabel:m._('Loading board suggestions', 'Accesibility label for loading board suggestions', 'Accesibility label for loading board suggestions'),show:!0})})}},160390:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(684404),o=r(140017),i=r(334688),a=r(819267);function l(e){var t=(0,o.ZP)(),r=e.buttonLabel,l=e.hasHoverState,s=e.name,c=e.onClick,u=(0,i.Z)(),d=u.isHovering,f=u.hoverHandlers,p=s||r||t._('Create board', ' - ', ' -- ');return(0,a.jsx)(n.iP,{onMouseEnter:f.onMouseOver,onMouseLeave:f.onMouseLeave,onTap:c,children:(0,a.jsxs)(n.xu,{alignItems:"center",color:l&&d?"secondary":"default",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,a.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,rounding:2,children:(0,a.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:"add",size:20})}),s?(0,a.jsx)(n.xu,{margin:1,children:(0,a.jsxs)(n.xv,{inline:!0,overflow:"normal",children:[" ",t._('Create: ', ' - ', ' -- ')," "]})}):null,(0,a.jsxs)(n.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",p," "]})]})})}},691010:function(e,t,r){"use strict";r.d(t,{A:function(){return n},S:function(){return o}});var n=4e3,o={LOADING:"loading",SUCCESS:"success"}},898233:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(672652),o=r(684404),i=r(510989),a=r(140017),l=r(608516),s=r(819267);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var d=(0,n.lazy)(function(){return Promise.all([r.e(93810),r.e(10472),r.e(15502),r.e(61116)]).then(r.bind(r,729564))});function f(e){var t=(0,a.ZP)();return(0,s.jsx)(i.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,s.jsx)(l.Z,{fallback:(0,s.jsx)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,s.jsx)(o.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,s.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e))})})}},80263:function(e,t,r){"use strict";r.d(t,{D3:function(){return m},Iz:function(){return v},Rh:function(){return h},pW:function(){return f},sF:function(){return b},tA:function(){return p}});var n,o=r(42279),i=r(216167),a=r(776427),l=r(498803);function s(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,l,"next",e)}function l(e){s(i,n,o,a,l,"throw",e)}a(void 0)})}}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e){var t=e.country,r=e.isDesktop,n=e.shouldShowNativeShare;function o(){switch(t){case"US":return r?[10,5,9,3]:[4,6,10,5,9];case"ID":return r?[10,8,3,5]:[10,20,4,8,3,5];case"JP":case"TH":case"TW":return r?[8,9,3,5]:[8,3,4,9,5];case"GR":return r?[10,5,9,3]:[22,6,10,4,5,9];case"IR":case"IQ":return r?[10,5,9,3]:[10,20,4,6,9];case"UA":case"RU":return r?[10,5,9,3]:[10,22,20,5,6,4,9];default:return r?[10,5,9,3]:[10,6,4,5,9]}}return r?[12].concat(u(o())):[].concat(u(o()),[12],u(n?[11]:[]))}function p(e){var t=e.invitePath,r=e.inviteTitle,n=e.objectType,o=e.i18n,i=e.isDesktop,l=o._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===n&&(l=o._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));var s="mailto:?subject=".concat(encodeURIComponent(l),"&body=").concat(encodeURIComponent(t)),c="fb-messenger://share/?link=".concat(encodeURIComponent(t),"&app_id=").concat(a.GH),u="".concat(r,"\n").concat(t),d=i?"https://twitter.com/intent/tweet?via=pinterest&url=".concat(encodeURIComponent(u)):"twitter://post?message=".concat(encodeURIComponent(u)),f=i?"https://web.whatsapp.com/send?text=".concat(encodeURIComponent(u)):"whatsapp://send?text=".concat(encodeURIComponent(u)),p=i?"https://social-plugins.line.me/lineit/share?url=".concat(encodeURIComponent(t),"&text=").concat(encodeURIComponent(r)):"https://line.me/R/msg/text/?".concat(encodeURIComponent(u)),h="viber://forward?text=".concat(encodeURIComponent(u));return{emailShareLink:s,messengerShareLink:c,twitterShareLink:d,whatsappShareLink:f,lineShareLink:p,telegramShareLink:"tg://msg?text=".concat(encodeURIComponent(u)),viberShareLink:h,smsShareLink:"sms:?&body=".concat(encodeURIComponent(u))}}function h(e,t,r,n){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},function(e){e&&!e.error_message&&n&&n()})}function b(e,t,r,n){if(r&&t){var o=new t(r,{container:r.parentElement,text:function(){return e}});o.on("success",function(e){n&&n(e)}),o.on("error",function(){throw Error("<ShareMenu /> error: copy command failed")})}}var y=void 0!==n?n:n=r(256218),_=function(){var e,t=(0,o.useRelayEnvironment)();return e=c(regeneratorRuntime.mark(function e(r,n,i,a){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={invite_category:r,invite_object:n,invite_channel:i},e.next=3,new Promise(function(e,r){return(0,o.fetchQuery)(t,y,{inviteType:JSON.stringify(l),objectId:a}).subscribe({next:function(t){var r,n,o,i,a,l,s,c,u,d,f,p;return e({inviteCode:null!==(r=null===(n=t.v3InviteUserExternalQuery)||void 0===n?void 0:null===(o=n.data)||void 0===o?void 0:o.inviteCode)&&void 0!==r?r:"",invitePath:null!==(i=null===(a=t.v3InviteUserExternalQuery)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.inviteUrl)&&void 0!==i?i:"",title:null!==(s=null===(c=t.v3InviteUserExternalQuery)||void 0===c?void 0:null===(u=c.data)||void 0===u?void 0:u.title)&&void 0!==s?s:"",message:null!==(d=null===(f=t.v3InviteUserExternalQuery)||void 0===f?void 0:null===(p=f.data)||void 0===p?void 0:p.message)&&void 0!==d?d:""})},error:function(e){return r(e)}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(t,r,n,o){return e.apply(this,arguments)}};function m(){var e,t=_();return e=c(regeneratorRuntime.mark(function e(r,n,o){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(3,o,r,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(t,r,n){return e.apply(this,arguments)}}function v(e){return g.apply(this,arguments)}function g(){return(g=c(regeneratorRuntime.mark(function e(t){var r,n,o,a,s,c,u,d,f,p,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.inviteChannel,n=t.inviteCode,o=t.objectId,a=t.objectType,s=t.component,c=t.clientTrackingParams,u=t.logContextEvent,d=t.view_parameter,f=t.view_type,p=t.socialShareComponent,u({aux_data:{invite_object:a},object_id_str:o,component:s,clientTrackingParams:c,element:l.cc[r],event_type:102,view_type:f,view_parameter:d}),h=2===a?l.LO:3===a?l.Pu:l.dB,u({event_type:10399,component:14122===s?14312:14123===s?14310:p||s,object_id_str:o,view_type:f,view_parameter:d,aux_data:{invite_object:a},element:h[r]}),i.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:a,invite_channel:r},invite_code:n,object_id:o,client_tracking_params:c}).callCreate();case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}},413523:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(672652),o=r(684404),i=r(819267);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=u(f);if(t){var n=u(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function f(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var e,t,r,o,i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=c(e=n.call.apply(n,[this].concat(a))),r="setSearchRef",o=function(t){t&&(e.searchRef=t)},(r=d(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e}return l(f.prototype,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.searchRef.focus()}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,r=e.id,n=e.onBlur,a=e.onChange,l=e.onFocus,s=e.placeholder,c=e.value;return(0,i.jsx)(o.Um,{ref:this.setSearchRef,accessibilityLabel:t,id:r,onBlur:n,onChange:a,onFocus:l,placeholder:s,size:"lg",value:c})}}]),r&&l(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(n.Component)},825784:function(e,t,r){"use strict";r.d(t,{X:function(){return f},f:function(){return d}});var n=r(672652),o=r(342513),i=r(558273);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var l=r(819267);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=(0,o.Z)("ReportData"),u=c.Provider,d=c.useHook;function f(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(a,null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=o[0],d=o[1],f=(0,n.useCallback)(function(){return d({type:"REPORT_CONTENT_DISMISS"})},[]),p=(0,n.useCallback)(function(e,t,r){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:r,nodeId:null}})},[]),h=(0,n.useCallback)(function(e,t,r){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:r,type:"conversation",nodeId:null}})},[]),b=(0,n.useCallback)(function(e){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e.id,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:e.viewParameter,viewType:e.viewType,type:"pin",nodeId:e.nodeId}})},[]),y=(0,n.useCallback)(function(e){var t=e.pinId,r=e.isDownstreamPromotion,n=e.hasPromoter,o=e.firstVideoDuration,a=e.isProduct,l=e.viewParameter,s=e.viewType,c=e.isThirdPartyAd,u=e.nodeId;d({type:"REPORT_CONTENT_SHOW",payload:{id:t,isProduct:a,isPromoted:(0,i.jL)(r,n),videoDuration:o,viewParameter:l,viewType:s,type:"pin",isThirdPartyAd:c,nodeId:u}})},[]),_=(0,n.useMemo)(function(){return{reportData:c,dismiss:f,reportComment:p,reportConversation:h,reportImage:b,reportPin:y}},[c,f,p,h,b,y]);return(0,l.jsx)(u,{value:_,children:r})}},589947:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(7829),o=r(554786),i=r(149722),a=r(421820),l=r(780277),s=r(328038),c=r(924968),u=r(800516),d=r(819267);function f(){var e=(0,s.$B)().params,t=e.slug,r=e.username,n=(0,l.useSelector)(function(e){return t&&r?(0,u.Z)(e)["/".concat(r,"/").concat(t,"/")]:void 0});return(0,d.jsx)(c.ZP,{children:!!n&&(0,d.jsx)(s.l_,{to:{pathname:"/board/".concat(n.id,"/edit/collaborators"),state:{referrer:"redirect"}}})})}var p=function(){var e=(0,o.HG)(),t=(0,i.Z)(),r=t&&t.isAuth,l=(0,n.Z)({name:"BoardResource",getOptions:function(e){var t=e.routeData,r=t.params,n=r.slug,o=r.username,i=t.parsedSearch.orbac_subject_id;return{username:o,slug:unescape(n||""),field_set_key:"detailed",orbac_subject_id:i}},disableFetch:function(e){var t=e.user,r=e.deviceType;return!(t.isAuth&&"desktop"===r)}});return e&&r?(0,d.jsx)(a.default,{boardResource:l}):(0,d.jsx)(f,{})}},412116:function(e,t,r){"use strict";r.d(t,{TA:function(){return S}});var n=r(672652),o=r(58348),i=r(215842),a=r(946330),l=r(741747),s=r(89165),c=r(894288),u=r.n(c);function d(e){console.warn("loadable: "+e)}var f=n.createContext(),p={initialChunks:{}},h="PENDING",b="REJECTED",y=function(e){return e};function _(e){var t=e.defaultResolveComponent,r=void 0===t?y:t,c=e.render,d=e.onLoad;function _(e,t){void 0===t&&(t={});var y,_="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,m={};function v(e){return t.cacheKey?t.cacheKey(e):_.resolve?_.resolve(e):"static"}function g(e,n,o){var i=t.resolveComponent?t.resolveComponent(e,n):r(e);if(t.resolveComponent&&!(0,s.isValidElementType)(i))throw Error("resolveComponent returned something that is not a React component!");return u()(o,i,{preload:!0}),i}var x=(y=function(e){function r(r){var n;return((n=e.call(this,r)||this).state={result:null,error:null,loading:!0,cacheKey:v(r)},function(e,t){if(!e){var r=Error("loadable: "+t);throw r.framesToPop=1,r.name="Invariant Violation",r}}(!r.__chunkExtractor||_.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),r.__chunkExtractor)?(!1===t.ssr||(_.requireAsync(r).catch(function(){return null}),n.loadSync(),r.__chunkExtractor.addChunk(_.chunkName(r))),(0,a.Z)(n)):(!1!==t.ssr&&(_.isReady&&_.isReady(r)||_.chunkName&&p.initialChunks[_.chunkName(r)])&&n.loadSync(),n)}(0,l.Z)(r,e),r.getDerivedStateFromProps=function(e,t){var r=v(e);return(0,i.Z)({},t,{cacheKey:r,loading:t.loading||t.cacheKey!==r})};var n=r.prototype;return n.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===b&&this.setCache(),this.state.loading&&this.loadAsync()},n.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},n.componentWillUnmount=function(){this.mounted=!1},n.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},n.getCacheKey=function(){return v(this.props)},n.getCache=function(){return m[this.getCacheKey()]},n.setCache=function(e){void 0===e&&(e=void 0),m[this.getCacheKey()]=e},n.triggerOnLoad=function(){var e=this;d&&setTimeout(function(){d(e.state.result,e.props)})},n.loadSync=function(){if(this.state.loading)try{var e=_.requireSync(this.props),t=g(e,this.props,P);this.state.result=t,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:_.resolve(this.props),chunkName:_.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},n.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then(function(t){var r=g(t,e.props,{Loadable:P});e.safeSetState({result:r,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){return e.safeSetState({error:t,loading:!1})}),t},n.resolveAsync=function(){var e=this,t=this.props,r=(t.__chunkExtractor,t.forwardedRef,(0,o.Z)(t,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=_.requireAsync(r)).status=h,this.setCache(n),n.then(function(){n.status="RESOLVED"},function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:_.resolve(e.props),chunkName:_.chunkName(e.props),error:t?t.message:t}),n.status=b})),n},n.render=function(){var e=this.props,r=e.forwardedRef,n=e.fallback,a=(e.__chunkExtractor,(0,o.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),l=this.state,s=l.error,u=l.loading,d=l.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===h)throw this.loadAsync();if(s)throw s;var f=n||t.fallback||null;return u?f:c({fallback:f,result:d,options:t,props:(0,i.Z)({},a,{ref:r})})},r}(n.Component),function(e){return n.createElement(f.Consumer,null,function(t){return n.createElement(y,Object.assign({__chunkExtractor:t},e))})}),P=n.forwardRef(function(e,t){return n.createElement(x,Object.assign({forwardedRef:t},e))});return P.preload=function(e){_.requireAsync(e)},P.load=function(e){return _.requireAsync(e)},P}return{loadable:_,lazy:function(e,t){return _(e,(0,i.Z)({},t,{suspense:!0}))}}}var m=_({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,r=e.props;return n.createElement(t,r)}}),v=m.loadable,g=m.lazy,x=_({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,r=e.props;return r.children?r.children(t):null}}),P=x.loadable,j=x.lazy,w="undefined"!=typeof window;function S(e,t){void 0===e&&(e=function(){});var r=(void 0===t?{}:t).namespace;if(!w)return d("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var n=null;if(w){var o=""+(void 0===r?"":r)+"__LOADABLE_REQUIRED_CHUNKS__",i=document.getElementById(o);if(i){n=JSON.parse(i.textContent);var a=document.getElementById(o+"_ext");if(a)JSON.parse(a.textContent).namedChunks.forEach(function(e){p.initialChunks[e]=!0});else throw Error("loadable-component: @loadable/server does not match @loadable/component")}}if(!n)return d("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise(function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,r=t.push.bind(t);function o(){n.every(function(e){return t.some(function(t){return t[0].indexOf(e)>-1})})&&!l&&(l=!0,e())}t.push=function(){r.apply(void 0,arguments),o()},o()}).then(e)}v.lib=P,g.lib=j,t.ZP=v},875888:function(e,t,r){"use strict";var n=r(267234),o=[],i=[],a=n.makeRequestCallFromTimer(function(){if(i.length)throw i.shift()});function l(e){var t;(t=o.length?o.pop():new s).task=e,n(t)}function s(){this.task=null}e.exports=l,s.prototype.call=function(){try{this.task.call()}catch(e){l.onerror?l.onerror(e):(i.push(e),a())}finally{this.task=null,o[o.length]=this}}},267234:function(e,t,r){"use strict";function n(e){s.length||l(),s[s.length]=e}e.exports=n;var o,i,a,l,s=[],c=0;function u(){for(;c<s.length;){var e=c;if(c+=1,s[e].call(),c>1024){for(var t=0,r=s.length-c;t<r;t++)s[t]=s[t+c];s.length-=c,c=0}}s.length=0,c=0}var d=void 0!==r.g?r.g:self,f=d.MutationObserver||d.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}l="function"==typeof f?(o=1,i=new f(u),a=document.createTextNode(""),i.observe(a,{characterData:!0}),function(){o=-o,a.data=o}):p(u),n.requestFlush=l,n.makeRequestCallFromTimer=p},767552:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(341554),o=r(523933),i=r(457569),a=r(257714),l=r(745309),s=function(){function e(e,t,r){var i,s,c=this;void 0===t&&(t={}),void 0===r&&(r=!1),this.context=t,this.isSetUp=!1,this.handleRefCountChange=function(){var e=c.store.getState().refCount>0;e&&!c.isSetUp?(c.backend.setup(),c.isSetUp=!0):!e&&c.isSetUp&&(c.backend.teardown(),c.isSetUp=!1)};var u=(i=r,s="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,n.createStore(o.default,i&&s&&s({name:"dnd-core",instanceId:"dnd-core"})));this.store=u,this.monitor=new a.default(u,new l.default(u)),this.backend=e(this),u.subscribe(this.handleRefCountChange)}return e.prototype.getContext=function(){return this.context},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.monitor.registry},e.prototype.getActions=function(){var e=this,t=this.store.dispatch,r=i.default(this);return Object.keys(r).reduce(function(n,o){var i=r[o];return n[o]=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=i.apply(e,r);void 0!==o&&t(o)},n},{})},e.prototype.dispatch=function(e){this.store.dispatch(e)},e}();t.default=s},257714:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(956879),o=r(887757),i=r(385717),a=r(823364),l=function(){function e(e,t){this.store=e,this.registry=t}return e.prototype.subscribeToStateChange=function(e,t){var r=this;void 0===t&&(t={handlerIds:void 0});var n=t.handlerIds;a("function"==typeof e,"listener must be a function."),a(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId;return this.store.subscribe(function(){var t=r.store.getState(),a=t.stateId;try{a!==o&&(a!==o+1||i.areDirty(t.dirtyHandlerIds,n))&&e()}finally{o=a}})},e.prototype.subscribeToOffsetChange=function(e){var t=this;a("function"==typeof e,"listener must be a function.");var r=this.store.getState().dragOffset;return this.store.subscribe(function(){var n=t.store.getState().dragOffset;n!==r&&(r=n,e())})},e.prototype.canDragSource=function(e){if(!e)return!1;var t=this.registry.getSource(e);return a(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){if(!e)return!1;var t=this.registry.getTarget(e);if(a(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var r=this.registry.getTargetType(e),o=this.getItemType();return n.default(r,o)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return!!this.getItemType()},e.prototype.isDraggingSource=function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return a(t,"Expected to find a valid source."),!!(this.isDragging()&&this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)},e.prototype.isOverTarget=function(e,t){if(void 0===t&&(t={shallow:!1}),!e)return!1;var r=t.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(e),i=this.getItemType();if(i&&!n.default(o,i))return!1;var a=this.getTargetIds();if(!a.length)return!1;var l=a.indexOf(e);return r?l===a.length-1:l>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return o.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return o.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t.default=l},745309:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21858),o=r(639749),i=r(934940),a=r(117206),l=r(823364),s=r(875888);function c(e){switch(e[0]){case"S":return i.HandlerRole.SOURCE;case"T":return i.HandlerRole.TARGET;default:l(!1,"Cannot parse handler ID: "+e)}}function u(e,t){var r=e.entries(),n=!1;do{var o=r.next(),i=o.done;if(o.value[1]===t)return!0;n=i}while(!n);return!1}var d=function(){function e(e){this.store=e,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){a.validateType(e),a.validateSourceContract(t);var r=this.addHandler(i.HandlerRole.SOURCE,e,t);return this.store.dispatch(n.addSource(r)),r},e.prototype.addTarget=function(e,t){a.validateType(e,!0),a.validateTargetContract(t);var r=this.addHandler(i.HandlerRole.TARGET,e,t);return this.store.dispatch(n.addTarget(r)),r},e.prototype.containsHandler=function(e){return u(this.dragSources,e)||u(this.dropTargets,e)},e.prototype.getSource=function(e,t){return void 0===t&&(t=!1),l(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)},e.prototype.getTarget=function(e){return l(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)},e.prototype.getSourceType=function(e){return l(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)},e.prototype.getTargetType=function(e){return l(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)},e.prototype.isSourceId=function(e){return c(e)===i.HandlerRole.SOURCE},e.prototype.isTargetId=function(e){return c(e)===i.HandlerRole.TARGET},e.prototype.removeSource=function(e){var t=this;l(this.getSource(e),"Expected an existing source."),this.store.dispatch(n.removeSource(e)),s(function(){t.dragSources.delete(e),t.types.delete(e)})},e.prototype.removeTarget=function(e){l(this.getTarget(e),"Expected an existing target."),this.store.dispatch(n.removeTarget(e)),this.dropTargets.delete(e),this.types.delete(e)},e.prototype.pinSource=function(e){var t=this.getSource(e);l(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){l(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e.prototype.addHandler=function(e,t,r){var n=function(e){var t=o.default().toString();switch(e){case i.HandlerRole.SOURCE:return"S"+t;case i.HandlerRole.TARGET:return"T"+t;default:throw Error("Unknown Handler Role: "+e)}}(e);return this.types.set(n,t),e===i.HandlerRole.SOURCE?this.dragSources.set(n,r):e===i.HandlerRole.TARGET&&this.dropTargets.set(n,r),n},e}();t.default=d},465877:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(475072),o=r(173109),i=r(823364),a=r(754346),l={type:a.INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};t.default=function(e){return function(t,r){void 0===t&&(t=[]),void 0===r&&(r={publishSource:!0});var s=r.publishSource,c=r.clientOffset,u=r.getSourceClientOffset,d=e.getMonitor(),f=e.getRegistry();e.dispatch(n.setClientOffset(c)),function(e,t,r){i(!t.isDragging(),"Cannot call beginDrag while dragging.");for(var n=0;n<e.length;n++){var o=e[n];i(r.getSource(o),"Expected sourceIds to be registered.")}}(t,d,f);var p=function(e,t){for(var r=null,n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}(t,d);if(null===p){e.dispatch(l);return}var h=null;c&&(i("function"==typeof u,"When clientOffset is provided, getSourceClientOffset must be a function."),h=u(p)),e.dispatch(n.setClientOffset(c,h));var b=f.getSource(p).beginDrag(d,p);i(o.isObject(b),"Item must be an object."),f.pinSource(p);var y=f.getSourceType(p);return{type:a.BEGIN_DRAG,payload:{itemType:y,item:b,sourceId:p,clientOffset:c||null,sourceClientOffset:h||null,isSourcePublic:!!(void 0===s||s)}}}}},389906:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(754346),i=r(173109),a=r(823364);t.default=function(e){return function(t){void 0===t&&(t={});var r,l=e.getMonitor(),s=e.getRegistry();a(l.isDragging(),"Cannot call drop while not dragging."),a(!l.didDrop(),"Cannot call drop twice during one drag operation."),((r=l.getTargetIds().filter(l.canDropOnTarget,l)).reverse(),r).forEach(function(r,c){var u,d,f,p=(a(void 0===(f=d=(u=s.getTarget(r))?u.drop(l,r):void 0)||i.isObject(f),"Drop result must either be an object or undefined."),void 0===d&&(d=0===c?{}:l.getDropResult()),d),h={type:o.DROP,payload:{dropResult:n({},t,p)}};e.dispatch(h)})}}},442699:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(754346),o=r(823364);t.default=function(e){return function(){var t=e.getMonitor(),r=e.getRegistry();o(t.isDragging(),"Cannot call endDrag while not dragging.");var i=t.getSourceId();return r.getSource(i,!0).endDrag(t,i),r.unpinSource(),{type:n.END_DRAG}}}},473937:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(956879),o=r(754346),i=r(823364);t.default=function(e){return function(t,r){var a=(void 0===r?{}:r).clientOffset;i(Array.isArray(t),"Expected targetIds to be an array.");var l=t.slice(0),s=e.getMonitor(),c=e.getRegistry();return function(e,t,r){i(t.isDragging(),"Cannot call hover while not dragging."),i(!t.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var o=e[n];i(e.lastIndexOf(o)===n,"Expected targetIds to be unique in the passed array."),i(r.getTarget(o),"Expected targetIds to be registered.")}}(l,s,c),function(e,t,r){for(var o=e.length-1;o>=0;o--){var i=e[o],a=t.getTargetType(i);n.default(a,r)||e.splice(o,1)}}(l,c,s.getItemType()),function(e,t,r){for(var n=0;n<e.length;n++){var o=e[n];r.getTarget(o).hover(t,o)}}(l,s,c),{type:o.HOVER,payload:{targetIds:l,clientOffset:a||null}}}}},457569:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(465877),o=r(801506),i=r(473937),a=r(389906),l=r(442699);!function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(754346)),t.default=function(e){return{beginDrag:n.default(e),publishDragSource:o.default(e),hover:i.default(e),drop:a.default(e),endDrag:l.default(e)}}},475072:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(754346);t.setClientOffset=function(e,t){return{type:n.INIT_COORDS,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}},801506:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(754346);t.default=function(e){return function(){if(e.getMonitor().isDragging())return{type:n.PUBLISH_DRAG_SOURCE}}}},754346:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_COORDS="dnd-core/INIT_COORDS",t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",t.HOVER="dnd-core/HOVER",t.DROP="dnd-core/DROP",t.END_DRAG="dnd-core/END_DRAG"},21858:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_SOURCE="dnd-core/ADD_SOURCE",t.ADD_TARGET="dnd-core/ADD_TARGET",t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",t.REMOVE_TARGET="dnd-core/REMOVE_TARGET",t.addSource=function(e){return{type:t.ADD_SOURCE,payload:{sourceId:e}}},t.addTarget=function(e){return{type:t.ADD_TARGET,payload:{targetId:e}}},t.removeSource=function(e){return{type:t.REMOVE_SOURCE,payload:{sourceId:e}}},t.removeTarget=function(e){return{type:t.REMOVE_TARGET,payload:{targetId:e}}}},117206:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(823364);t.validateSourceContract=function(e){o("function"==typeof e.canDrag,"Expected canDrag to be a function."),o("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),o("function"==typeof e.endDrag,"Expected endDrag to be a function.")},t.validateTargetContract=function(e){o("function"==typeof e.canDrop,"Expected canDrop to be a function."),o("function"==typeof e.hover,"Expected hover to be a function."),o("function"==typeof e.drop,"Expected beginDrag to be a function.")},t.validateType=function e(t,r){if(r&&Array.isArray(t)){t.forEach(function(t){return e(t,!1)});return}o("string"==typeof t||"symbol"===n(t),r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}},526277:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(767552);t.createDragDropManager=function(e,t,r){return new n.default(e,t,r)}},908251:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(934940)),n(r(526277))},934940:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.HandlerRole||(t.HandlerRole={})).SOURCE="SOURCE",r.TARGET="TARGET"},211161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(457569),o=r(21858),i=r(963357),a=r(385717),l=r(173109);t.default=function(e,t){switch(void 0===e&&(e=a.NONE),t.type){case n.HOVER:break;case o.ADD_SOURCE:case o.ADD_TARGET:case o.REMOVE_TARGET:case o.REMOVE_SOURCE:return a.NONE;case n.BEGIN_DRAG:case n.PUBLISH_DRAG_SOURCE:case n.END_DRAG:case n.DROP:default:return a.ALL}var r=t.payload,s=r.targetIds,c=void 0===s?[]:s,u=r.prevTargetIds,d=void 0===u?[]:u,f=l.xor(c,d);if(!(f.length>0||!i.areArraysEqual(c,d)))return a.NONE;var p=d[d.length-1],h=c[c.length-1];return p!==h&&(p&&f.push(p),h&&f.push(h)),f}},351577:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(457569),i=r(963357),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};t.default=function(e,t){void 0===e&&(e=a);var r=t.payload;switch(t.type){case o.INIT_COORDS:case o.BEGIN_DRAG:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case o.HOVER:if(i.areCoordsEqual(e.clientOffset,r.clientOffset))return e;return n({},e,{clientOffset:r.clientOffset});case o.END_DRAG:case o.DROP:return a;default:return e}}},516624:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(457569),i=r(21858),a=r(173109),l={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};t.default=function(e,t){void 0===e&&(e=l);var r=t.payload;switch(t.type){case o.BEGIN_DRAG:return n({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case o.PUBLISH_DRAG_SOURCE:return n({},e,{isSourcePublic:!0});case o.HOVER:return n({},e,{targetIds:r.targetIds});case i.REMOVE_TARGET:if(-1===e.targetIds.indexOf(r.targetId))return e;return n({},e,{targetIds:a.without(e.targetIds,r.targetId)});case o.DROP:return n({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case o.END_DRAG:return n({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},523933:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(351577),i=r(516624),a=r(129678),l=r(211161),s=r(521167),c=r(173109);t.default=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:l.default(e.dirtyHandlerIds,{type:t.type,payload:n({},t.payload,{prevTargetIds:c.get(e,"dragOperation.targetIds",[])})}),dragOffset:o.default(e.dragOffset,t),refCount:a.default(e.refCount,t),dragOperation:i.default(e.dragOperation,t),stateId:s.default(e.stateId)}}},129678:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21858);t.default=function(e,t){switch(void 0===e&&(e=0),t.type){case n.ADD_SOURCE:case n.ADD_TARGET:return e+1;case n.REMOVE_SOURCE:case n.REMOVE_TARGET:return e-1;default:return e}}},521167:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e=0),e+1}},887757:function(e,t){"use strict";function r(e,t){return{x:e.x+t.x,y:e.y+t.y}}function n(e,t){return{x:e.x-t.x,y:e.y-t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=r,t.subtract=n,t.getSourceClientOffset=function(e){var t=e.clientOffset,o=e.initialClientOffset,i=e.initialSourceClientOffset;return t&&o&&i?n(r(t,i),o):null},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,r=e.initialClientOffset;return t&&r?n(t,r):null}},385717:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(173109);t.NONE=[],t.ALL=[],t.NONE.__IS_NONE__=!0,t.ALL.__IS_ALL__=!0,t.areDirty=function(e,r){return e!==t.NONE&&(e===t.ALL||void 0===r||n.intersection(r,e).length>0)}},173109:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,r){return t.split(".").reduce(function(e,t){return e&&e[t]?e[t]:r||null},e)},t.without=function(e,t){return e.filter(function(e){return e!==t})},t.isString=function(e){return"string"==typeof e},t.isObject=function(e){return"object"===r(e)},t.xor=function(e,t){var r=new Map,n=function(e){return r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(n),t.forEach(n);var o=[];return r.forEach(function(e,t){1===e&&o.push(t)}),o},t.intersection=function(e,t){return e.filter(function(e){return t.indexOf(e)>-1})}},963357:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strictEquality=function(e,t){return e===t},t.areCoordsEqual=function(e,t){return!e&&!t||!!e&&!!t&&e.x===t.x&&e.y===t.y},t.areArraysEqual=function(e,r,n){if(void 0===n&&(n=t.strictEquality),e.length!==r.length)return!1;for(var o=0;o<e.length;++o)if(!n(e[o],r[o]))return!1;return!0}},639749:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.default=function(){return r++}},956879:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return null===t?null===e:Array.isArray(e)?e.some(function(e){return e===t}):e===t}},341554:function(e,t,r){"use strict";r.r(t),r.d(t,{__DO_NOT_USE__ActionTypes:function(){return s},applyMiddleware:function(){return b},bindActionCreators:function(){return p},combineReducers:function(){return d},compose:function(){return h},createStore:function(){return c},legacy_createStore:function(){return u}});var n=r(946453);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function c(e,t,r){if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(i(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error(i(1));return r(c)(e,t)}if("function"!=typeof e)throw Error(i(2));var n,l=e,u=t,d=[],f=d,p=!1;function h(){f===d&&(f=d.slice())}function b(){if(p)throw Error(i(3));return u}function y(e){if("function"!=typeof e)throw Error(i(4));if(p)throw Error(i(5));var t=!0;return h(),f.push(e),function(){if(t){if(p)throw Error(i(6));t=!1,h();var r=f.indexOf(e);f.splice(r,1),d=null}}}function _(e){if(!function(e){if("object"!==o(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(i(7));if(void 0===e.type)throw Error(i(8));if(p)throw Error(i(9));try{p=!0,u=l(u,e)}finally{p=!1}for(var t=d=f,r=0;r<t.length;r++)(0,t[r])();return e}return _({type:s.INIT}),(n={dispatch:_,subscribe:y,getState:b,replaceReducer:function(e){if("function"!=typeof e)throw Error(i(10));l=e,_({type:s.REPLACE})}})[a]=function(){var e;return(e={subscribe:function(e){if("object"!==o(e)||null===e)throw Error(i(11));function t(){e.next&&e.next(b())}return t(),{unsubscribe:y(t)}}})[a]=function(){return this},e},n}var u=c;function d(e){for(var t,r=Object.keys(e),n={},o=0;o<r.length;o++){var a=r[o];"function"==typeof e[a]&&(n[a]=e[a])}var l=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:s.INIT}))throw Error(i(12));if(void 0===r(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw Error(i(13))})}(n)}catch(e){t=e}return function(e,r){if(void 0===e&&(e={}),t)throw t;for(var o=!1,a={},s=0;s<l.length;s++){var c=l[s],u=n[c],d=e[c],f=u(d,r);if(void 0===f)throw r&&r.type,Error(i(14));a[c]=f,o=o||f!==d}return(o=o||l.length!==Object.keys(e).length)?a:e}}function f(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return f(e,t);if("object"!==o(e)||null===e)throw Error(i(16));var r={};for(var n in e){var a=e[n];"function"==typeof a&&(r[n]=f(a,t))}return r}function h(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function b(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),o=function(){throw Error(i(15))},a={getState:r.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=t.map(function(e){return e(a)});return o=h.apply(void 0,l)(r.dispatch),(0,n.Z)((0,n.Z)({},r),{},{dispatch:o})}}}},372587:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=[],n=[];e.exports=/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function(e,o){var i=r.length?r.pop():[],a=n.length?n.pop():[],l=function e(r,n,o,i){if(r===n)return 0!==r||1/r==1/n;if(null==r||null==n||"object"!=t(r)||"object"!=t(n))return!1;var a=Object.prototype.toString,l=a.call(r);if(l!=a.call(n))return!1;switch(l){case"[object String]":return r==String(n);case"[object Number]":return!(isNaN(r)||isNaN(n))&&r==Number(n);case"[object Date]":case"[object Boolean]":return+r==+n;case"[object RegExp]":return r.source==n.source&&r.global==n.global&&r.multiline==n.multiline&&r.ignoreCase==n.ignoreCase}for(var s=o.length;s--;)if(o[s]==r)return i[s]==n;o.push(r),i.push(n);var c=0;if("[object Array]"===l){if((c=r.length)!==n.length)return!1;for(;c--;)if(!e(r[c],n[c],o,i))return!1}else{if(r.constructor!==n.constructor)return!1;if(r.hasOwnProperty("valueOf")&&n.hasOwnProperty("valueOf"))return r.valueOf()==n.valueOf();var u=Object.keys(r);if(u.length!=Object.keys(n).length)return!1;for(var d=0;d<u.length;d++)if(!e(r[u[d]],n[u[d]],o,i))return!1}return o.pop(),i.pop(),!0}(e,o,i,a);return i.length=0,a.length=0,r.push(i),n.push(a),l}},324549:function(e){"use strict";function t(e){return function(){return e}}var r=function(){};r.thatReturns=t,r.thatReturnsFalse=t(!1),r.thatReturnsTrue=t(!0),r.thatReturnsNull=t(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},111230:function(e,t,r){"use strict";var n=r(324549);e.exports=n},894288:function(e,t,r){"use strict";var n=r(460695),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return n.isMemo(e)?a:l[e.$$typeof]||o}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=p(r);o&&o!==h&&e(t,o,n)}var a=u(r);d&&(a=a.concat(d(r)));for(var l=s(t),b=s(r),y=0;y<a.length;++y){var _=a[y];if(!i[_]&&!(n&&n[_])&&!(b&&b[_])&&!(l&&l[_])){var m=f(r,_);try{c(t,_,m)}catch(e){}}}}return t}},381932:function(e,t){"use strict";/** @license React v16.8.4
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,l=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116;function _(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case l:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case c:return e;default:return t}}case y:case b:case i:return t}}}function m(e){return _(e)===f}t.typeOf=_,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=y,t.Memo=b,t.Portal=i,t.Profiler=s,t.StrictMode=l,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===l||e===h||"object"===r(e)&&null!==e&&(e.$$typeof===y||e.$$typeof===b||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return m(e)||_(e)===d},t.isConcurrentMode=m,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===b},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===l},t.isSuspense=function(e){return _(e)===h}},460695:function(e,t,r){"use strict";e.exports=r(381932)},823364:function(e){"use strict";e.exports=function(e,t,r,n,o,i,a,l){if(!e){var s;if(void 0===t)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,l],u=0;(s=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},591345:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(742014);t.isFirefox=n.memoize(function(){return/firefox/i.test(navigator.userAgent)}),t.isSafari=n.memoize(function(){return!!window.safari})},77105:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(742014),o=function(){function e(e){this.entered=[],this.isNodeInDocument=e}return e.prototype.enter=function(e){var t=this,r=this.entered.length;return this.entered=n.union(this.entered.filter(function(r){return t.isNodeInDocument(r)&&(!r.contains||r.contains(e))}),[e]),0===r&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=n.without(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t.default=o},599705:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(77105),i=r(591345),a=r(839610),l=r(576503),s=r(725413),c=function(){function e(e){var t=this;this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return a.getNodeClientOffset(t.sourceNodes.get(e))},this.endDragNativeItem=function(){t.isDraggingNativeItem()&&(t.actions.endDrag(),t.registry.removeSource(t.currentNativeHandle),t.currentNativeHandle=null,t.currentNativeSource=null)},this.isNodeInDocument=function(e){return!!document&&document.body.contains(e)||!!t.window&&t.window.document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=t.currentDragSourceNode;!t.isNodeInDocument(e)&&t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragStartCapture=function(){t.clearCurrentDragSourceNode(),t.dragStartSourceIds=[]},this.handleTopDragStart=function(e){var r=t.dragStartSourceIds;t.dragStartSourceIds=null;var n=a.getEventClientOffset(e);t.monitor.isDragging()&&t.actions.endDrag(),t.actions.beginDrag(r||[],{publishSource:!1,getSourceClientOffset:t.getSourceClientOffset,clientOffset:n});var o=e.dataTransfer,i=l.matchNativeItemType(o);if(t.monitor.isDragging()){if(o&&"function"==typeof o.setDragImage){var s=t.monitor.getSourceId(),c=t.sourceNodes.get(s),u=t.sourcePreviewNodes.get(s)||c;if(u){var d=t.getCurrentSourcePreviewNodeOptions(),f=d.anchorX,p=d.anchorY,h=d.offsetX,b=d.offsetY,y=a.getDragPreviewOffset(c,u,n,{anchorX:f,anchorY:p},{offsetX:h,offsetY:b});o.setDragImage(u,y.x,y.y)}}try{o.setData("application/json",{})}catch(e){}t.setCurrentDragSourceNode(e.target),t.getCurrentSourcePreviewNodeOptions().captureDraggingState?t.actions.publishDragSource():setTimeout(function(){return t.actions.publishDragSource()},0)}else if(i)t.beginDragNativeItem(i);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=function(){t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(t.dragEnterTargetIds=[],!(!t.enterLeaveCounter.enter(e.target)||t.monitor.isDragging())){var r=e.dataTransfer,n=l.matchNativeItemType(r);n&&t.beginDragNativeItem(n)}},this.handleTopDragEnter=function(e){var r=t.dragEnterTargetIds;t.dragEnterTargetIds=[],t.monitor.isDragging()&&(t.altKeyPressed=e.altKey,i.isFirefox()||t.actions.hover(r,{clientOffset:a.getEventClientOffset(e)}),r.some(function(e){return t.monitor.canDropOnTarget(e)})&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){t.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var r=t.dragOverTargetIds;if(t.dragOverTargetIds=[],!t.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}t.altKeyPressed=e.altKey,t.actions.hover(r||[],{clientOffset:a.getEventClientOffset(e)}),(r||[]).some(function(e){return t.monitor.canDropOnTarget(e)})?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())):t.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){t.isDraggingNativeItem()&&e.preventDefault(),t.enterLeaveCounter.leave(e.target)&&t.isDraggingNativeItem()&&t.endDragNativeItem()},this.handleTopDropCapture=function(e){t.dropTargetIds=[],e.preventDefault(),t.isDraggingNativeItem()&&t.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),t.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var r=t.dropTargetIds;t.dropTargetIds=[],t.actions.hover(r,{clientOffset:a.getEventClientOffset(e)}),t.actions.drop({dropEffect:t.getCurrentDropEffect()}),t.isDraggingNativeItem()?t.endDragNativeItem():t.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"!=typeof t.dragDrop||"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop())},this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.enterLeaveCounter=new o.default(this.isNodeInDocument)}return Object.defineProperty(e.prototype,"window",{get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0},enumerable:!0,configurable:!0}),e.prototype.setup=function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}},e.prototype.teardown=function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))},e.prototype.connectDragPreview=function(e,t,r){var n=this;return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),function(){n.sourcePreviewNodes.delete(e),n.sourcePreviewNodeOptions.delete(e)}},e.prototype.connectDragSource=function(e,t,r){var n=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);var o=function(t){return n.handleDragStart(t,e)},i=function(e){return n.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){n.sourceNodes.delete(e),n.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}},e.prototype.connectDropTarget=function(e,t){var r=this,n=function(t){return r.handleDragEnter(t,e)},o=function(t){return r.handleDragOver(t,e)},i=function(t){return r.handleDrop(t,e)};return t.addEventListener("dragenter",n),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",n),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}},e.prototype.addEventListeners=function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.removeEventListeners=function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return n({dropEffect:this.altKeyPressed?"copy":"move"},t||{})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return n({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(s).some(function(t){return s[t]===e})},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=l.createNativeDragSource(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.setCurrentDragSourceNode=function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout(function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)},1e3)},e.prototype.clearCurrentDragSourceNode=function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleDragOver=function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e}();t.default=c},686477:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var r,n,o,i=e.length,a=[],l=0;l<i;l++)a.push(l);a.sort(function(t,r){return e[t]<e[r]?-1:1});for(var s=[],c=[],u=[],l=0;l<i-1;l++)r=e[l+1]-e[l],n=t[l+1]-t[l],c.push(r),s.push(n),u.push(n/r);for(var d=[u[0]],l=0;l<c.length-1;l++){var f=u[l],p=u[l+1];if(f*p<=0)d.push(0);else{r=c[l];var h=c[l+1],b=r+h;d.push(3*b/((b+h)/f+(b+r)/p))}}d.push(u[u.length-1]);for(var y=[],_=[],l=0;l<d.length-1;l++){o=u[l];var m=d[l],v=1/c[l],b=m+d[l+1]-o-o;y.push((o-m-b)*v),_.push(b*v*v)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=y,this.c3s=_}return e.prototype.interpolate=function(e){var t,r=this.xs,n=this.ys,o=this.c1s,i=this.c2s,a=this.c3s,l=r.length-1;if(e===r[l])return n[l];for(var s=0,c=a.length-1;s<=c;){var u=r[t=Math.floor(.5*(s+c))];if(u<e)s=t+1;else{if(!(u>e))return n[t];c=t-1}}var d=e-r[l=Math.max(0,c)],f=d*d;return n[l]+o[l]*d+i[l]*f+a[l]*d*f},e}();t.default=r},737326:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.config=e,this.item={},Object.keys(this.config.exposeProperties).forEach(function(e){Object.defineProperty(t.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \""+e+'" until the drop event.'),null}})})}return e.prototype.mutateItemByReadingDataTransfer=function(e){var t=this,r={};e&&Object.keys(this.config.exposeProperties).forEach(function(n){r[n]={value:t.config.exposeProperties[n](e,t.config.matchesTypes)}}),Object.defineProperties(this.item,r)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t.NativeDragSource=r},782199:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromDataTransfer=function(e,t,r){var n=t.reduce(function(t,r){return t||e.getData(r)},"");return null!=n?n:r}},576503:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(856270),o=r(737326);t.createNativeDragSource=function(e){return new o.NativeDragSource(n.nativeTypesConfig[e])},t.matchNativeItemType=function(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(n.nativeTypesConfig).filter(function(e){return n.nativeTypesConfig[e].matchesTypes.some(function(e){return t.indexOf(e)>-1})})[0]||null}},856270:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(725413),i=r(782199);t.nativeTypesConfig=((n={})[o.FILE]={exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]},n[o.URL]={exposeProperties:{urls:function(e,t){return i.getDataFromDataTransfer(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]},n[o.TEXT]={exposeProperties:{text:function(e,t){return i.getDataFromDataTransfer(e,t,"")}},matchesTypes:["Text","text/plain"]},n)},725413:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},839610:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(591345),o=r(686477);function i(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),n=r.top;return{x:r.left,y:n}}t.getNodeClientOffset=i,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,r,a,l){var s,c,u,d="IMG"===t.nodeName&&(n.isFirefox()||!document.documentElement.contains(t)),f=i(d?e:t),p={x:r.x-f.x,y:r.y-f.y},h=e.offsetWidth,b=e.offsetHeight,y=a.anchorX,_=a.anchorY,m=(s=d?t.width:h,c=d?t.height:b,n.isSafari()&&d&&(c/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:c}),v=m.dragPreviewWidth,g=m.dragPreviewHeight,x=l.offsetX,P=l.offsetY;return{x:0===x||x?x:new o.default([0,.5,1],[p.x,p.x/h*v,p.x+v-h]).interpolate(y),y:0===P||P?P:(u=new o.default([0,.5,1],[p.y,p.y/b*g,p.y+g-b]).interpolate(_),n.isSafari()&&d&&(u+=(window.devicePixelRatio-1)*g),u)}}},44550:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r||((r=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),r}},182967:function(e,t,r){"use strict";var n=r(599705);r(44550).default;var o=r(725413);t.hm=o,t.ZP=function(e){return new n.default(e)}},742014:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e){var t=null;return function(){return null==t&&(t=e()),t}},t.without=function(e,t){return e.filter(function(e){return e!==t})},t.union=function(e,t){var r=new Set,n=function(e){return r.add(e)};e.forEach(n),t.forEach(n);var o=[];return r.forEach(function(e){return o.push(e)}),o}},638566:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};Object.defineProperty(t,"__esModule",{value:!0});var l=r(672652),s=r(908251),c=r(480088),u=r(490169),d=r(107814),f=r(893762);function p(e,t,r){return{dragDropManager:s.createDragDropManager(e,t,r)}}t.context=l.createContext({dragDropManager:void 0}),t.Consumer=t.context.Consumer,t.Provider=t.context.Provider,t.createChildContext=p,t.DragDropContextProvider=function(e){var r=e.children,n=a(e,["children"]),o="manager"in n?{dragDropManager:n.manager}:p(n.backend,n.context,n.debugMode);return l.createElement(t.Provider,{value:o},r)},t.DragDropContext=function(e,r,n){c.default("DragDropContext","backend",e);var a=p(e,r,n);return function(e){var r=e.displayName||e.name||"Component";return f(function(n){function s(){var e=null!==n&&n.apply(this,arguments)||this;return e.ref=l.createRef(),e.getManager=function(){return a.dragDropManager},e}return o(s,n),s.prototype.getDecoratedComponentInstance=function(){return d(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},s.prototype.render=function(){return l.createElement(t.Provider,{value:a},l.createElement(e,i({},this.props,{ref:u.isRefable(e)?this.ref:null})))},s.DecoratedComponent=e,s.displayName="DragDropContext("+r+")",s}(l.Component),e)}}},352476:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l=r(672652),s=r(480088),c=r(638566),u=r(490169),d=r(243964),f=r(893762),p=r(107814),h=r(358124);t.default=function(e,t){return void 0===t&&(t={}),s.default("DragLayer","collect[, options]",e,t),p("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),p(d.isPlainObject(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(r){var o=t.arePropsEqual,s=void 0===o?h:o,d=r.displayName||r.name||"Component";return f(function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCurrentlyMounted=!1,e.ref=l.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();h(t,e.state)||e.setState(t)}},e}return i(o,t),o.prototype.getDecoratedComponentInstance=function(){return p(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},o.prototype.shouldComponentUpdate=function(e,t){return!s(e,this.props)||!h(t,this.state)},o.prototype.componentDidMount=function(){this.isCurrentlyMounted=!0,this.handleChange()},o.prototype.componentWillUnmount=function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)},o.prototype.render=function(){var e=this;return l.createElement(c.Consumer,null,function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted)?l.createElement(r,a({},e.props,e.state,{ref:u.isRefable(r)?e.ref:null})):null})},o.prototype.receiveDragDropManager=function(e){if(void 0===this.manager){this.manager=e,p("object"===n(e),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",d,d);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}},o.prototype.getCurrentState=function(){return this.manager?e(this.manager.getMonitor(),this.props):{}},o.displayName="DragLayer("+d+")",o.DecoratedComponent=r,o}(l.Component),r)}}},932535:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(672652).memo(function(e){var t=e.connect,r=e.src;if("undefined"!=typeof Image){var n=new Image;n.src=r,n.onload=function(){return t(n)}}return null});n.displayName="DragPreviewImage",t.default=n},850161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(480088),o=r(981308),i=r(605621),a=r(369981),l=r(304696),s=r(110416),c=r(75358),u=r(243964),d=r(107814);t.default=function(e,t,r,f){void 0===f&&(f={}),n.default("DragSource","type, spec, collect[, options]",e,t,r,f);var p=e;"function"!=typeof e&&(d(c.default(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),p=function(){return e}),d(u.isPlainObject(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var h=a.default(t);return d("function"==typeof r,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',r),d(u.isPlainObject(f),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',r),function(e){return o.default({containerDisplayName:"DragSource",createHandler:h,registerHandler:i.default,createConnector:function(e){return new s.default(e)},createMonitor:function(e){return new l.default(e)},DecoratedComponent:e,getType:p,collect:r,options:f})}}},304696:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(107814),o=!1,i=!1,a=function(){function e(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.getHandlerId=function(){return this.sourceId},e.prototype.canDrag=function(){n(!o,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{o=!1}},e.prototype.isDragging=function(){if(!this.sourceId)return!1;n(!i,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return i=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{i=!1}},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.isDraggingSource=function(e){return this.internalMonitor.isDraggingSource(e)},e.prototype.isOverTarget=function(e,t){return this.internalMonitor.isOverTarget(e,t)},e.prototype.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.prototype.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.prototype.getSourceId=function(){return this.internalMonitor.getSourceId()},e.prototype.subscribeToOffsetChange=function(e){return this.internalMonitor.subscribeToOffsetChange(e)},e.prototype.canDragSource=function(e){return this.internalMonitor.canDragSource(e)},e.prototype.canDropOnTarget=function(e){return this.internalMonitor.canDropOnTarget(e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=a},855017:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(480088),o=r(981308),i=r(684781),a=r(167763),l=r(75358),s=r(306866),c=r(546726),u=r(243964),d=r(107814);t.default=function(e,t,r,f){void 0===f&&(f={}),n.default("DropTarget","type, spec, collect[, options]",e,t,r,f);var p=e;"function"!=typeof e&&(d(l.default(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),p=function(){return e}),d(u.isPlainObject(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var h=a.default(t);return d("function"==typeof r,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',r),d(u.isPlainObject(f),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',r),function(e){return o.default({containerDisplayName:"DropTarget",createHandler:h,registerHandler:i.default,createMonitor:function(e){return new s.default(e)},createConnector:function(e){return new c.default(e)},DecoratedComponent:e,getType:p,collect:r,options:f})}}},306866:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(107814),o=!1,i=function(){function e(e){this.targetId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.getHandlerId=function(){return this.targetId},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.canDrop=function(){if(!this.targetId)return!1;n(!o,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return o=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{o=!1}},e.prototype.isOver=function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=i},110416:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(535755),o=r(723165),i=r(358124),a=function(){function e(e){var t=this;this.backend=e,this.hooks=n.default({dragSource:function(e,r){t.dragSourceOptions=r||null,o.isRef(e)?t.dragSourceRef=e:t.dragSourceNode=e,t.reconnectDragSource()},dragPreview:function(e,r){t.dragPreviewOptions=r||null,o.isRef(e)?t.dragPreviewRef=e:t.dragPreviewNode=e,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}return e.prototype.receiveHandlerId=function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dragSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragSourceOptions",{get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreviewOptions",{get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){this.reconnectDragSource(),this.reconnectDragPreview()},e.prototype.reconnectDragSource=function(){var e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();var t=this.dragSource;if(this.handlerId){if(!t){this.lastConnectedDragSource=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions))}},e.prototype.reconnectDragPreview=function(){var e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();var t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))},e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.prototype.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.prototype.didDragSourceOptionsChange=function(){return!i(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.prototype.didDragPreviewOptionsChange=function(){return!i(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.prototype.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},e.prototype.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},Object.defineProperty(e.prototype,"dragSource",{get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreview",{get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},546726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(535755),o=r(723165),i=r(358124),a=function(){function e(e){var t=this;this.backend=e,this.hooks=n.default({dropTarget:function(e,r){t.dropTargetOptions=r,o.isRef(e)?t.dropTargetRef=e:t.dropTargetNode=e,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}return Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dropTarget},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}},e.prototype.receiveHandlerId=function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"dropTargetOptions",{get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.prototype.didOptionsChange=function(){return!i(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.prototype.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},Object.defineProperty(e.prototype,"dropTarget",{get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},369981:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(816318);r(243964);var o=r(107814),i=["canDrag","beginDrag","isDragging","endDrag"],a=["beginDrag"],l=function(){function e(e,t,r){var n=this;this.spec=e,this.monitor=t,this.ref=r,this.props=null,this.beginDrag=function(){if(n.props)return n.spec.beginDrag(n.props,n.monitor,n.ref.current)}}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.canDrag=function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))},e.prototype.isDragging=function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())},e.prototype.endDrag=function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,n.getDecoratedComponent(this.ref))},e}();t.default=function(e){return Object.keys(e).forEach(function(t){o(i.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',i.join(", "),t),o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])}),a.forEach(function(t){o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])}),function(t,r){return new l(e,t,r)}}},167763:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(816318);r(243964);var o=r(107814),i=["canDrop","hover","drop"],a=function(){function e(e,t,r){this.spec=e,this.monitor=t,this.ref=r,this.props=null}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.receiveMonitor=function(e){this.monitor=e},e.prototype.canDrop=function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)},e.prototype.hover=function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,n.getDecoratedComponent(this.ref))},e.prototype.drop=function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)},e}();t.default=function(e){return Object.keys(e).forEach(function(t){o(i.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',i.join(", "),t),o("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])}),function(t,r){return new a(e,t,r)}}},981308:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(672652),l=r(638566),s=r(80873),c=r(490169);r(243964);var u=r(107814),d=r(893762),f=r(358124);t.default=function(e){var t=e.DecoratedComponent,r=e.createHandler,n=e.createMonitor,p=e.createConnector,h=e.registerHandler,b=e.containerDisplayName,y=e.getType,_=e.collect,m=e.options.arePropsEqual,v=void 0===m?f:m,g=t.displayName||t.name||"Component";return d(function(e){function d(t){var r=e.call(this,t)||this;return r.decoratedRef=a.createRef(),r.handleChange=function(){var e=r.getCurrentState();f(e,r.state)||r.setState(e)},r.disposable=new s.SerialDisposable,r.receiveProps(t),r.dispose(),r}return o(d,e),d.prototype.getHandlerId=function(){return this.handlerId},d.prototype.getDecoratedComponentInstance=function(){return u(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current},d.prototype.shouldComponentUpdate=function(e,t){return!v(e,this.props)||!f(t,this.state)},d.prototype.componentDidMount=function(){this.disposable=new s.SerialDisposable,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()},d.prototype.componentDidUpdate=function(e){v(this.props,e)||(this.receiveProps(this.props),this.handleChange())},d.prototype.componentWillUnmount=function(){this.dispose()},d.prototype.receiveProps=function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(y(e)))},d.prototype.receiveType=function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=h(e,this.handler,this.manager),r=t[0],n=t[1];this.handlerId=r,this.handlerMonitor.receiveHandlerId(r),this.handlerConnector.receiveHandlerId(r);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[r]});this.disposable.setDisposable(new s.CompositeDisposable(new s.Disposable(o),new s.Disposable(n)))}},d.prototype.dispose=function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)},d.prototype.getCurrentState=function(){return this.handlerConnector?_(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}},d.prototype.render=function(){var e=this;return a.createElement(l.Consumer,null,function(r){var n=r.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(function(){return e.handlerConnector.reconnect()}),a.createElement(t,i({},e.props,e.getCurrentState(),{ref:c.isRefable(t)?e.decoratedRef:null}))})},d.prototype.receiveDragDropManager=function(e){void 0===this.manager&&(u(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",g,g),void 0!==e&&(this.manager=e,this.handlerMonitor=n(e),this.handlerConnector=p(e.getBackend()),this.handler=r(this.handlerMonitor,this.decoratedRef)))},d.DecoratedComponent=t,d.displayName=b+"("+g+")",d}(a.Component),t)}},667626:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(110469)),n(r(311201)),n(r(325047))},133167:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(672652),i=r(605621),a=r(845803),l=r(304696),s=r(110416),c=r(107814);t.useDragSourceMonitor=function(){var e=a.useDragDropManager();return[o.useMemo(function(){return new l.default(e)},[e]),o.useMemo(function(){return new s.default(e.getBackend())},[e])]},t.useDragHandler=function(e,t,r){var l=a.useDragDropManager(),s=o.useMemo(function(){return{beginDrag:function(){var r=e.current,o=r.begin,i=r.item;if(o){var a=o(t);return c(null==a||"object"===n(a),"dragSpec.begin() must either return an object, undefined, or null"),a||i||{}}return i||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(r,n){var o=e.current.isDragging;return o?o(t):n===r.getSourceId()},endDrag:function(){var n=e.current.end;n&&n(t.getItem(),t),r.reconnect()}}},[]);o.useEffect(function(){var n=i.default(e.current.item.type,s,l),o=n[0],a=n[1];return t.receiveHandlerId(o),r.receiveHandlerId(o),a},[])}},678280:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(672652),o=r(684781),i=r(845803),a=r(546726),l=r(306866);t.useDropTargetMonitor=function(){var e=i.useDragDropManager();return[n.useMemo(function(){return new l.default(e)},[e]),n.useMemo(function(){return new a.default(e.getBackend())},[e])]},t.useDropHandler=function(e,t,r){var a=i.useDragDropManager(),l=n.useMemo(function(){return{canDrop:function(){var r=e.current.canDrop;return!r||r(t.getItem(),t)},hover:function(){var r=e.current.hover;r&&r(t.getItem(),t)},drop:function(){var r=e.current.drop;if(r)return r(t.getItem(),t)}}},[t]);n.useEffect(function(){var n=o.default(e.current.accept,l,a),i=n[0],s=n[1];return t.receiveHandlerId(i),r.receiveHandlerId(i),s},[t,r])}},832996:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(358124),o=r(672652);t.useCollector=function(e,t,r){var i=o.useState(function(){return t(e)}),a=i[0],l=i[1],s=o.useCallback(function(){var o=t(e);!n(a,o)&&(l(o),r&&r())},[a,e,r]);return[a,s]}},845803:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(672652),o=r(638566),i=r(107814);t.useDragDropManager=function(){var e=n.useContext(o.context).dragDropManager;return i(null!=e,"Expected drag drop context"),e}},562057:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(672652),o=r(832996);t.useMonitorOutput=function(e,t,r){var i=o.useCollector(e,t,r),a=i[0],l=i[1];return n.useEffect(function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(l,{handlerIds:[t]})},[e,l]),a}},110469:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(562057),o=r(133167),i=r(672652),a=r(107814);t.useDrag=function(e){var t=i.useRef(e);t.current=e,a(null!=e.item,"item must be defined"),a(null!=e.item.type,"item type must be defined");var r=o.useDragSourceMonitor(),l=r[0],s=r[1];o.useDragHandler(t,l,s);var c=n.useMonitorOutput(l,t.current.collect||function(){return{}},function(){return s.reconnect()}),u=i.useMemo(function(){return s.hooks.dragSource()},[s]),d=i.useMemo(function(){return s.hooks.dragPreview()},[s]);return i.useEffect(function(){s.dragSourceOptions=t.current.options||null,s.reconnect()},[s]),i.useEffect(function(){s.dragPreviewOptions=t.current.previewOptions||null,s.reconnect()},[s]),[c,u,d]}},325047:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(672652),o=r(845803),i=r(832996);t.useDragLayer=function(e){var t=o.useDragDropManager().getMonitor(),r=i.useCollector(t,e),a=r[0],l=r[1];return n.useEffect(function(){return t.subscribeToOffsetChange(l)}),n.useEffect(function(){return t.subscribeToStateChange(l)}),a}},311201:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(562057),o=r(678280),i=r(672652),a=r(107814);t.useDrop=function(e){var t=i.useRef(e);t.current=e,a(null!=e.accept,"accept must be defined");var r=o.useDropTargetMonitor(),l=r[0],s=r[1];o.useDropHandler(t,l,s);var c=n.useMonitorOutput(l,t.current.collect||function(){return{}},function(){return s.reconnect()}),u=i.useMemo(function(){return s.hooks.dropTarget()},[s]);return i.useEffect(function(){s.dropTargetOptions=e.options||null,s.reconnect()},[e.options]),[c,u]}},223795:function(e,t,r){"use strict";var n=r(638566);t.Z5=n.DragDropContext,n.DragDropContextProvider,n.Consumer,r(352476).default;var o=r(850161);t.Ej=o.default;var i=r(855017);t.GR=i.default,r(932535).default;var a=r(667626);a.useDrag,a.useDragLayer,a.useDrop},605621:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=r.getRegistry(),o=n.addSource(e,t);return[o,function(){return n.removeSource(o)}]}},684781:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=r.getRegistry(),o=n.addTarget(e,t);return[o,function(){return n.removeTarget(o)}]}},480088:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n]}},703719:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(672652),o=r(107814);function i(e,t){"function"==typeof e?e(t):e.current=t}t.default=function(e,t){var r=e.ref;return(o("string"!=typeof r,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),r)?n.cloneElement(e,{ref:function(e){i(t,e),r&&i(r,e)}}):n.cloneElement(e,{ref:t})}},243964:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.noop=function(){},t.isPlainObject=function(e){if(!("object"===r(e)&&null!==e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},558246:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDisposed=!1,this.disposables=e}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){var t=!1;if(!this.isDisposed){var r=this.disposables.indexOf(e);-1!==r&&(t=!0,this.disposables.splice(r,1),e.dispose())}return t},e.prototype.clear=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=Array(e),r=0;r<e;r++)t[r]=this.disposables[r];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=Array(e),r=0;r<e;r++)t[r]=this.disposables[r];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}},e}();t.CompositeDisposable=r},293365:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(243964),o=function(){function e(e){this.isDisposed=!1,this.action=n.isFunction(e)?e:n.noop}return e.isDisposable=function(e){return e&&n.isFunction(e.dispose)},e._fixup=function(t){return e.isDisposable(t)?t:e.empty},e.create=function(t){return new e(t)},e.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)},e.empty={dispose:n.noop},e}();t.Disposable=o},352692:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.isDisposed=!1}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var r=this.current;this.current=e,r&&r.dispose()}t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}},e}();t.SerialDisposable=r},80873:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(293365)),n(r(352692)),n(r(558246))},816318:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDecoratedComponent=function(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}},723165:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isRef=function(e){return null!==e&&"object"===r(e)&&e.hasOwnProperty("current")}},490169:function(e,t){"use strict";function r(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.isRefForwardingComponent=r,t.isRefable=function(e){return e&&e.prototype&&"function"==typeof e.prototype.render||r(e)}},75358:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){return"string"==typeof t||"symbol"===r(t)||!!n&&Array.isArray(t)&&t.every(function(t){return e(t,!1)})}},984756:function(){"use strict";String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},535755:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(672652),o=r(703719);r(984756),t.default=function(e){var t={};return Object.keys(e).forEach(function(r){var i=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{var a=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),!n.isValidElement(e)){var r=e;return i(r,t),r}var a=e;!function(e){if("string"!=typeof e.type)throw Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+(e.type.displayName||e.type.name||"the component")+" into a <div>, or turn it into a drag source or a drop target itself.")}(a);var l=t?function(e){return i(e,t)}:i;return o.default(a,l)};t[r]=function(){return a}}}),t}},893762:function(e,t,r){"use strict";var n=r(539925),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return n.isMemo(e)?a:l[e.$$typeof]||o}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=p(r);o&&o!==h&&e(t,o,n)}var a=u(r);d&&(a=a.concat(d(r)));for(var l=s(t),b=s(r),y=0;y<a.length;++y){var _=a[y];if(!i[_]&&!(n&&n[_])&&!(b&&b[_])&&!(l&&l[_])){var m=f(r,_);try{c(t,_,m)}catch(e){}}}}return t}},107814:function(e){"use strict";e.exports=function(e,t,r,n,o,i,a,l){if(!e){var s;if(void 0===t)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,l],u=0;(s=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},408612:function(e,t){"use strict";/** @license React v16.8.4
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,l=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116;function _(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case l:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case c:return e;default:return t}}case y:case b:case i:return t}}}function m(e){return _(e)===f}t.typeOf=_,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=y,t.Memo=b,t.Portal=i,t.Profiler=s,t.StrictMode=l,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===l||e===h||"object"===r(e)&&null!==e&&(e.$$typeof===y||e.$$typeof===b||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return m(e)||_(e)===d},t.isConcurrentMode=m,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===b},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===l},t.isSuspense=function(e){return _(e)===h}},539925:function(e,t,r){"use strict";e.exports=r(408612)},856608:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,l=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,g=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function P(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case l:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case _:case y:case c:return e;default:return t}}case i:return t}}}function j(e){return P(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=_,t.Memo=y,t.Portal=i,t.Profiler=s,t.StrictMode=l,t.Suspense=h,t.isAsyncMode=function(e){return j(e)||P(e)===d},t.isConcurrentMode=j,t.isContextConsumer=function(e){return P(e)===u},t.isContextProvider=function(e){return P(e)===c},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return P(e)===p},t.isFragment=function(e){return P(e)===a},t.isLazy=function(e){return P(e)===_},t.isMemo=function(e){return P(e)===y},t.isPortal=function(e){return P(e)===i},t.isProfiler=function(e){return P(e)===s},t.isStrictMode=function(e){return P(e)===l},t.isSuspense=function(e){return P(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===l||e===h||e===b||"object"===r(e)&&null!==e&&(e.$$typeof===_||e.$$typeof===y||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===g||e.$$typeof===x||e.$$typeof===m)},t.typeOf=P},89165:function(e,t,r){"use strict";e.exports=r(856608)},746074:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){return e===t}t.P1=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];var a=0,l=o.pop(),s=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return r(e)}).join(", ")+"]");return t}(o),c=e.apply(void 0,[function(){return a++,l.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i=s.map(function(r){return r.apply(void 0,[e,t].concat(n))});return c.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}(i))};return u.resultFunc=l,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],r=null,o=null;return function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return null!==r&&r.length===i.length&&i.every(function(e,n){return t(e,r[n])})||(o=e.apply(void 0,i)),r=i,o}})},853989:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,o=e[n];if(0<a(o,t))e[n]=t,e[r]=o,r=n;else break}}function o(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,o=e.length,i=o>>>1;n<i;){var l=2*(n+1)-1,s=e[l],c=l+1,u=e[c];if(0>a(s,r))c<o&&0>a(u,s)?(e[n]=u,e[c]=r,n=c):(e[n]=s,e[l]=r,n=l);else if(c<o&&0>a(u,r))e[n]=u,e[c]=r,n=c;else break}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===("undefined"==typeof performance?"undefined":r(performance))&&"function"==typeof performance.now){var l,s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],f=[],p=1,h=null,b=3,y=!1,_=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function P(e){for(var t=o(f);null!==t;){if(null===t.callback)i(f);else if(t.startTime<=e)i(f),t.sortIndex=t.expirationTime,n(d,t);else break;t=o(f)}}function j(e){if(m=!1,P(e),!_){if(null!==o(d))_=!0,z(w);else{var t=o(f);null!==t&&R(j,t.startTime-e)}}}function w(e,r){_=!1,m&&(m=!1,g(A),A=-1),y=!0;var n=b;try{for(P(r),h=o(d);null!==h&&(!(h.expirationTime>r)||e&&!I());){var a=h.callback;if("function"==typeof a){h.callback=null,b=h.priorityLevel;var l=a(h.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?h.callback=l:h===o(d)&&i(d),P(r)}else i(d);h=o(d)}if(null!==h)var s=!0;else{var c=o(f);null!==c&&R(j,c.startTime-r),s=!1}return s}finally{h=null,b=n,y=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S=!1,O=null,A=-1,C=5,E=-1;function I(){return!(t.unstable_now()-E<C)}function T(){if(null!==O){var e=t.unstable_now();E=e;var r=!0;try{r=O(!0,e)}finally{r?l():(S=!1,O=null)}}else S=!1}if("function"==typeof x)l=function(){x(T)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,k=D.port2;D.port1.onmessage=T,l=function(){k.postMessage(null)}}else l=function(){v(T,0)};function z(e){O=e,S||(S=!0,l())}function R(e,r){A=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,z(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return o(d)},t.unstable_next=function(e){switch(b){case 1:case 2:case 3:var t=3;break;default:t=b}var r=b;b=t;try{return e()}finally{b=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=b;b=e;try{return t()}finally{b=r}},t.unstable_scheduleCallback=function(e,i,a){var l=t.unstable_now();switch(a="object"===r(a)&&null!==a&&"number"==typeof(a=a.delay)&&0<a?l+a:l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,e={id:p++,callback:i,priorityLevel:e,startTime:a,expirationTime:s,sortIndex:-1},a>l?(e.sortIndex=a,n(f,e),null===o(d)&&e===o(f)&&(m?(g(A),A=-1):m=!0,R(j,a-l))):(e.sortIndex=s,n(d,e),_||y||(_=!0,z(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=b;return function(){var r=b;b=t;try{return e.apply(this,arguments)}finally{b=r}}}},702294:function(e,t,r){"use strict";e.exports=r(853989)},358124:function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e,r,n,o){var i=n?n.call(o,e,r):void 0;if(void 0!==i)return!!i;if(e===r)return!0;if("object"!==t(e)||!e||"object"!==t(r)||!r)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(r),c=0;c<a.length;c++){var u=a[c];if(!s(u))return!1;var d=e[u],f=r[u];if(!1===(i=n?n.call(o,d,f,u):void 0)||void 0===i&&d!==f)return!1}return!0}},706196:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e){var t,r=function(e){if(Array.isArray(e))return e}(t=e.split(/\/(.*)+/))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0];return{filepath:r[1],site:o}}function i(e,t){return t?"".concat(e||"","/").concat(t):"/".concat(e||"")}r.d(t,{ac:function(){return o},ke:function(){return i}})},84768:function(e,t,r){"use strict";r.d(t,{MM:function(){return l},uo:function(){return s},wH:function(){return a}});var n=r(342513),o=r(706196),i=(0,n.Z)("HandlerId"),a=i.Provider,l=i.useHook;function s(){var e=l();return(0,o.ac)(e).site}},118923:function(e,t,r){"use strict";r.d(t,{P:function(){return i},b:function(){return a}});var n=r(340523),o=r(5859);function i(e,t){return!!e&&e(t?"web_auth_lazy_component":"web_unauth_lazy_component").anyEnabled}function a(){return i((0,n.F)().checkExperiment,(0,o.B)().isAuthenticated)}},832853:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(672652),o=r(14583),i=(0,r(342513).Z)("LazyComponent"),a=(i.Provider,i.useMaybeHook),l=r(819267);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e,t,r){var i,d,f,p,h=null===(i=null==t?void 0:t.ssr)||void 0===i||i?n.Suspense:o.Z,b=function(r){a(),null==t||t.dynamicRequestKey,f||(f=(0,n.lazy)(function(){return e(r)}));var o,i=(0,n.useRef)(null!==(o=d)&&void 0!==o?o:f).current;return(0,l.jsx)(h,{fallback:r.fallback||(null==t?void 0:t.fallback),children:(0,l.jsx)(i,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r))})};function y(t){if(!p){var r;p=(r=regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(t);case 2:return d=r.sent.default,r.abrupt("return",d);case 5:case"end":return r.stop()}},r)}),function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function a(e){c(i,n,o,a,l,"next",e)}function l(e){c(i,n,o,a,l,"throw",e)}a(void 0)})})()}return p}return b.preload=function(e){y(e)},b.load=function(e){return y(e)},b}},827265:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/sad-coffee-5a5d2aaf.svg"},755879:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},859135:function(e,t,r){var n=r(755879);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},273937:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},63503:function(e,t,r){var n=r(918216);e.exports=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},734764:function(e,t,r){var n=r(989925);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},789543:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},498038:function(e,t,r){var n=r(176589);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},647189:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},655570:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},145106:function(e){e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},245600:function(e,t,r){var n=r(734764);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},8235:function(e){e.exports=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r},e.exports.__esModule=!0,e.exports.default=e.exports},176589:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},187403:function(e,t,r){var n=r(859135),o=r(655570),i=r(918216),a=r(145106);e.exports=function(e){return n(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},764841:function(e,t,r){var n=r(566942).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},989925:function(e,t,r){var n=r(566942).default,o=r(764841);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},566942:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},918216:function(e,t,r){var n=r(755879);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}},e.exports.__esModule=!0,e.exports.default=e.exports},998855:function(e,t,r){var n;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=l(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==o(e))return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)i.call(e,r)&&e[r]&&(t=l(t,r));return t}(r)))}return e}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):"object"===o(r.amdO)&&r.amdO?void 0!==(n=(function(){return a}).apply(t,[]))&&(e.exports=n):window.classNames=a}()},946330:function(e,t,r){"use strict";function n(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},215842:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,{Z:function(){return n}})},741747:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(47427);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},946453:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){!function(e,t,r){var o;o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:o+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,{Z:function(){return i}})},58348:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}r.d(t,{Z:function(){return n}})},47427:function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Z:function(){return n}})}},function(e){e.O(0,[97270,84404,28038,24797,55169,64283,56418,2909,27672,7012,33,64212,86942,1643,18133,22987,98026,9153,23813,90280,61672,8151,12127],function(){return e(e.s=659752)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]/[slug]/invite-46fad881beba2d7a.js.map
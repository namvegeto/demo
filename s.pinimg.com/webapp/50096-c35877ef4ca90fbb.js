"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[50096],{27063:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="91958ad6d73597b90dd099ea462eb40e",n.default=i},705533:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DebugSignalsFeedback_pin",selections:[{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debAds",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iconUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalMessage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debContentQuality",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debInclusiveProduct",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debShopping",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debTrustAndSafety",plural:!0,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};i.hash="06530ceab8fc1bb7b5d868c8ffeb2afd",n.default=i},6619:function(e,n,t){t.d(n,{Z:function(){return S}});var r,i=t(672652);t(42279);var l=t(328038),a=t(798580),o=t(901855);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==s(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===s(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var d=t(214877),f=t(107366),h=t(207012),g=t(558273),p=t(414131),y=t(268127),v=t(819267);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==m(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===m(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l,a,o=[],s=!0,c=!1;try{if(l=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=l.call(t)).done)&&(o.push(r.value),o.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var P=void 0!==r?r:r=t(27063);function S(e){var n,t,r,s,c,m,b,j,S=e.children,k=e.hovered,w=e.pinKey,A=e.slotIndex,I=e.trafficSource,D=e.trackingParamsMap,O=e.viewType,C=(0,d.v)().logContextEvent,z=x((0,i.useState)(),2),T=z[0],E=z[1],F=x((0,i.useState)(),2),M=F[0],L=F[1],K=(0,h.Z)(P,w),R=K.entityId,Z=K.trackedLink,B=K.link,U=Z||B||"",H=function(){E(!0)},W=(n={boardUrl:null===(s=K.board)||void 0===s?void 0:s.url,pinId:R,pinnerUserName:null===(c=K.pinner)||void 0===c?void 0:c.username,storyPinDataId:K.storyPinDataId,trackingParams:K.trackingParams,trackingParamsMap:D},t=(0,l.TH)(),r=(0,o.Hv)().previous,(0,a.Z)(u(u({},n),{},{location:t,previousHistory:r}))),N=(0,p.Z)({hasPin:!!K,hasPinRichMetadata:!!K.richMetadata,hasPinRichMetadataProducts:!!(null!==(m=K.richMetadata)&&void 0!==m&&m.products),hasPinRichMetadataArticle:!!(null!==(b=K.richMetadata)&&void 0!==b&&b.article),hasPinRichMetadataRecipe:!!(null!==(j=K.richMetadata)&&void 0!==j&&j.recipe),hasPinStoryPinData:!!K.storyPinData}),J=(0,y.Z)(K),Y=function(){var e=J();(0,f.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:R,url:U,client_tracking_params:W,aux_data:JSON.stringify(_(_({clickthrough_type:"rightClick",objectId:R},A||{}),e))}}).then(function(n){n&&(C({event_type:12,object_id_str:R,view_type:O,view_parameter:N,aux_data:_(_({clickthrough_type:"rightClick"},A||{}),e)}),C({event_type:8948,view_type:O,object_id_str:R,view_parameter:N,aux_data:_(_({click_type:"clickthrough",closeup_navigation_type:I&&(0,g.sV)(I)?"deeplink":"click",clickthrough_type:"rightClick"},A||{}),e)}))})},$=function e(n){if(T){var t;/^\/pin/.test(null===(t=n.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(Y(),E(!1)),window.removeEventListener(M,e,!1)}};return(0,i.useEffect)(function(){var e,n,t,r,i,l;void 0!==(null===(e=window)||void 0===e?void 0:null===(n=e.document)||void 0===n?void 0:n.hidden)?L("visibilitychange"):void 0!==(null===(t=window)||void 0===t?void 0:null===(r=t.document)||void 0===r?void 0:r.msHidden)?L("msvisibilitychange"):void 0!==(null===(i=window)||void 0===i?void 0:null===(l=i.document)||void 0===l?void 0:l.webkitHidden)&&L("webkitvisibilitychange")},[]),(0,i.useEffect)(function(){return T&&window&&window.addEventListener(M,$,!1),function(){return window.removeEventListener(M,$)}},[T,M]),(0,i.useEffect)(function(){return k&&window.addEventListener("contextmenu",H),function(){window.removeEventListener("contextmenu",H)}},[k]),(0,v.jsx)(i.Fragment,{children:S})}},343902:function(e,n,t){t.d(n,{N:function(){return a},Z:function(){return l}});var r=t(684404),i=t(819267);function l(e){var n=e.children,t=e.fullWidth;return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:n})}function a(e){var n=e.children;return e.enabled?(0,i.jsx)(l,{children:n}):n}},414131:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e){var n=e.hasPin,t=e.hasPinRichMetadata,r=e.hasPinRichMetadataProducts,i=e.hasPinRichMetadataArticle,l=e.hasPinRichMetadataRecipe,a=e.hasPinStoryPinData;if(n){if(t)return r?144:i?141:l?145:139;if(a)return 157}return 140}},361747:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(684404),i=t(140017),l=t(819267);function a(e){var n=e.height,t=e.isDenseView,a=e.rounding,o=e.width,s=e.color,c=(0,i.ZP)();return(0,l.jsx)(r.xu,{alignItems:"center",color:s||"default","data-test-id":"unavailable-pin",display:"flex",height:n,justifyContent:"center",overflow:"hidden",position:"relative",rounding:a,width:o,children:(0,l.jsxs)(r.kC,{alignItems:"center",direction:"column",children:[(0,l.jsx)(r.xu,{paddingY:t?2:4,children:(0,l.jsx)(r.JO,{accessibilityLabel:c._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,l.jsx)(r.xv,{weight:"bold",children:c._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!t&&(0,l.jsx)(r.xu,{paddingY:1,children:(0,l.jsx)(r.xv,{children:c._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},156032:function(e,n,t){t.d(n,{Z:function(){return D}});var r,i=t(672652);t(42279);var l=t(328038),a=t(684404),o=t(510989),s=t(207012),c=t(343902),u=t(608516),d=t(477458),f=t(149722),h=t(819267),g=function(e){var n,t,r=e.signal,i=e.anchor,l=e.setShowFlyout,o=e.setStore,s=(0,d.Z)(),c=s.hovered,u=s.onMouseEnter,f=s.onMouseLeave,g=function(e){l(function(e){return!e}),o(e)};return(0,h.jsx)(a.iP,{onMouseEnter:u,onMouseLeave:f,onTap:function(){return g(r)},rounding:"pill",children:(0,h.jsxs)(a.xu,{ref:i,alignItems:"center",color:c?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,h.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,minWidth:24,rounding:"circle",children:(0,h.jsx)(a.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,h.jsx)(a.Ee,{alt:"",color:null!==(n=r.backgroundColor)&&void 0!==n?n:"",naturalHeight:1,naturalWidth:1,src:null!==(t=r.iconUrl)&&void 0!==t?t:""})})}),(0,h.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:r.signalMessage})]})})},p=t(107366),y=t(140017),v=t(13848),m=t(454514);function b(e){var n=(0,y.ZP)(),t=e.onHide,r=(0,h.jsx)(a.xv,{children:n._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,h.jsx)(m.ZP,{onHide:t,text:r})}var _=function(e){var n=e.anchor,t=e.onDismiss,r=e.pinId,i=e.signal,l=(0,y.ZP)(),o=(0,f.Z)(),s=(0,v.F9)().showOneToast;if(!o.isEmployee)return null;var c=i.backgroundColor,u=i.iconUrl,d=i.signalId,g=i.signalMessage;return(0,h.jsx)(a.mh,{children:(0,h.jsx)(a.J2,{anchor:n,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(a.xu,{padding:4,width:"100%",children:[(0,h.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(a.X6,{size:"400",children:l._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(a.xu,{paddingY:3,children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,h.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:u?(0,h.jsx)(a.Ee,{alt:l._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:u}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=c?c:""}},height:40,width:40})}),(0,h.jsx)(a.xv,{size:"200",children:g})]})}),(0,h.jsx)(a.xu,{marginBottom:3,children:(0,h.jsx)(a.xv,{size:"200",children:l._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,h.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:function(){(0,p.Z)({url:"/v3/pins/".concat(r,"/signal_request_review/"),method:"POST",data:{signal_id:d,user:o.id}}),t(),s(function(e){var n=e.hideToast;return(0,h.jsx)(b,{onHide:n})})},size:"md",text:l._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,h.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:t,size:"md",text:l._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})};function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l,a,o=[],s=!0,c=!1;try{if(l=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=l.call(t)).done)&&(o.push(r.value),o.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function P(e){var n=e.signals,t=e.pinId,r=x((0,i.useState)(!1),2),l=r[0],s=r[1],d=(0,i.useRef)(null),f=x((0,i.useState)(n[0]),2),p=f[0],y=f[1];return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(o.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(u.Z,{children:(0,h.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:n.map(function(e){return(0,h.jsx)(a.xu,{marginEnd:2,children:(0,h.jsx)(g,{anchor:d,setShowFlyout:s,setStore:y,signal:e})},e.signalId)})})})})})}),l&&(0,h.jsx)(_,{anchor:d.current,onDismiss:function(){return s(!1)},pinId:t,signal:p})]})}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var k=function(e){var n,t=e.anchor,r=e.onDismiss,l=e.pinId,o=e.signals,s=(0,y.ZP)(),c=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(0))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l,a,o=[],s=!0,c=!1;try{if(l=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=l.call(t)).done)&&(o.push(r.value),o.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(n,2)||function(e,n){if(e){if("string"==typeof e)return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,n)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1],g=(0,f.Z)(),m=(0,v.F9)().showOneToast;if(!g.isEmployee)return null;var _=o.map(function(e){var n=e.signalMessage;return{href:"#",text:null!=n?n:""}}),x=o[u],j=x.backgroundColor,P=x.iconUrl,k=x.signalId,w=x.signalMessage,A=function(e){d(e.activeTabIndex)};return(0,h.jsx)(a.mh,{children:(0,h.jsx)(a.J2,{anchor:t,idealDirection:"right",onDismiss:r,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(a.xu,{padding:4,width:"100%",children:[o.length>1&&(0,h.jsx)(a.xu,{marginBottom:4,overflow:"scrollX",padding:1,children:(0,h.jsx)(a.mQ,{activeTabIndex:u,onChange:function(e){var n=e.event,t=e.activeTabIndex,r=e.dangerouslyDisableOnNavigation;n.preventDefault(),r(),A({activeTabIndex:t})},tabs:_})}),(0,h.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(a.X6,{size:"400",children:s._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(a.xu,{paddingY:3,children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,h.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:P?(0,h.jsx)(a.Ee,{alt:s._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:P}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=j?j:""}},height:40,width:40})}),(0,h.jsx)(a.xv,{size:"200",children:w})]})}),(0,h.jsx)(a.xu,{marginBottom:3,children:(0,h.jsx)(a.xv,{size:"200",children:s._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:function(){(0,p.Z)({url:"/v3/pins/".concat(l,"/signal_request_review/"),method:"POST",data:{signal_id:k,user:g.id}}),r(),m(function(e){var n=e.hideToast;return(0,h.jsx)(b,{onHide:n})})},size:"md",text:s._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,h.jsx)(a.zx,{color:"gray",fullWidth:!0,onClick:r,size:"md",text:s._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})};function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var A=void 0!==r?r:r=t(705533);function I(e){var n,t=e.signals,r=e.pinId,l=t[0],s=l.backgroundColor,f=l.iconUrl,g=l.signalMessage,p=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l,a,o=[],s=!0,c=!1;try{if(l=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=l.call(t)).done)&&(o.push(r.value),o.length!==n);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(n,2)||function(e,n){if(e){if("string"==typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=p[0],v=p[1],m=(0,i.useRef)();return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(o.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(u.Z,{children:(0,h.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(d.q,{children:function(e){var n=e.hovered,t=e.onMouseEnter,r=e.onMouseLeave;return(0,h.jsx)(a.iP,{onMouseEnter:t,onMouseLeave:r,onTap:function(){return v(function(e){return!e})},rounding:"pill",children:(0,h.jsxs)(a.xu,{ref:m,alignItems:"center",color:n?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,h.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,rounding:"circle",width:24,children:(0,h.jsx)(a.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,h.jsx)(a.Ee,{alt:"",color:null!=s?s:"",naturalHeight:1,naturalWidth:1,src:null!=f?f:""})})}),(0,h.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:g})]})})}})})})})}),y&&m&&m.current&&(0,h.jsx)(k,{anchor:m.current,onDismiss:function(){return v(!1)},pinId:r,signals:t})]})}function D(e){var n=e.pinKey,t=(0,s.Z)(A,n),r=(0,f.Z)(),a=(0,l.TH)().search,o=(0,i.useMemo)(function(){return new URLSearchParams(a)},[a]);if(!r.isEmployee)return null;var c=t.entityId,u=t.debAds,d=t.debContentQuality,g=t.debInclusiveProduct,p=t.debShopping,y=t.debTrustAndSafety;if(u)return(0,h.jsx)(I,{pinId:c,signals:u});if(d)return(0,h.jsx)(I,{pinId:c,signals:d});if(g){if("skin_tone"===o.get("type")){var v=g.filter(function(e){return"visual_signals_hair_pattern_v1"!==e.signalId});return(0,h.jsx)(P,{pinId:c,signals:v})}var m=g.filter(function(e){return"visual_body_analyses_v2_0"!==e.signalId});return(0,h.jsx)(P,{pinId:c,signals:m})}return p?(0,h.jsx)(I,{pinId:c,signals:p}):y?(0,h.jsx)(I,{pinId:c,signals:y}):null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/50096-c35877ef4ca90fbb.js.map
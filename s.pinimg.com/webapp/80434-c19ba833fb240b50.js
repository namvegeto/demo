"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[80434],{984234:function(e,i,r){var n=r(624797);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,i){for(var r=0;r<i.length;r++){var n=i[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function t(e,i,r){return(i=o(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r,e}function o(e){var i=function(e,i){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,i||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e,"string");return"symbol"===a(i)?i:String(i)}var l={carousel:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},offsite_pin_creation_multi_select:{authOnly:!0,partnerOnly:!1,experiment:"web_offsite_pin_creation_multi_select",groups:/^(enabled|employees|enabled_redirect_to_hf)/,scenarios:["offsite_pin_creation"]},ideaPinExtendVideoLength:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinExtendVideoLengthAboveTwoMin:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration_above_two_min",groups:/^(employees_min|enabled_min)/,scenarios:["story_pin_v2"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"],orbacExperiment:"web_m10n_business_access_orbac_www"},shop_the_pin:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacExperiment:"web_m10n_business_access_orbac_www"},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/,orbacExperiment:"web_m10n_business_access_orbac_www"},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:function(e){var i=e.user;return!!(null!=i&&i.video_upload_allowed)},authOnly:!0,hasCustomEnabledCheck:function(){return!0},orbacExperiment:"web_m10n_business_access_orbac_www"},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"],orbacExperiment:"web_m10n_business_access_orbac_www"},pinQuality:{partnerOnly:!0},ideaPinCreationListsDeprecation:{authOnly:!0,experiment:"web_idea_pin_creation_lists_dep",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinInstantImagePublish:{authOnly:!0,experiment:"web_snc_instant_image_publishing",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinPrepopulateLastPublishedBoard:{authOnly:!0,experiment:"web_px_idea_pin_create_prepopulates_last_published_board",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinCreationWithoutThinking:{authOnly:!0,experiment:"web_snc_pin_creation_without_thinking",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]}},_=new(function(){var e,i;function r(){!function(e,i){if(!(e instanceof i))throw TypeError("Cannot call a class as a function")}(this,r),t(this,"_experiments",null),t(this,"_viewer",null),t(this,"_advertiser",null),t(this,"_scenario",null),t(this,"_language",null),t(this,"_context",null),t(this,"_orbacActingAs",null)}return e=[{key:"initialize",value:function(e){var i=e.requestContext,r=e.viewer,a=e.location,s=e.advertiser,t=e.scenario,o=e.orbacActingAs;this._context=e,this._experiments=i.experimentsClient,this._language=i.language,this._viewer=r,this._advertiser=s,this._orbacActingAs=o;var l=(0,n.mB)(a.search).adCreate;t?this._scenario=t:l?this._scenario="ad_creation":this._scenario="default"}},{key:"scenario",value:function(){return this._scenario}},{key:"enabled",value:function(e){if(!this._viewer||!this._experiments)return!1;var i,r,n=l[e],a=n.advertisers,s=n.authOnly,t=n.customEnabledCheck,o=n.experiment,_=n.groups,d=n.hasCustomEnabledCheck,c=n.languages,u=n.orbacDisabled,g=n.orbacExperiment,p=n.partnerOnly,h=n.scenarios,m=n.skipActivation;if(null!==(i=this._orbacActingAs)&&void 0!==i&&i.id&&this._orbacActingAs.id!==this._viewer.id&&(u||g&&"enabled"!==this._experiments.checkExperiment(g).group))return!1;if(d&&t&&this._context&&d(this._context))return!!this._context&&t(this._context);if(m&&this._experiments){var E=this._experiments.checkExperiment;return!!o&&E(o,{dangerouslySkipActivation:!0}).anyEnabled}return!!a&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!s||!!this._viewer.isAuth)&&(!this._viewer||!p||!!this._viewer.isPartner)&&(!h||!!h.includes(this._scenario))&&(!c||!!c.includes(this._language))&&(!o||(void 0===_?/.*/:_).test((null===(r=this._experiments)||void 0===r?void 0:r.checkExperiment(o).group)||""))}},{key:"getExperimentGroup",value:function(e){if(!this._viewer||!this._experiments)return null;var i=l[e].experiment;return i?this._experiments.checkExperiment(i).group:null}}],s(r.prototype,e),i&&s(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}());i.Z=_},478492:function(e,i,r){r.d(i,{P7:function(){return a},Zx:function(){return o},sc:function(){return t},ss:function(){return s},xl:function(){return n}});var n=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],a=["bmp","gif","jpg","jpeg","png","tiff","webp"],s=["video/mp4","video/x-m4v","video/quicktime"],t=["mp4","m4v","mov"],o={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},622270:function(e,i,r){r.d(i,{Z:function(){return o}});var n=r(339001),a=r(203966),s=r(984234);function t(e,i){(null==i||i>e.length)&&(i=e.length);for(var r=0,n=Array(i);r<i;r++)n[r]=e[r];return n}function o(e,i,r,o,l){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:r,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:i._('Your upload failed because it\'s the wrong format.', 'vip.errorMessaging.message', 'Error message uploading a file format that is not supported.'),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:r,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:i._('This image is too large and can\'t be uploaded. Please try a smaller image size.', 'vip.errorMessaging.message', 'Error message uploading an image file that is too large'),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":var _,d=function(e){if(Array.isArray(e))return e}(_=s.Z.enabled("pinQuality")||null!=l&&l.isStoryPin?[300,200]:[100,100])||function(e,i){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s,t,o=[],l=!0,_=!1;try{if(s=(r=r.call(e)).next,0===i){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==i);l=!0);}catch(e){_=!0,a=e}finally{try{if(!l&&null!=r.return&&(t=r.return(),Object(t)!==t))return}finally{if(_)throw a}}return o}}(_,2)||function(e,i){if(e){if("string"==typeof e)return t(e,i);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,i)}}(_,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=d[0],u=d[1];return{dispatchId:r,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,n.nk)(i._('Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.', 'vip.errorMessaging.minImageMessage', 'Error message when uploading an image file that is smaller than the supported height and width.'),{minHeight:c,minWidth:u,pixelString:i.ngettext('pixel', 'pixels', u, 'pinBuilder.errorMessaging.pixel', 'Label for number of pixels')}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:r,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,n.nk)(i.ngettext('This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 'This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 20, 'vip.errorMessaging.message', 'Error message when uploading an image file larger than the supported size'),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:r,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:i._('This image type is invalid - please make sure the image is natively .jpg or .png', 'vip.errorMessaging.message', 'Error message uploading an image that is malformed in some way'),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:r,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,n.nk)(i.ngettext('This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel', 'This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels', 100, 'vip.errorMessaging.message', 'Error message when uploading an video file that is smaller than the supported height and width.'),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":var g=Math.floor(4);return{dispatchId:r,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,n.nk)(i.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', g, 'vip.errorMessaging.message', 'Error message uploading a video file that is shorter than required seconds.'),{minVideoLengthSeconds:g}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var p=a.W_;return{dispatchId:r,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,n.nk)(i.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} seconds.', p, 'vip.errorMessaging.storyPinVideoBelowMin.message', 'Error message uploading a video file that is shorter than required seconds.'),{minStoryPinVideoLengthSeconds:p}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:r,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:i._('The video\'s cover image must be of the same dimensions as the video itself', 'vip.errorMessaging.message', 'Error message when uploading cover image with non matching dimensions to video'),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:r,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:i._('Hmm, your upload failed for some reason. Please try again.', 'vip.errorMessaging.message', 'Error message uploading a video file and the process fails'),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:r,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,n.nk)(i.ngettext('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minute.', 'This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minutes.', 15, 'vip.errorMessaging.message', 'Error message uploading a video file that is longer than required minutes.'),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:r,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,n.nk)(i._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_seconds}} seconds.', 'vip.errorMessaging.message', 'Error message uploading a story pin video file that is longer than limit in seconds. max_video_length_seconds: Integer representing the max video length'),{max_video_length_seconds:Math.floor(a.P9)}).join(""),blocking:!0};case"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION":var h=Math.floor(a.FH)/60;return{dispatchId:r,id:"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,n.nk)(i._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{duration}} minutes.', 'vip.errorMessaging.storyPinMaxTimeLimit', 'Error message uploading a story pin video file that is longer than limit in minutes. duration: Integer representing the max video length'),{duration:h}).join(""),blocking:!0};case"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN":var m=Math.floor(null!=o?o:a.FH)/60;return{dispatchId:r,id:"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN",type:"error",message:(0,n.nk)(i._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{duration}} minutes.', 'vip.errorMessaging.storyPinMaxTimeLimit', 'Error message uploading a story pin video file that is longer than limit in minutes. duration: Integer representing the max video length'),{duration:m}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:r,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,n.nk)(i.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 2, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required gigabytes.'),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var E=a.Lr/1024/1024;return{dispatchId:r,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,n.nk)(i.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', E, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required megabytes. maxVideoFileSize: max video size for videos attempting to upload'),{maxVideoFileSize:E}).join(""),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:r,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:i._('This video isn\'t encoded in H.264', 'vip.errorMessaging.message', 'Error message uploading a video file that is malformed (generic error message)'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:r,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:i._('This video isn\'t encoded in H.264 or H.265.  Please use Safari if you want to upload ProRes videos.', 'vip.errorMessaging.message.chrome', 'Error message uploading a video file that is malformed from Chrome'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:r,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:i._('This video isn\'t encoded in H.264.  Please use Safari if you want to upload H.265 or ProRes videos.', 'vip.errorMessaging.message.firefox', 'Error message uploading a video file that is malformed from Firefox'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:r,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:i._('This video isn\'t encoded in H.264 or H.265 or ProRes.', 'vip.errorMessaging.message.safari', 'Error message uploading a video file that is malformed from Safari'),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:r,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:i._('This video is too tall or narrow and can\'t be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.', 'vip.errorMessaging.message', 'Error message uploading a video file that is not a supported aspect ratio'),blocking:!0};default:return{dispatchId:r,id:"GENERAL_ERROR",type:"error",message:i._('Hmm, something went wrong. Please try again.', 'vip.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}},744627:function(e,i,r){var n=r(512419),a=r(622270),s=r(354185);i.Z=function(e){return function(i){return new Promise(function(r,t){var o,l=new FileReader,_=((null===(o=window.navigator)||void 0===o?void 0:o.userAgent)||"").includes("Safari")?i.slice(0,i.size,"video/mp4"):i,d=URL.createObjectURL(_);l.addEventListener("load",function(){var o=document.createElement("video");o.addEventListener("loadedmetadata",function(){return r({id:(0,n.Z)(),duration:o.duration,fileSrc:i,height:o.videoHeight,name:i.name,size:i.size,src:o.src,thumbnail:0,type:"localVideo",width:o.videoWidth})}),o.addEventListener("error",function(){t((0,a.Z)((0,s.Z)(),e))}),o.src=d}),l.readAsDataURL(i)})}}},354185:function(e,i,r){r.d(i,{Z:function(){return n}});function n(){var e,i=(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)||"";if(i.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(i.includes("SamsungBrowser")||i.includes("Opera")||i.includes("OPR")||i.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(i.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(i.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(i.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/80434-c19ba833fb240b50.js.map
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[81936],{610954:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(684404),r=a(140017),i=a(819267);function s(e){var t=e.accessibilityLabel,a=e.fixedPosition,s=e.rounding,l=(0,r.ZP)();return(0,i.jsxs)(n.xu,{children:[(0,i.jsx)(n.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:a?"fixed":"absolute",right:!0,top:!0,zIndex:new n.Ry(101),children:(0,i.jsx)(n.$j,{accessibilityLabel:t||l._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,i.jsx)(n.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:a?"fixed":"absolute",right:!0,rounding:s,top:!0,zIndex:new n.Ry(100)})]})}},881936:function(e,t,a){a.d(t,{A:function(){return M},J:function(){return O}});var n=a(672652),r=a(328038),i=a(587703),s=a(342513),l=a(684404),o=a(930837),c=a(140017),d=a(554786),u=a(447749),_=a(819267);function p(e){var t=e.onClose,a=e.handleSubmit,r=e.currentViewParameter,s=e.currentComponent,p=e.isOpen,f=(0,c.ZP)(),g=(0,i.Z)(),m=(0,d.HG)(),h=f._('Dismiss modal button', 'settings.ParentalPasscodeSkipAcknowledgeModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),b=f._('Cancel', 'settings.ParentalPasscodeSkipAcknowledgeModal.cancelButton', 'Cancel button label on the modal dialog'),y=f._('Update', 'settings.ParentalPasscodeSkipAcknowledgeModal.updateButton', 'Enter button label on the modal dialog'),P=f._('Update this setting?', 'settings.ParentalPasscodeSkipAcknowledgeModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),v=f._('You may require parental passcode for future changes to this setting', 'settings.ParentalPasscodeSkipAcknowledgeModal.subHeading2', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode');(0,n.useEffect)(function(){r&&s&&g({event_type:13,view_type:7,view_parameter:r,component:s})},[r,s,g]);var x=function(){a("")},j=function(){t()};return(0,_.jsx)(n.Fragment,{children:m?(0,_.jsx)(o.ZP,{accessibilityModalLabel:f._('Parental Passcode Validate Modal', 'settings.ParentalPasscodeSkipAcknowledgeModal.accessibilityLabel', 'Parental passcode validate modal'),align:"start",closeOnOutsideClick:!0,footer:(0,_.jsxs)(l.kC,{alignItems:"center",justifyContent:"end",children:[(0,_.jsx)(l.xu,{paddingX:1,children:(0,_.jsx)(l.zx,{onClick:j,size:"lg",text:b})}),(0,_.jsx)(l.xu,{flex:"shrink",paddingX:1,children:(0,_.jsx)(l.zx,{color:"red",fullWidth:!m,onClick:x,size:"lg",text:y})})]}),heading:(0,_.jsxs)(l.kC,{justifyContent:"between",children:[(0,_.jsxs)(l.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,_.jsx)(l.X6,{accessibilityLevel:1,align:"start",size:"500",children:P}),(0,_.jsx)(l.xv,{children:v})]}),(0,_.jsx)(l.hU,{accessibilityLabel:h,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:j,size:"lg"})]}),isOpen:p,mobileAccessibilityCloseIconLabel:h,mobileIsFullscreen:!0,mobileIsSlideUp:!0,onDismiss:j,size:656}):(0,_.jsx)(u.Z,{description:v,heading:P,isOpen:p,onDismiss:j,primaryBtnParams:{text:b,color:"gray",onClick:j},secondaryBtnParams:{text:y,color:"red",onClick:x},type:"request-data"})})}var f=a(339001),g=a(610954),m=a(306187),h=a(702497),b=a(747602);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,i,s,l=[],o=!0,c=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(n=i.call(a)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{if(!o&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return P(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function v(e){var t=e.onClose,a=e.handleSubmit,s=e.errorMessage,u=e.currentViewParameter,p=e.currentComponent,P=(0,c.ZP)(),v=(0,i.Z)(),x=(0,d.HG)(),j=(0,r.TH)(),A=(0,(0,m.Z)("").getSingleValidator)("passcode"),z=y((0,n.useState)(!1),2),w=z[0],C=z[1],k=y((0,n.useState)(!1),2),S=k[0],O=k[1],M=y((0,n.useState)({value:"",error:void 0}),2),V=M[0],L=M[1],E=y((0,n.useState)(),2),I=E[0],D=E[1],B=P._('Dismiss modal button', 'settings.parentalPasscodeValidateModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),H=P._('Parental passcode required', 'settings.parentalPasscodeValidateModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),Z=(0,f.nk)(P._('Enter your 4-digit passcode to change this setting. Forgot it? {{ visitHelpCenter }}', 'settings.parentalPasscodeValidateModal.subHeading', 'Subheading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode. visitHelpCenter: Visit help center link'),{visitHelpCenter:(0,_.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(l.rU,{display:"inlineBlock",href:h.a$N,onClick:function(e){e.event.stopPropagation(),u&&p&&v({event_type:102,view_type:7,view_parameter:u,element:12765,component:p})},target:"blank",underline:"hover",children:P._('Visit our help center.', 'settings.parentalPasscodeModal.subHeading.learnMore', 'Text for learn more link')})},"learnMore")});(0,n.useEffect)(function(){u&&p&&v({event_type:13,view_type:7,view_parameter:u,component:p})},[u,p,v]),(0,n.useEffect)(function(){C(!!V.value&&!V.error)},[V]);var U=(0,n.useCallback)(function(){v({event_type:14590,view_type:7,view_parameter:u,component:14374})},[u,v]);(0,n.useEffect)(function(){var e=j.pathname.replace(/\/$/,"");s&&"/parental-passcode"!==e&&"/settings/account-settings"!==e&&(U(),O(!1)),D(s)},[s,U,j.pathname]);var X=function(e){var t=e.replace(/\s/g,"");if(!(e.length>4)){var a=(0,b.a3)(t,A);I&&D(void 0),L({value:e,error:a})}},T=function(){S||(u&&p&&v({event_type:x?101:102,view_type:7,view_parameter:u,component:p,element:11925}),t())};return(0,_.jsx)(o.ZP,{accessibilityModalLabel:P._('Parental Passcode Validate Modal', 'settings.parentalPasscodeValidateModal.accessibilityLabel', 'Parental passcode validate modal'),align:"start",closeOnOutsideClick:!S,footer:(0,_.jsxs)(l.kC,{alignItems:"center",justifyContent:x?"end":"center",children:[x?(0,_.jsx)(l.xu,{paddingX:1,children:(0,_.jsx)(l.zx,{disabled:S,onClick:T,size:"lg",text:P._('Close', 'settings.parentalPasscodeValidateModal.closeButton', 'Close button label on the modal dialog')})}):null,(0,_.jsx)(l.xu,{flex:x?"shrink":"grow",paddingX:x?1:4,children:(0,_.jsx)(l.zx,{color:"red",disabled:!w||S,fullWidth:!x,onClick:function(){O(!0),u&&p&&v({event_type:x?101:102,view_type:7,view_parameter:u,component:p,element:12019}),a(V.value),O(!1)},size:"lg",text:P._('Enter', 'settings.parentalPasscodeValidateModal.enterButton', 'Enter button label on the modal dialog')})})]}),heading:x?(0,_.jsxs)(l.kC,{justifyContent:"between",children:[(0,_.jsxs)(l.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,_.jsx)(l.X6,{accessibilityLevel:1,align:"start",size:"500",children:H}),(0,_.jsx)(l.xv,{children:Z})]}),(0,_.jsx)(l.hU,{accessibilityLabel:B,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:T,size:"lg"})]}):(0,_.jsx)(l.X6,{accessibilityLevel:"none",align:"center",size:"300",children:P._('Parental passcode', 'settings.parentalPasscodeValidateModal.headingMobile', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode')}),mobileAccessibilityCloseIconLabel:B,mobileIsFullscreen:!0,mobileIsSlideUp:!0,onDismiss:T,size:656,children:(0,_.jsx)(l.xu,{paddingX:x?6:4,paddingY:3,children:(0,_.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:x?"start":"center",children:[x?null:(0,_.jsx)(l.xu,{marginBottom:7,maxWidth:325,children:(0,_.jsxs)(l.kC,{alignItems:"center",direction:"column",children:[(0,_.jsx)(l.xu,{marginBottom:6,children:(0,_.jsx)(l.X6,{accessibilityLevel:2,align:"center",size:"500",children:H})}),(0,_.jsx)(l.xv,{align:"center",children:Z})]})}),(0,_.jsxs)(l.xu,{marginBottom:x?0:4,position:"relative",width:"100%",children:[(0,_.jsx)(l.nv,{errorMessage:V.error||I,id:"passcode",label:P._('Enter a 4-digit code', 'settings.parentalPasscodeValidateModal.passcodeLabel', 'Label for passcode field on parental passcode validate modal'),labelDisplay:x?"visible":"hidden",name:"passcode",onChange:function(e){return X(e.value)},placeholder:"XXXX",size:"lg",type:"text",value:V.value}),S?(0,_.jsx)(g.Z,{accessibilityLabel:P._('Validating Parental passcode', 'settings.parentalPasscodeModal.loadingI18nLabel', 'Accessibility label for the loading modal on Parental Passcode modal')}):null]})]})})})}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach(function(t){var n,r;n=t,r=a[t],(n=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==x(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,i,s,l=[],o=!0,c=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(n=i.call(a)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{if(!o&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(c)throw r}}return l}}(e,t)||w(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return C(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return C(e,t)}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var k=(0,s.Z)("ParentalPasscodeValidateModal"),S=k.Provider,O=k.useHook,M=function(e){var t=e.children,a=(0,i.Z)(),s=(0,r.TH)(),l=z((0,n.useState)(!1),2),o=l[0],c=l[1],d=z((0,n.useState)(),2),u=d[0],f=d[1],g=z((0,n.useState)(),2),m=g[0],h=g[1],b=z((0,n.useState)(void 0),2),y=b[0],P=b[1],x=z((0,n.useState)([]),2),j=x[0],k=x[1],O=s.pathname.replace(/\/$/,""),M="/parental-passcode"===O||"/settings/account-settings"===O,V=z((0,n.useState)(!1),2),L=V[0],E=V[1];(0,n.useEffect)(function(){if(o){var e,t=(e=O).startsWith("/settings/messages")?3709:({"/settings/permissions":3709,"/settings/edit/mentions":3709,"/settings/privacy":3707,"/settings/account-settings":3669,"/settings/edit/email":3669,"/settings/edit/password":3669,"/parental-passcode":3860})[e],a=M?14456:14374;h(t),f(a)}},[o,O,M]);var I=(0,n.useCallback)(function(e){P(void 0),j.map(function(t){return t(e||"")})},[j]),D=(0,n.useCallback)(function(e){var t=e.handlePasscodeSent,a=e.requiresUnidirectionalPasscode,n=void 0!==a&&a;k(function(e){return[].concat(function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])}),E(n),c(!0)},[]),B=(0,n.useCallback)(function(e){P(e)},[]),H=(0,n.useCallback)(function(){h(void 0),f(void 0),k([]),P(void 0),c(!1)},[]),Z=(0,n.useCallback)(function(e){e&&!M&&a({event_type:14591,view_type:7,view_parameter:m,component:14374}),H()},[H,m,a,M]),U=(0,n.useMemo)(function(){return{handleSubmit:I,errorMessage:y,onClose:H,currentViewParameter:m,currentComponent:u,isOpen:o}},[I,y,H,m,u,o]),X=(0,n.useMemo)(function(){return{getModalProps:U,closeModal:Z,isModalOpen:o,setErrorMessage:B,setModalPropsAndOpen:D}},[U,Z,o,B,D]);return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(S,{value:X,children:t}),o?L?(0,_.jsx)(p,A({},U)):(0,_.jsx)(v,A({},U)):null]})}},306187:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(140017),r=a(747602);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function s(e){var t=(0,n.ZP)(),a=(0,r.aH)({message:t._('Required', 'parentalPasscodeValidators.requiredField', 'Validation error when a required field is missing')}),s=(0,r.GT)({message:t._('Please enter a valid email address', 'parentalPasscodeValidators.enterValidEmail', 'Validation error message for an improperly formated email address')}),l=(0,r.qA)({message:t._('Please only use numbers', 'parentalPasscodeValidators.enterNumbers', 'Validation error message for an improperly formated passcode field')}),o=t._('Please enter four digits', 'parentalPasscodeValidators.enterFourDigits', 'Validation error message for passcode field length'),c=(0,r.Gy)({min:4,max:4,minErrorString:o,maxErrorString:o}),d={passcode:[a,l,c],confirmPasscode:[a,l,c],backupEmail:[a,s,function(a){var n=[];return a===e&&n.push(t._('This email address is already used for this Pinterest account.', 'parentalPasscodeValidators.enterNotCurrentEmail', 'Validation error message for using email address from the current Pinterest account')),{errors:n,warnings:[]}}],confirmBackupEmail:[a,s]},u=function(e,a){switch(e){case"confirmPasscode":return(0,r.sG)({targetValue:a.passcode.value,message:t._('Please make sure your passcodes match', 'parentalPasscodeValidators.enterMatchingPasscodes', 'Validation error message for entering not matching passcode fields')});case"confirmBackupEmail":return(0,r.sG)({targetValue:a.backupEmail.value,message:t._('Please make sure your email addresses match', 'parentalPasscodeValidators.enterMatchingEmails', 'Validation error message for entering not matching email fields')});default:return function(){return{errors:[],warnings:[]}}}};return{getSingleValidator:function(e){return d[e]},getValidators:function(e,t){var a;return[].concat(function(e){if(Array.isArray(e))return i(e)}(a=d[e])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return i(e,t)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[u(e,t)])},getMatchingValidator:u}}},447749:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(672652),r=a(684404),i=a(930837),s=a(819267);function l(e){var t=e.isOpen,a=e.onDismiss,l=e.type,o=e.textAlign,c=e.accessibilityModalLabel,d=e.heading,u=e.headingMarginTop,_=e.description,p=e.hasMultiLineDescription,f=e.primaryBtnParams,g=e.secondaryBtnParams,m=e.showDismissIcon,h=e.headingSize,b=e.closeOnOutsideClick,y=function(e,t){return e?(0,n.isValidElement)(e)?e:(0,s.jsx)(r.xu,{marginBottom:3,children:(0,s.jsx)(r.xv,{align:o||"center",children:e})},t?"description-line-".concat(t):"single-description-line"):null};return(0,s.jsx)(i.ZP,{accessibilityModalLabel:c||"",closeOnOutsideClick:b||!0,isOpen:t,mobileHideCloseIcon:!0,onDismiss:a||function(){},type:l||"",children:(0,s.jsxs)(r.xu,{padding:4,children:[(0,s.jsxs)(r.xu,{marginBottom:_?3:8,marginTop:u||0,children:[m&&a&&(0,s.jsx)(r.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:a,size:"sm"}),(0,s.jsx)(r.X6,{accessibilityLevel:1,align:o||"center",size:h||"500",children:d})]}),p&&Array.isArray(_)?_.map(function(e,t){return y(e,t)}):y(_),(0,s.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[(0,s.jsx)(r.xu,{flex:"grow",padding:1,children:(0,s.jsx)(r.zx,{accessibilityLabel:f.text,color:f.color,fullWidth:!0,onClick:f.onClick,size:"lg",text:f.text})}),g?(0,s.jsx)(r.xu,{flex:"grow",padding:1,children:(0,s.jsx)(r.zx,{accessibilityLabel:g.text,color:g.color,fullWidth:!0,onClick:g.onClick,size:"lg",text:g.text})}):null]})]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/81936-c5ae659009754410.js.map
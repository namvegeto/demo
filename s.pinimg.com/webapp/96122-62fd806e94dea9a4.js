"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[96122],{35222:function(e,r,o){var t=o(149722),a=o(785059),n=o(199677);r.Z=function(){var e=(0,t.Z)(),r=(0,a.Z)();return(0,n.lJ)(e,r)}},796122:function(e,r,o){o.d(r,{Z:function(){return ed}});var t=o(672652),a=o(684404),n=o(481177),l=o(930837),i=o(140017),s=o(339001),c=o(5859),d=o(14583),h=o(427514),u=o(13848),b=o(554786),_=o(747602),m=o(168477),f=o(205841),g=o(340523),p=o(995917),v=o(137023),y=o(675266),x=o(819267);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,t)}return o}function A(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?P(Object(o),!0).forEach(function(r){var t,a;t=r,a=o[r],(t=function(e){var r=function(e,r){if("object"!==C(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var t=o.call(e,r||"default");if("object"!==C(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===C(r)?r:String(r)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function E(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var t,a,n,l,i=[],s=!0,c=!1;try{if(n=(o=o.call(e)).next,0===r){if(Object(o)!==o)return;s=!1}else for(;!(s=(t=n.call(o)).done)&&(i.push(t.value),i.length!==r);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=o.return&&(l=o.return(),Object(l)!==l))return}finally{if(c)throw a}}return i}}(e,r)||w(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,r){if(e){if("string"==typeof e)return z(e,r);var o=Object.prototype.toString.call(e).slice(8,-1);if("Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return z(e,r)}}function z(e,r){(null==r||r>e.length)&&(r=e.length);for(var o=0,t=Array(r);o<r;o++)t[o]=e[o];return t}function S(e){var r=e.selectedContacts,o=void 0===r?[]:r,n=e.setSelectedContacts,l=(0,i.ZP)(),s=(0,(0,g.F)().checkExperiment)("sg_dweb_create_board_add_collaborators_profile").group,c=(0,p.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}).data,d=E((0,t.useState)([]),2),h=d[0],u=d[1];(0,t.useEffect)(function(){c&&"enabled_default_suggestions"===s&&u(c.map(function(e){return"email_share_suggestion"===e.type?A(A({},e),{},{id:e.email||""}):e}))},[c,s]);var b=E((0,t.useState)(""),2),_=b[0],m=b[1],C=o.map(function(e){return e.id}),P=(0,y.Z)(_)&&!C.includes(_)?{id:_,type:"email"}:null,w=[].concat(j(o),[P],j(h.filter(function(e){return!C.includes(e.id)}))).filter(Boolean),z=function(e){C.includes(e.id)?null==n||n((o||[]).filter(function(r){return r.id!==e.id})):null==n||n([].concat(j(o),[e]))};return(0,x.jsxs)(a.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,x.jsx)(a.xu,{paddingY:2,children:(0,x.jsx)(a.xv,{size:"100",children:l._('Add collaborators', 'text indicates that this section is for adding collaborators to a board', 'boardCreate.addCollaborators.heading')})}),(0,x.jsx)(a.xu,{marginBottom:4,marginTop:2,width:"100%",children:(0,x.jsx)(a.xu,{children:(0,x.jsx)(v.Z,{onTypeaheadSuggestionsChange:function(e){u(e)},resourceName:"ShareSuggestionsTypeaheadResource",value:_,children:(0,x.jsx)(a.Um,{accessibilityLabel:l._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:function(e){m(e.value)},placeholder:l._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:_})})})}),(0,x.jsx)(a.xu,{overflow:"scrollY",children:w.map(function(e){return(0,x.jsxs)(a.xu,{display:"flex",paddingY:2,children:[(0,x.jsxs)(a.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,x.jsx)(a.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,x.jsx)(a.JO,{accessibilityLabel:l._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,x.jsx)(a.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,x.jsx)(f.qE,{name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,x.jsx)(a.kC,{alignItems:"center",children:(0,x.jsx)(a.xu,{children:(0,x.jsx)(a.xv,{size:"300",children:e.id})})}):(0,x.jsxs)(a.kC,{direction:"column",justifyContent:"center",children:[(0,x.jsx)(a.xu,{marginBottom:1,children:(0,x.jsx)(a.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,x.jsx)(a.xu,{children:(0,x.jsx)(a.xv,{size:"200",children:"@".concat(e.username||"")})})]})]}),(0,x.jsx)(a.kC,{flex:"none",children:(0,x.jsx)(a.zx,{onClick:function(){return z(e)},selected:C.includes(e.id),size:"lg",text:C.includes(e.id)?l._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):l._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]},e.id)})})]})}var B=o(14774),O=function(e){var r=e.label,o=e.labelId;return o?(0,x.jsx)(a.__,{htmlFor:o,children:(0,x.jsx)(a.xv,{size:"100",children:r})}):(0,x.jsx)(a.xv,{size:"100",children:r})};function k(e){var r=e.children,o=e.label,n=e.labelId;return(0,x.jsxs)(t.Fragment,{children:[(0,x.jsx)(a.xu,{marginBottom:2,children:(0,x.jsx)(O,{label:o,labelId:n})}),r]})}function I(e,r){(null==r||r>e.length)&&(r=e.length);for(var o=0,t=Array(r);o<r;o++)t[o]=e[o];return t}function F(e){var r,o=e.coverPin,n=e.handleShowBoardCoverEditModal,l=(0,i.ZP)(),s=function(e){if(Array.isArray(e))return e}(r=(0,t.useState)(!1))||function(e,r){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var t,a,n,l,i=[],s=!0,c=!1;try{if(n=(o=o.call(e)).next,0===r){if(Object(o)!==o)return;s=!1}else for(;!(s=(t=n.call(o)).done)&&(i.push(t.value),i.length!==r);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=o.return&&(l=o.return(),Object(l)!==l))return}finally{if(c)throw a}}return i}}(r,2)||function(e,r){if(e){if("string"==typeof e)return I(e,r);var o=Object.prototype.toString.call(e).slice(8,-1);if("Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return I(e,r)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=s[0],h=s[1],u=(0,c.B)().isRTL;return(0,x.jsx)(k,{label:l._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,x.jsx)(a.xu,{position:"relative",width:138,children:(0,x.jsx)(a.iP,{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},onTap:n,rounding:4,children:null!=o&&o.custom_cover?(0,x.jsxs)(t.Fragment,{children:[(0,x.jsx)(a.zd,{height:138,rounding:4,width:138,children:(0,x.jsx)(a.Ee,{alt:o.image_url,color:"gray",fit:"cover",naturalHeight:o.size&&o.size[0]||138,naturalWidth:o.size&&o.size[0]||138,src:o.image_url})}),(0,x.jsx)(a.xu,{bottom:!0,left:u,padding:2,position:"absolute",right:!u,children:(0,x.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:d?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,x.jsx)(a.JO,{accessibilityLabel:l._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),color:"default",icon:"edit",size:16})})})]}):(0,x.jsx)(a.xu,{alignItems:"center",color:d?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,x.jsx)(a.JO,{accessibilityLabel:l._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function D(e){var r=e.children,o=e.label,n=e.labelId,l=e.subtext;return(0,x.jsx)(t.Fragment,{children:(0,x.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[r,(0,x.jsx)(a.xu,{marginStart:2,children:(0,x.jsxs)(a.__,{htmlFor:n,children:[(0,x.jsx)(a.xv,{size:"300",weight:"bold",children:o}),l]})})]})})}function T(e){var r=e.hasCollabBoardEmail,o=e.isCollaborative,t=e.onCheckboxChange,n=(0,i.ZP)();return o&&(0,x.jsx)(D,{label:n._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,x.jsx)(a.xv,{color:"subtle",size:"300",children:n._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,x.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(a.xu,{marginEnd:1,children:(0,x.jsx)(a.XZ,{checked:r,id:"emailNotificationsCheckbox",name:"email",onChange:t})})})})}var L=o(274262),M=o(847754);function Z(e){var r,o=e.board,t=e.onCollaboratorInviteClick,n=(0,i.ZP)(),l=(0,M.Z)({boardId:o.id,ownerName:null!==(r=o.owner.full_name)&&void 0!==r?r:"",ownerUsername:o.owner.username,ownerImgSrc:o.owner.image_medium_url||o.owner.image_small_url||""}),c=l.slice(0,3).map(function(e){return e.name}),d="";switch(l.length){case 3:d=(0,s.Wc)("".concat(n._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(c[0]),second:"".concat(c[1]),last:"".concat(c[2])});break;case 2:d=(0,s.Wc)("".concat(n._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(c[0]),second:"".concat(c[1])});break;default:d=c.join(", ")}var h=l.length>3?(0,s.Wc)(n.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', l.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:d,leftCount:"".concat(l.length-3)}):(0,s.Wc)("".concat(n._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:d});return(0,x.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,x.jsx)(a.HE,{accessibilityLabel:h,collaborators:l.map(function(e){var r=e.name,o=e.src;return{src:null!=o&&o.endsWith("/default_75.png")?void 0:o,name:r}}),size:"md"}),(0,x.jsx)(a.hU,{accessibilityLabel:n._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:t,size:"lg"})]})}function R(e){var r=e.board,o=e.onCollaboratorInviteClick,t=(0,i.ZP)(),n=(0,x.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(a.xv,{inline:!0,size:"100",children:t._('Collaborators', ' - ', ' -- ')}),(0,x.jsx)(L.Z,{}),(0,x.jsx)(a.xv,{inline:!0,size:"100",weight:"bold",children:(0,x.jsx)(a.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:t._('Learn more', ' - ', ' -- ')})})]});return(0,x.jsx)(k,{label:n,labelId:"collaborators",children:(0,x.jsx)(Z,{board:r,onCollaboratorInviteClick:o})})}function N(e){var r=e.collaboratorInvitesEnabled,o=e.isCollaborative,t=e.onCheckboxChange,n=(0,i.ZP)();return o&&(0,x.jsx)(D,{label:n._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,x.jsx)(a.XZ,{checked:r,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:t})})}function H(e){var r=e.description,o=e.descriptionValidatorErrors,t=e.onChange,n=(0,i.ZP)(),l="boardEditDescription";return(0,x.jsx)(k,{label:n._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:l,children:(0,x.jsx)(a.Kx,{errorMessage:o.join(", "),id:l,name:"description",onChange:t,placeholder:n._('What\'s your board about?', ' - ', ' -- '),value:r})})}var V=function(e){var r=e.children;return(0,x.jsx)(a.xu,{paddingX:8,role:"list",children:t.Children.map(r,function(e,o){return e&&(0,x.jsx)(a.xu,{marginBottom:o===t.Children.count(r)-1?1:8,role:"listitem",children:e},o)})})};function U(e){var r=e.name,o=e.nameValidatorErrors,t=e.onChange,n=e.disabled,l=(0,i.ZP)();return(0,x.jsx)(k,{label:l._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,x.jsx)(a.nv,{disabled:n,errorMessage:o.join(", "),id:"boardEditName",name:"boardName",onChange:t,placeholder:l._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:r})})}var W=function(e){var r=e.board,o=e.collabBoardEmail,t=e.collaboratorInvitesEnabled,n=e.coverPin,l=e.currentUserIsOwner,s=e.description,c=e.descriptionValidatorErrors,d=e.handleBoardLeave,h=e.isCollaborative,u=e.showCoverEdit,b=e.name,_=e.nameValidatorErrors,m=e.handleShowBoardCoverEditModal,f=e.handleChangeName,g=e.handleChangeDescription,p=e.handleShowCollaboratorsModal,v=e.handleChangeCollabBoardEmail,y=e.handleChangeCollaboratorInvitesEnabled,C=(0,i.ZP)();return(0,x.jsxs)(V,{children:[u&&(0,x.jsx)(F,{coverPin:n,handleShowBoardCoverEditModal:m}),(0,x.jsx)(U,{disabled:!0,name:b,nameValidatorErrors:_,onChange:f}),(0,x.jsx)(H,{description:s,descriptionValidatorErrors:c,onChange:g}),l&&!!d&&(0,x.jsx)(R,{board:r,onCollaboratorInviteClick:p}),h&&(0,x.jsx)(a.xu,{marginBottom:-7,children:(0,x.jsx)(a.xv,{size:"100",children:C._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,x.jsx)(T,{hasCollabBoardEmail:o,isCollaborative:h,onCheckboxChange:v}),(0,x.jsx)(N,{collaboratorInvitesEnabled:t,isCollaborative:h,onCheckboxChange:y})]})};function X(e){var r=e.isProtectedToggler,o=e.isToggleDisable,l=e.onChange,s=e.onCheckboxChange,c=e.privacy,d=(0,i.ZP)();if(!0===r)return(0,x.jsx)(D,{label:d._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,x.jsx)(a.xu,{paddingY:2,children:(0,x.jsx)(a.rs,{disabled:o,id:"protected",onChange:l,switched:c===n.Z.BoardPrivacy.PROTECTED})})});if(c!==n.Z.BoardPrivacy.PROTECTED){var h=d._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),u=(0,x.jsx)(t.Fragment,{children:(0,x.jsxs)(a.xv,{color:"subtle",size:"300",children:[d._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,x.jsx)(a.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",underline:"hover",children:d._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,x.jsx)(D,{label:h,labelId:"secret",subtext:u,children:(0,x.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(a.XZ,{checked:c===n.Z.BoardPrivacy.SECRET,disabled:o,id:"secret",name:"secret",onChange:s})})})}return null}function G(e){var r=e.allowHomefeedRecommendations,o=e.onCheckboxChange,t=(0,i.ZP)();return(0,x.jsx)(D,{label:t._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,x.jsx)(a.xv,{color:"subtle",size:"300",children:t._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,x.jsx)(a.XZ,{checked:r,id:"recommendation",name:"recommendation",onChange:o})})}function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,t)}return o}function J(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?q(Object(o),!0).forEach(function(r){er(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):q(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function K(e,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,eo(t.key),t)}}function $(e,r){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e})(e,r)}function Q(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,r,o){return(r=eo(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}function eo(e){var r=function(e,r){if("object"!==Y(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var t=o.call(e,r||"default");if("object"!==Y(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===Y(r)?r:String(r)}var et=(0,t.lazy)(function(){return Promise.all([o.e(97270),o.e(95241)]).then(o.bind(o,732420))}),ea=(0,t.lazy)(function(){return Promise.all([o.e(93810),o.e(10472),o.e(65292),o.e(15502),o.e(90476)]).then(o.bind(o,219373))}),en=function(e,r){return(0,_.Gy)({max:e,maxErrorString:(0,h.Z)(r._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})})},el=function(e){return[en(n.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)]},ei=function(e){return[(0,_.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),en(n.Z.MAX_CHARS_FOR_BOARD_TITLE,e)]},es=function(e){var r=e.condition,o=e.children;return r?(0,x.jsx)(a.xu,{position:"absolute",zIndex:l.b7,children:o}):o},ec=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&$(e,r)}(c,e);var r,o,n,i=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,o=ee(c);if(r){var t=ee(this).constructor;e=Reflect.construct(o,arguments,t)}else e=o.apply(this,arguments);return function(e,r){if(r&&("object"===Y(r)||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");return Q(e)}(this,e)});function c(e){!function(e,r){if(!(e instanceof r))throw TypeError("Cannot call a class as a function")}(this,c),er(Q(r=i.call(this,e)),"handleChangeName",function(e){var o=e.value,t=(0,_.FU)(ei(r.props.i18n),o);r.setState({name:o,nameValidatorErrors:t})}),er(Q(r),"handleChangeDescription",function(e){var o=e.value,t=(0,_.FU)(el(r.props.i18n),o);r.setState({description:o,descriptionValidatorErrors:t})}),er(Q(r),"handleChangePrivacyToggle",function(e){var o=e.value,t="public";o&&(t=r.props.isAdAccount?"protected":"secret"),r.state.privacy!==t&&r.setState({privacy:t})}),er(Q(r),"handleEnableSecret",function(){r.setState({privacy:"secret",showSecretConfirmation:!1})}),er(Q(r),"handleHideSecretConfirmation",function(){r.setState({showSecretConfirmation:!1})}),er(Q(r),"handleChangeRecommendationToggle",function(e){var o=e.value;r.setState({allowHomefeedRecommendations:o})}),er(Q(r),"handleChangeCollabBoardEmail",function(e){var o=e.value;r.setState({collab_board_email:o})}),er(Q(r),"handleChangeCollaboratorInvitesEnabled",function(e){var o=e.value;r.setState({collaboratorInvitesEnabled:o})}),er(Q(r),"handleCheckboxChange",function(e){return function(r){return e({event:r.event,value:r.checked})}}),er(Q(r),"handleSubmit",function(e){var o=r.props.onSubmit,t=r.state,a=t.collab_board_email,n=t.collaboratorInvitesEnabled,l=t.description,i=t.name,s=t.privacy,c=t.allowHomefeedRecommendations;if(e.preventDefault&&e.preventDefault(),!r.submitDisabled()){var d=i.trim(),h=l.trim();r.setState({submitting:!0,submitError:""}),o({name:d,collab_board_email:a,collaborator_invites_enabled:n,description:h,privacy:s,allow_homefeed_recommendations:c}).then(function(){r.setState({submitting:!1})}).catch(function(e){var o=r.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){var t=e.message,a=e.message_detail;o=a?"".concat(t," ").concat(a):t}else"string"==typeof e&&(o=e);r.setState({submitting:!1,submitError:o})})}}),er(Q(r),"handleShowBoardCoverEditModal",function(){r.setState({showBoardCoverEdit:!0})}),er(Q(r),"handleHideBoardCoverEditModal",function(){r.setState({showBoardCoverEdit:!1})}),er(Q(r),"handleShowCollaboratorsModal",function(){r.setState({showCollaboratorsModal:!0})}),er(Q(r),"handleHideCollaboratorsModal",function(){r.setState({showCollaboratorsModal:!1})}),er(Q(r),"handleSaveBoardCoverEditModal",function(e){r.handleHideBoardCoverEditModal();var o=r.props.onCropChange;o&&o(e)});var r,o=e.board,t=o.collab_board_email,a=o.collaborator_invites_enabled,n=o.description,l=o.name,s=o.pin_count,d=o.privacy,h=o.allow_homefeed_recommendations;return r.state={collab_board_email:t,description:n,name:l,pin_count:s,privacy:d,allowHomefeedRecommendations:h,collaboratorInvitesEnabled:a,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:l,previousDescription:n,previousPrivacy:d},r}return o=[{key:"getFormFooter",value:function(){var e=this.props.submitText,r=this.state.submitError;return(0,x.jsxs)(t.Fragment,{children:[(0,x.jsx)(a.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,x.jsx)(a.xu,{children:(0,x.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsx)(a.xu,{height:48,children:(0,x.jsx)(a.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),r&&(0,x.jsx)(a.xu,{"aria-live":"polite",paddingX:1,tabIndex:"0",children:(0,x.jsx)(a.xv,{color:"error",children:r})})]})}},{key:"submitDisabled",value:function(){var e=this.state,r=e.descriptionValidatorErrors,o=e.name,t=e.nameValidatorErrors,a=e.submitting;return!o||t.length>0||r.length>0||a}},{key:"render",value:function(){var e=this.props,r=e.board,o=e.board,n=o.archived_by_me_at,i=o.cover_pin,c=o.id,h=o.is_collaborative,u=e.coverImageHeight,b=e.coverImageWidth,_=e.currentUserIsOwner,f=e.handleBoardLeave,g=e.isAdAccount,p=e.isAdAccountOwner,v=e.isDeletable,y=e.isDesktop,C=e.isEditable,j=e.isNameAndSecretView,P=e.onClose,A=e.onDeleteButtonClick,E=e.requestContext,w=e.title,z=e.useModalWithNoLayer,O=e.showSecretBoardCreateToggle,k=e.shouldShowAddCollaborators,I=e.setSelectedContacts,D=e.selectedContacts,L=this.state,M=L.allowHomefeedRecommendations,Z=L.collab_board_email,Y=L.collaboratorInvitesEnabled,q=L.description,J=L.descriptionValidatorErrors,K=L.name,$=L.nameValidatorErrors,Q=L.pin_count,ee=L.privacy,er=L.showBoardCoverEdit,eo=L.showCollaboratorsModal,en=L.showSecretConfirmation,el=C&&Q>0,ei=r.is_ads_only,ec=(0,x.jsxs)(V,{children:[el&&(0,x.jsx)(F,{coverPin:i,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,x.jsx)(U,{disabled:ei,name:K,nameValidatorErrors:$,onChange:this.handleChangeName}),(0,x.jsx)(H,{description:q,descriptionValidatorErrors:J,onChange:this.handleChangeDescription}),_&&!!f&&(0,x.jsx)(R,{board:r,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,x.jsx)(a.xu,{marginBottom:-7,children:(0,x.jsx)(a.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,x.jsx)(X,{isProtectedToggler:!!g,isToggleDisable:!!g&&!p,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ee}),!n&&(0,x.jsx)(G,{allowHomefeedRecommendations:M,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,x.jsx)(T,{hasCollabBoardEmail:Z,isCollaborative:h,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,x.jsx)(N,{collaboratorInvitesEnabled:Y,isCollaborative:h,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),v&&(0,x.jsxs)(a.xu,{marginTop:-6,paddingY:4,children:[(0,x.jsx)(a.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,x.jsxs)(a.iP,{onTap:A,children:[(0,x.jsx)(a.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,x.jsx)(a.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,x.jsx)(a.xv,{color:"subtle",size:"300",children:(0,s.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:m.Xq})})]})]})]});_?j&&(ec=(0,x.jsxs)(V,{children:[(0,x.jsx)(U,{disabled:ei,name:K,nameValidatorErrors:$,onChange:this.handleChangeName}),!O&&(0,x.jsx)(X,{isProtectedToggler:!!g,isToggleDisable:!!g&&!p,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ee}),k&&(0,x.jsx)(S,{selectedContacts:D,setSelectedContacts:I})]})):ec=(0,x.jsxs)(V,{children:[!!f&&(0,x.jsx)(R,{board:r,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,x.jsx)(T,{hasCollabBoardEmail:Z,isCollaborative:h,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!n&&ei&&(0,x.jsx)(G,{allowHomefeedRecommendations:M,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,x.jsx)(a.xv,{color:"subtle",size:"300",children:(0,s.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,x.jsx)(a.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:r.owner.full_name})})})]});var ed=z?a.u_:l.ZP,eh=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),eu=(0,x.jsxs)(a.xu,{paddingY:8,position:"relative",children:[(0,x.jsx)(a.X6,{align:"center",size:"500",children:eh}),(0,x.jsx)(a.xu,{left:E.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!E.isRTL,top:!0,children:(0,x.jsx)(a.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,x.jsxs)(t.Fragment,{children:[(0,x.jsx)(es,{condition:!!z,children:!er&&!eo&&(0,x.jsx)(ed,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),footer:this.getFormFooter(),heading:w,onDismiss:P,size:"sm",children:(0,x.jsx)(a.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,x.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!ei&&ec,ei&&(0,x.jsx)(W,{board:r,collabBoardEmail:Z,collaboratorInvitesEnabled:Y,coverPin:i,currentUserIsOwner:_,description:q,descriptionValidatorErrors:J,handleBoardLeave:f,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:h,name:K,nameValidatorErrors:$,showCoverEdit:el})]})})})}),er&&y&&(0,x.jsx)(d.Z,{children:(0,x.jsx)(et,{boardId:c,boardName:K,coverPinId:null==i?void 0:i.pin_id,frameHeight:u,frameWidth:b,heading:eu,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),en&&(0,x.jsx)(B.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),eo&&(0,x.jsx)(d.Z,{children:(0,x.jsx)(ea,{board:r,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}],n=[{key:"getDerivedStateFromProps",value:function(e,r){var o={};return e.board.name&&e.board.name!==r.previousName&&(o.previousName=e.board.name,o.nameValidatorErrors=(0,_.FU)(ei(e.i18n),e.board.name)),e.board.description&&e.board.description!==r.previousDescription&&(o.previousDescription=e.board.description,o.descriptionValidatorErrors=(0,_.FU)(el(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==r.previousPrivacy&&(o.previousPrivacy=e.board.privacy),o}}],o&&K(c.prototype,o),n&&K(c,n),Object.defineProperty(c,"prototype",{writable:!1}),c}(t.Component);function ed(e){var r=(0,i.ZP)(),o=(0,b.ZP)();return(0,x.jsx)(ec,J(J({},e),{},{i18n:r,isDesktop:"desktop"===o,requestContext:(0,c.B)(),toastManagerContext:(0,u.F9)()}))}er(ec,"defaultProps",{isNameAndSecretView:!1})},14774:function(e,r,o){o.d(r,{Z:function(){return i}});var t=o(684404),a=o(930837),n=o(140017),l=o(819267);function i(e){var r=e.cancelButtonLabel,o=e.confirmButtonLabel,i=e.heading,s=e.message,c=e.onCancel,d=e.onConfirm,h=(0,n.ZP)(),u=i||h._('Are you sure?', ' - ', ' -- '),b=r||h._('Cancel', ' - ', ' -- ');return(0,l.jsx)(a.ZP,{accessibilityModalLabel:u,footer:(0,l.jsxs)(t.xu,{marginEnd:-1,marginStart:-1,children:[(0,l.jsx)(t.xu,{"data-test-id":"cancel-button",padding:1,children:(0,l.jsx)(t.zx,{fullWidth:!0,onClick:c,size:"lg",text:b})}),(0,l.jsx)(t.xu,{"data-test-id":"confirm-button",padding:1,children:(0,l.jsx)(t.zx,{color:"red",fullWidth:!0,onClick:d,size:"lg",text:o})})]}),heading:u,onDismiss:c,role:"alertdialog",children:(0,l.jsx)(t.xu,{padding:4,children:(0,l.jsx)(t.xv,{children:s})})})}},847754:function(e,r,o){o.d(r,{I:function(){return d}});var t=o(340523),a=o(995917),n=o(35222),l=["children"];function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,t)}return o}var c=function(e){var r=e.boardId,o=e.ownerUsername,l=e.ownerName,c=e.ownerImgSrc,d=(0,t.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,h=(0,n.Z)(),u=(0,a.Z)({name:"BoardInvitesResource",options:function(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?s(Object(o),!0).forEach(function(r){var t,a;t=r,a=o[r],(t=function(e){var r=function(e,r){if("object"!==i(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var t=o.call(e,r||"default");if("object"!==i(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===i(r)?r:String(r)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}({board_id:r,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},d&&h?{orbac_subject_id:h}:{})}),b=u.data,_=u.isLoaded,m=[{name:l,src:c,href:"/".concat(o,"/"),isDim:!1}];return _&&b&&b.length>0&&b.forEach(function(e){m.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?"/".concat(e.invited_user.username,"/"):"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),m};function d(e){return(0,e.children)(c(function(e,r){if(null==e)return{};var o,t,a=function(e,r){if(null==e)return{};var o,t,a={},n=Object.keys(e);for(t=0;t<n.length;t++)o=n[t],r.indexOf(o)>=0||(a[o]=e[o]);return a}(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)o=n[t],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}(e,l)))}r.Z=c}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/96122-62fd806e94dea9a4.js.map